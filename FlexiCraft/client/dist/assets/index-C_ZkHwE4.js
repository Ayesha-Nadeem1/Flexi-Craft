var qR=Object.defineProperty;var yw=n=>{throw TypeError(n)};var YR=(n,e,t)=>e in n?qR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var I=(n,e,t)=>YR(n,typeof e!="symbol"?e+"":e,t),j0=(n,e,t)=>e.has(n)||yw("Cannot "+t);var d=(n,e,t)=>(j0(n,e,"read from private field"),t?t.call(n):e.get(n)),k=(n,e,t)=>e.has(n)?yw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),S=(n,e,t,i)=>(j0(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),A=(n,e,t)=>(j0(n,e,"access private method"),t);var Cn=(n,e,t,i)=>({set _(s){S(n,e,s,t)},get _(){return d(n,e,i)}});function KR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function fA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pA={exports:{}},Bm={},gA={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),JR=Symbol.for("react.fragment"),QR=Symbol.for("react.strict_mode"),eL=Symbol.for("react.profiler"),tL=Symbol.for("react.provider"),nL=Symbol.for("react.context"),iL=Symbol.for("react.forward_ref"),sL=Symbol.for("react.suspense"),rL=Symbol.for("react.memo"),oL=Symbol.for("react.lazy"),vw=Symbol.iterator;function aL(n){return n===null||typeof n!="object"?null:(n=vw&&n[vw]||n["@@iterator"],typeof n=="function"?n:null)}var mA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA=Object.assign,vA={};function ru(n,e,t){this.props=n,this.context=e,this.refs=vA,this.updater=t||mA}ru.prototype.isReactComponent={};ru.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ru.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bA(){}bA.prototype=ru.prototype;function Ex(n,e,t){this.props=n,this.context=e,this.refs=vA,this.updater=t||mA}var Ax=Ex.prototype=new bA;Ax.constructor=Ex;yA(Ax,ru.prototype);Ax.isPureReactComponent=!0;var bw=Array.isArray,xA=Object.prototype.hasOwnProperty,kx={current:null},wA={key:!0,ref:!0,__self:!0,__source:!0};function _A(n,e,t){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)xA.call(e,i)&&!wA.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Pf,type:n,key:r,ref:o,props:s,_owner:kx.current}}function lL(n,e){return{$$typeof:Pf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Cx(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pf}function cL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var xw=/\/+/g;function F0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cL(""+n.key):e.toString(36)}function Np(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Pf:case ZR:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+F0(o,0):i,bw(s)?(t="",n!=null&&(t=n.replace(xw,"$&/")+"/"),Np(s,e,t,"",function(c){return c})):s!=null&&(Cx(s)&&(s=lL(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xw,"$&/")+"/")+n)),e.push(s)),1;if(o=0,i=i===""?".":i+":",bw(n))for(var a=0;a<n.length;a++){r=n[a];var l=i+F0(r,a);o+=Np(r,e,t,l,s)}else if(l=aL(n),typeof l=="function")for(n=l.call(n),a=0;!(r=n.next()).done;)r=r.value,l=i+F0(r,a++),o+=Np(r,e,t,l,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yf(n,e,t){if(n==null)return n;var i=[],s=0;return Np(n,i,"","",function(r){return e.call(t,r,s++)}),i}function uL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ln={current:null},Ip={transition:null},hL={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Ip,ReactCurrentOwner:kx};function SA(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Yf,forEach:function(n,e,t){Yf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Yf(n,function(){e++}),e},toArray:function(n){return Yf(n,function(e){return e})||[]},only:function(n){if(!Cx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};oe.Component=ru;oe.Fragment=JR;oe.Profiler=eL;oe.PureComponent=Ex;oe.StrictMode=QR;oe.Suspense=sL;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hL;oe.act=SA;oe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=yA({},n.props),s=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=kx.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)xA.call(e,l)&&!wA.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Pf,type:n.type,key:s,ref:r,props:i,_owner:o}};oe.createContext=function(n){return n={$$typeof:nL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tL,_context:n},n.Consumer=n};oe.createElement=_A;oe.createFactory=function(n){var e=_A.bind(null,n);return e.type=n,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(n){return{$$typeof:iL,render:n}};oe.isValidElement=Cx;oe.lazy=function(n){return{$$typeof:oL,_payload:{_status:-1,_result:n},_init:uL}};oe.memo=function(n,e){return{$$typeof:rL,type:n,compare:e===void 0?null:e}};oe.startTransition=function(n){var e=Ip.transition;Ip.transition={};try{n()}finally{Ip.transition=e}};oe.unstable_act=SA;oe.useCallback=function(n,e){return ln.current.useCallback(n,e)};oe.useContext=function(n){return ln.current.useContext(n)};oe.useDebugValue=function(){};oe.useDeferredValue=function(n){return ln.current.useDeferredValue(n)};oe.useEffect=function(n,e){return ln.current.useEffect(n,e)};oe.useId=function(){return ln.current.useId()};oe.useImperativeHandle=function(n,e,t){return ln.current.useImperativeHandle(n,e,t)};oe.useInsertionEffect=function(n,e){return ln.current.useInsertionEffect(n,e)};oe.useLayoutEffect=function(n,e){return ln.current.useLayoutEffect(n,e)};oe.useMemo=function(n,e){return ln.current.useMemo(n,e)};oe.useReducer=function(n,e,t){return ln.current.useReducer(n,e,t)};oe.useRef=function(n){return ln.current.useRef(n)};oe.useState=function(n){return ln.current.useState(n)};oe.useSyncExternalStore=function(n,e,t){return ln.current.useSyncExternalStore(n,e,t)};oe.useTransition=function(){return ln.current.useTransition()};oe.version="18.3.1";gA.exports=oe;var R=gA.exports;const Li=fA(R),dL=KR({__proto__:null,default:Li},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL=R,pL=Symbol.for("react.element"),gL=Symbol.for("react.fragment"),mL=Object.prototype.hasOwnProperty,yL=fL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vL={key:!0,ref:!0,__self:!0,__source:!0};function EA(n,e,t){var i,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)mL.call(e,i)&&!vL.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:pL,type:n,key:r,ref:o,props:s,_owner:yL.current}}Bm.Fragment=gL;Bm.jsx=EA;Bm.jsxs=EA;pA.exports=Bm;var v=pA.exports,Hy={},AA={exports:{}},$n={},kA={exports:{}},CA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,U){var K=D.length;D.push(U);e:for(;0<K;){var ae=K-1>>>1,J=D[ae];if(0<s(J,U))D[ae]=U,D[K]=J,K=ae;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],K=D.pop();if(K!==U){D[0]=K;e:for(var ae=0,J=D.length,ce=J>>>1;ae<ce;){var Ee=2*(ae+1)-1,Be=D[Ee],me=Ee+1,ve=D[me];if(0>s(Be,K))me<J&&0>s(ve,Be)?(D[ae]=ve,D[me]=K,ae=me):(D[ae]=Be,D[Ee]=K,ae=Ee);else if(me<J&&0>s(ve,K))D[ae]=ve,D[me]=K,ae=me;else break e}}return U}function s(D,U){var K=D.sortIndex-U.sortIndex;return K!==0?K:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var U=t(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=D)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function _(D){if(m=!1,w(D),!g)if(t(l)!==null)g=!0,q(E);else{var U=t(c);U!==null&&F(_,U.startTime-D)}}function E(D,U){g=!1,m&&(m=!1,y(P),P=-1),p=!0;var K=f;try{for(w(U),h=t(l);h!==null&&(!(h.expirationTime>U)||D&&!N());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var J=ae(h.expirationTime<=U);U=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&i(l),w(U)}else i(l);h=t(l)}if(h!==null)var ce=!0;else{var Ee=t(c);Ee!==null&&F(_,Ee.startTime-U),ce=!1}return ce}finally{h=null,f=K,p=!1}}var C=!1,T=null,P=-1,L=5,M=-1;function N(){return!(n.unstable_now()-M<L)}function z(){if(T!==null){var D=n.unstable_now();M=D;var U=!0;try{U=T(!0,D)}finally{U?$():(C=!1,T=null)}}else C=!1}var $;if(typeof x=="function")$=function(){x(z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=z,$=function(){W.postMessage(null)}}else $=function(){b(z,0)};function q(D){T=D,C||(C=!0,$())}function F(D,U){P=b(function(){D(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(E))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var K=f;f=U;try{return D()}finally{f=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=f;f=D;try{return U()}finally{f=K}},n.unstable_scheduleCallback=function(D,U,K){var ae=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,D={id:u++,callback:U,priorityLevel:D,startTime:K,expirationTime:J,sortIndex:-1},K>ae?(D.sortIndex=K,e(c,D),t(l)===null&&D===t(c)&&(m?(y(P),P=-1):m=!0,F(_,K-ae))):(D.sortIndex=J,e(l,D),g||p||(g=!0,q(E))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var U=f;return function(){var K=f;f=U;try{return D.apply(this,arguments)}finally{f=K}}}})(CA);kA.exports=CA;var bL=kA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL=R,Vn=bL;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TA=new Set,xh={};function cl(n,e){Yc(n,e),Yc(n+"Capture",e)}function Yc(n,e){for(xh[n]=e,n=0;n<e.length;n++)TA.add(e[n])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),By=Object.prototype.hasOwnProperty,wL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ww={},_w={};function _L(n){return By.call(_w,n)?!0:By.call(ww,n)?!1:wL.test(n)?_w[n]=!0:(ww[n]=!0,!1)}function SL(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function EL(n,e,t,i){if(e===null||typeof e>"u"||SL(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(n,e,t,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jt[n]=new cn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jt[e]=new cn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jt[n]=new cn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jt[n]=new cn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jt[n]=new cn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jt[n]=new cn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jt[n]=new cn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jt[n]=new cn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jt[n]=new cn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Tx=/[\-:]([a-z])/g;function Px(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Tx,Px);jt[e]=new cn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Tx,Px);jt[e]=new cn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Tx,Px);jt[e]=new cn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jt[n]=new cn(n,1,!1,n.toLowerCase(),null,!1,!1)});jt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jt[n]=new cn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Rx(n,e,t,i){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EL(e,t,s,i)&&(t=null),i||s===null?_L(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var pr=xL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kf=Symbol.for("react.element"),Rl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),LA=Symbol.for("react.offscreen"),Sw=Symbol.iterator;function pu(n){return n===null||typeof n!="object"?null:(n=Sw&&n[Sw]||n["@@iterator"],typeof n=="function"?n:null)}var Xe=Object.assign,z0;function Mu(n){if(z0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);z0=e&&e[1]||""}return`
`+z0+n}var H0=!1;function B0(n,e){if(!n||H0)return"";H0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{H0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Mu(n):""}function AL(n){switch(n.tag){case 5:return Mu(n.type);case 16:return Mu("Lazy");case 13:return Mu("Suspense");case 19:return Mu("SuspenseList");case 0:case 2:case 15:return n=B0(n.type,!1),n;case 11:return n=B0(n.type.render,!1),n;case 1:return n=B0(n.type,!0),n;default:return""}}function $y(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ll:return"Fragment";case Rl:return"Portal";case Uy:return"Profiler";case Lx:return"StrictMode";case Wy:return"Suspense";case Vy:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case RA:return(n.displayName||"Context")+".Consumer";case PA:return(n._context.displayName||"Context")+".Provider";case Mx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ox:return e=n.displayName||null,e!==null?e:$y(n.type)||"Memo";case Sr:e=n._payload,n=n._init;try{return $y(n(e))}catch{}}return null}function kL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $y(e);case 8:return e===Lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function MA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CL(n){var e=MA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Zf(n){n._valueTracker||(n._valueTracker=CL(n))}function OA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=MA(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Pg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gy(n,e){var t=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ew(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=fo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DA(n,e){e=e.checked,e!=null&&Rx(n,"checked",e,!1)}function Xy(n,e){DA(n,e);var t=fo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?qy(n,e.type,t):e.hasOwnProperty("defaultValue")&&qy(n,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Aw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function qy(n,e,t){(e!=="number"||Pg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ou=Array.isArray;function Wl(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+fo(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function Yy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function kw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Ou(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:fo(t)}}function NA(n,e){var t=fo(e.value),i=fo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Cw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function IA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ky(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?IA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jf,jA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Jf=Jf||document.createElement("div"),Jf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TL=["Webkit","ms","Moz","O"];Object.keys(ih).forEach(function(n){TL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ih[e]=ih[n]})});function FA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ih.hasOwnProperty(n)&&ih[n]?(""+e).trim():e+"px"}function zA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=FA(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var PL=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zy(n,e){if(e){if(PL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Jy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=null;function Dx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ev=null,Vl=null,$l=null;function Tw(n){if(n=Mf(n)){if(typeof ev!="function")throw Error(j(280));var e=n.stateNode;e&&(e=Gm(e),ev(n.stateNode,n.type,e))}}function HA(n){Vl?$l?$l.push(n):$l=[n]:Vl=n}function BA(){if(Vl){var n=Vl,e=$l;if($l=Vl=null,Tw(n),e)for(n=0;n<e.length;n++)Tw(e[n])}}function UA(n,e){return n(e)}function WA(){}var U0=!1;function VA(n,e,t){if(U0)return n(e,t);U0=!0;try{return UA(n,e,t)}finally{U0=!1,(Vl!==null||$l!==null)&&(WA(),BA())}}function _h(n,e){var t=n.stateNode;if(t===null)return null;var i=Gm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var tv=!1;if(lr)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){tv=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{tv=!1}function RL(n,e,t,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var sh=!1,Rg=null,Lg=!1,nv=null,LL={onError:function(n){sh=!0,Rg=n}};function ML(n,e,t,i,s,r,o,a,l){sh=!1,Rg=null,RL.apply(LL,arguments)}function OL(n,e,t,i,s,r,o,a,l){if(ML.apply(this,arguments),sh){if(sh){var c=Rg;sh=!1,Rg=null}else throw Error(j(198));Lg||(Lg=!0,nv=c)}}function ul(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function $A(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Pw(n){if(ul(n)!==n)throw Error(j(188))}function DL(n){var e=n.alternate;if(!e){if(e=ul(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return Pw(s),n;if(r===i)return Pw(s),e;r=r.sibling}throw Error(j(188))}if(t.return!==i.return)t=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==i)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function GA(n){return n=DL(n),n!==null?XA(n):null}function XA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=XA(n);if(e!==null)return e;n=n.sibling}return null}var qA=Vn.unstable_scheduleCallback,Rw=Vn.unstable_cancelCallback,NL=Vn.unstable_shouldYield,IL=Vn.unstable_requestPaint,et=Vn.unstable_now,jL=Vn.unstable_getCurrentPriorityLevel,Nx=Vn.unstable_ImmediatePriority,YA=Vn.unstable_UserBlockingPriority,Mg=Vn.unstable_NormalPriority,FL=Vn.unstable_LowPriority,KA=Vn.unstable_IdlePriority,Um=null,us=null;function zL(n){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Um,n,void 0,(n.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:UL,HL=Math.log,BL=Math.LN2;function UL(n){return n>>>=0,n===0?32:31-(HL(n)/BL|0)|0}var Qf=64,ep=4194304;function Du(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Og(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?i=Du(a):(r&=o,r!==0&&(i=Du(r)))}else o=t&~s,o!==0?i=Du(o):r!==0&&(i=Du(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Mi(e),s=1<<t,i|=n[t],e&=~s;return i}function WL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VL(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-Mi(r),a=1<<o,l=s[o];l===-1?(!(a&t)||a&i)&&(s[o]=WL(a,e)):l<=e&&(n.expiredLanes|=a),r&=~a}}function iv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ZA(){var n=Qf;return Qf<<=1,!(Qf&4194240)&&(Qf=64),n}function W0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Rf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Mi(e),n[e]=t}function $L(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Mi(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function Ix(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Mi(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var Se=0;function JA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var QA,jx,e2,t2,n2,sv=!1,tp=[],no=null,io=null,so=null,Sh=new Map,Eh=new Map,Ar=[],GL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(n,e){switch(n){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(e.pointerId)}}function mu(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Mf(e),e!==null&&jx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function XL(n,e,t,i,s){switch(e){case"focusin":return no=mu(no,n,e,t,i,s),!0;case"dragenter":return io=mu(io,n,e,t,i,s),!0;case"mouseover":return so=mu(so,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return Sh.set(r,mu(Sh.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Eh.set(r,mu(Eh.get(r)||null,n,e,t,i,s)),!0}return!1}function i2(n){var e=Bo(n.target);if(e!==null){var t=ul(e);if(t!==null){if(e=t.tag,e===13){if(e=$A(t),e!==null){n.blockedOn=e,n2(n.priority,function(){e2(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=rv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Qy=i,t.target.dispatchEvent(i),Qy=null}else return e=Mf(t),e!==null&&jx(e),n.blockedOn=t,!1;e.shift()}return!0}function Mw(n,e,t){jp(n)&&t.delete(e)}function qL(){sv=!1,no!==null&&jp(no)&&(no=null),io!==null&&jp(io)&&(io=null),so!==null&&jp(so)&&(so=null),Sh.forEach(Mw),Eh.forEach(Mw)}function yu(n,e){n.blockedOn===e&&(n.blockedOn=null,sv||(sv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,qL)))}function Ah(n){function e(s){return yu(s,n)}if(0<tp.length){yu(tp[0],n);for(var t=1;t<tp.length;t++){var i=tp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(no!==null&&yu(no,n),io!==null&&yu(io,n),so!==null&&yu(so,n),Sh.forEach(e),Eh.forEach(e),t=0;t<Ar.length;t++)i=Ar[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ar.length&&(t=Ar[0],t.blockedOn===null);)i2(t),t.blockedOn===null&&Ar.shift()}var Gl=pr.ReactCurrentBatchConfig,Dg=!0;function YL(n,e,t,i){var s=Se,r=Gl.transition;Gl.transition=null;try{Se=1,Fx(n,e,t,i)}finally{Se=s,Gl.transition=r}}function KL(n,e,t,i){var s=Se,r=Gl.transition;Gl.transition=null;try{Se=4,Fx(n,e,t,i)}finally{Se=s,Gl.transition=r}}function Fx(n,e,t,i){if(Dg){var s=rv(n,e,t,i);if(s===null)Q0(n,e,i,Ng,t),Lw(n,i);else if(XL(s,n,e,t,i))i.stopPropagation();else if(Lw(n,i),e&4&&-1<GL.indexOf(n)){for(;s!==null;){var r=Mf(s);if(r!==null&&QA(r),r=rv(n,e,t,i),r===null&&Q0(n,e,i,Ng,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else Q0(n,e,i,null,t)}}var Ng=null;function rv(n,e,t,i){if(Ng=null,n=Dx(i),n=Bo(n),n!==null)if(e=ul(n),e===null)n=null;else if(t=e.tag,t===13){if(n=$A(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ng=n,null}function s2(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jL()){case Nx:return 1;case YA:return 4;case Mg:case FL:return 16;case KA:return 536870912;default:return 16}default:return 16}}var Yr=null,zx=null,Fp=null;function r2(){if(Fp)return Fp;var n,e=zx,t=e.length,i,s="value"in Yr?Yr.value:Yr.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===s[r-i];i++);return Fp=s.slice(n,1<i?1-i:void 0)}function zp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function np(){return!0}function Ow(){return!1}function Gn(n){function e(t,i,s,r,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?np:Ow,this.isPropagationStopped=Ow,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),e}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hx=Gn(ou),Lf=Xe({},ou,{view:0,detail:0}),ZL=Gn(Lf),V0,$0,vu,Wm=Xe({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vu&&(vu&&n.type==="mousemove"?(V0=n.screenX-vu.screenX,$0=n.screenY-vu.screenY):$0=V0=0,vu=n),V0)},movementY:function(n){return"movementY"in n?n.movementY:$0}}),Dw=Gn(Wm),JL=Xe({},Wm,{dataTransfer:0}),QL=Gn(JL),eM=Xe({},Lf,{relatedTarget:0}),G0=Gn(eM),tM=Xe({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),nM=Gn(tM),iM=Xe({},ou,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sM=Gn(iM),rM=Xe({},ou,{data:0}),Nw=Gn(rM),oM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cM(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=lM[n])?!!e[n]:!1}function Bx(){return cM}var uM=Xe({},Lf,{key:function(n){if(n.key){var e=oM[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=zp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?aM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bx,charCode:function(n){return n.type==="keypress"?zp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hM=Gn(uM),dM=Xe({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=Gn(dM),fM=Xe({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bx}),pM=Gn(fM),gM=Xe({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),mM=Gn(gM),yM=Xe({},Wm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vM=Gn(yM),bM=[9,13,27,32],Ux=lr&&"CompositionEvent"in window,rh=null;lr&&"documentMode"in document&&(rh=document.documentMode);var xM=lr&&"TextEvent"in window&&!rh,o2=lr&&(!Ux||rh&&8<rh&&11>=rh),jw=" ",Fw=!1;function a2(n,e){switch(n){case"keyup":return bM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ml=!1;function wM(n,e){switch(n){case"compositionend":return l2(e);case"keypress":return e.which!==32?null:(Fw=!0,jw);case"textInput":return n=e.data,n===jw&&Fw?null:n;default:return null}}function _M(n,e){if(Ml)return n==="compositionend"||!Ux&&a2(n,e)?(n=r2(),Fp=zx=Yr=null,Ml=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o2&&e.locale!=="ko"?null:e.data;default:return null}}var SM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SM[n.type]:e==="textarea"}function c2(n,e,t,i){HA(i),e=Ig(e,"onChange"),0<e.length&&(t=new Hx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var oh=null,kh=null;function EM(n){x2(n,0)}function Vm(n){var e=Nl(n);if(OA(e))return n}function AM(n,e){if(n==="change")return e}var u2=!1;if(lr){var X0;if(lr){var q0="oninput"in document;if(!q0){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),q0=typeof Hw.oninput=="function"}X0=q0}else X0=!1;u2=X0&&(!document.documentMode||9<document.documentMode)}function Bw(){oh&&(oh.detachEvent("onpropertychange",h2),kh=oh=null)}function h2(n){if(n.propertyName==="value"&&Vm(kh)){var e=[];c2(e,kh,n,Dx(n)),VA(EM,e)}}function kM(n,e,t){n==="focusin"?(Bw(),oh=e,kh=t,oh.attachEvent("onpropertychange",h2)):n==="focusout"&&Bw()}function CM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vm(kh)}function TM(n,e){if(n==="click")return Vm(e)}function PM(n,e){if(n==="input"||n==="change")return Vm(e)}function RM(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ni=typeof Object.is=="function"?Object.is:RM;function Ch(n,e){if(Ni(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!By.call(e,s)||!Ni(n[s],e[s]))return!1}return!0}function Uw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ww(n,e){var t=Uw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Uw(t)}}function d2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?d2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function f2(){for(var n=window,e=Pg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Pg(n.document)}return e}function Wx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function LM(n){var e=f2(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&d2(t.ownerDocument.documentElement,t)){if(i!==null&&Wx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=Ww(t,r);var o=Ww(t,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var MM=lr&&"documentMode"in document&&11>=document.documentMode,Ol=null,ov=null,ah=null,av=!1;function Vw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;av||Ol==null||Ol!==Pg(i)||(i=Ol,"selectionStart"in i&&Wx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ah&&Ch(ah,i)||(ah=i,i=Ig(ov,"onSelect"),0<i.length&&(e=new Hx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ol)))}function ip(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Dl={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},Y0={},p2={};lr&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function $m(n){if(Y0[n])return Y0[n];if(!Dl[n])return n;var e=Dl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in p2)return Y0[n]=e[t];return n}var g2=$m("animationend"),m2=$m("animationiteration"),y2=$m("animationstart"),v2=$m("transitionend"),b2=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(n,e){b2.set(n,e),cl(e,[n])}for(var K0=0;K0<$w.length;K0++){var Z0=$w[K0],OM=Z0.toLowerCase(),DM=Z0[0].toUpperCase()+Z0.slice(1);bo(OM,"on"+DM)}bo(g2,"onAnimationEnd");bo(m2,"onAnimationIteration");bo(y2,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(v2,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function Gw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,OL(i,e,void 0,n),n.currentTarget=null}function x2(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Gw(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Gw(s,a,c),r=l}}}if(Lg)throw n=nv,Lg=!1,nv=null,n}function Ie(n,e){var t=e[dv];t===void 0&&(t=e[dv]=new Set);var i=n+"__bubble";t.has(i)||(w2(e,n,2,!1),t.add(i))}function J0(n,e,t){var i=0;e&&(i|=4),w2(t,n,i,e)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Th(n){if(!n[sp]){n[sp]=!0,TA.forEach(function(t){t!=="selectionchange"&&(NM.has(t)||J0(t,!1,n),J0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sp]||(e[sp]=!0,J0("selectionchange",!1,e))}}function w2(n,e,t,i){switch(s2(e)){case 1:var s=YL;break;case 4:s=KL;break;default:s=Fx}t=s.bind(null,e,t,n),s=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Q0(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}VA(function(){var c=r,u=Dx(t),h=[];e:{var f=b2.get(n);if(f!==void 0){var p=Hx,g=n;switch(n){case"keypress":if(zp(t)===0)break e;case"keydown":case"keyup":p=hM;break;case"focusin":g="focus",p=G0;break;case"focusout":g="blur",p=G0;break;case"beforeblur":case"afterblur":p=G0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pM;break;case g2:case m2:case y2:p=nM;break;case v2:p=mM;break;case"scroll":p=ZL;break;case"wheel":p=vM;break;case"copy":case"cut":case"paste":p=sM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Iw}var m=(e&4)!==0,b=!m&&n==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var x=c,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=_h(x,y),_!=null&&m.push(Ph(x,_,w)))),b)break;x=x.return}0<m.length&&(f=new p(f,g,null,t,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Qy&&(g=t.relatedTarget||t.fromElement)&&(Bo(g)||g[cr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Bo(g):null,g!==null&&(b=ul(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=Dw,_="onMouseLeave",y="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(m=Iw,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?f:Nl(p),w=g==null?f:Nl(g),f=new m(_,x+"leave",p,t,u),f.target=b,f.relatedTarget=w,_=null,Bo(u)===c&&(m=new m(y,x+"enter",g,t,u),m.target=w,m.relatedTarget=b,_=m),b=_,p&&g)t:{for(m=p,y=g,x=0,w=m;w;w=yl(w))x++;for(w=0,_=y;_;_=yl(_))w++;for(;0<x-w;)m=yl(m),x--;for(;0<w-x;)y=yl(y),w--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=yl(m),y=yl(y)}m=null}else m=null;p!==null&&Xw(h,f,p,m,!1),g!==null&&b!==null&&Xw(h,b,g,m,!0)}}e:{if(f=c?Nl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=AM;else if(zw(f))if(u2)E=PM;else{E=CM;var C=kM}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=TM);if(E&&(E=E(n,c))){c2(h,E,t,u);break e}C&&C(n,f,c),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&qy(f,"number",f.value)}switch(C=c?Nl(c):window,n){case"focusin":(zw(C)||C.contentEditable==="true")&&(Ol=C,ov=c,ah=null);break;case"focusout":ah=ov=Ol=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,Vw(h,t,u);break;case"selectionchange":if(MM)break;case"keydown":case"keyup":Vw(h,t,u)}var T;if(Ux)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ml?a2(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(o2&&t.locale!=="ko"&&(Ml||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ml&&(T=r2()):(Yr=u,zx="value"in Yr?Yr.value:Yr.textContent,Ml=!0)),C=Ig(c,P),0<C.length&&(P=new Nw(P,n,null,t,u),h.push({event:P,listeners:C}),T?P.data=T:(T=l2(t),T!==null&&(P.data=T)))),(T=xM?wM(n,t):_M(n,t))&&(c=Ig(c,"onBeforeInput"),0<c.length&&(u=new Nw("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=T))}x2(h,e)})}function Ph(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ig(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=_h(n,t),r!=null&&i.unshift(Ph(n,r,s)),r=_h(n,e),r!=null&&i.push(Ph(n,r,s))),n=n.return}return i}function yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Xw(n,e,t,i,s){for(var r=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=_h(t,r),l!=null&&o.unshift(Ph(t,l,a))):s||(l=_h(t,r),l!=null&&o.push(Ph(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var IM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function qw(n){return(typeof n=="string"?n:""+n).replace(IM,`
`).replace(jM,"")}function rp(n,e,t){if(e=qw(e),qw(n)!==e&&t)throw Error(j(425))}function jg(){}var lv=null,cv=null;function uv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,FM=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,zM=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(n){return Yw.resolve(null).then(n).catch(HM)}:hv;function HM(n){setTimeout(function(){throw n})}function ey(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),Ah(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);Ah(e)}function ro(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Kw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var au=Math.random().toString(36).slice(2),as="__reactFiber$"+au,Rh="__reactProps$"+au,cr="__reactContainer$"+au,dv="__reactEvents$"+au,BM="__reactListeners$"+au,UM="__reactHandles$"+au;function Bo(n){var e=n[as];if(e)return e;for(var t=n.parentNode;t;){if(e=t[cr]||t[as]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Kw(n);n!==null;){if(t=n[as])return t;n=Kw(n)}return e}n=t,t=n.parentNode}return null}function Mf(n){return n=n[as]||n[cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Nl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function Gm(n){return n[Rh]||null}var fv=[],Il=-1;function xo(n){return{current:n}}function je(n){0>Il||(n.current=fv[Il],fv[Il]=null,Il--)}function Ne(n,e){Il++,fv[Il]=n.current,n.current=e}var po={},Zt=xo(po),_n=xo(!1),qa=po;function Kc(n,e){var t=n.type.contextTypes;if(!t)return po;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(n){return n=n.childContextTypes,n!=null}function Fg(){je(_n),je(Zt)}function Zw(n,e,t){if(Zt.current!==po)throw Error(j(168));Ne(Zt,e),Ne(_n,t)}function _2(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(j(108,kL(n)||"Unknown",s));return Xe({},t,i)}function zg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||po,qa=Zt.current,Ne(Zt,n),Ne(_n,_n.current),!0}function Jw(n,e,t){var i=n.stateNode;if(!i)throw Error(j(169));t?(n=_2(n,e,qa),i.__reactInternalMemoizedMergedChildContext=n,je(_n),je(Zt),Ne(Zt,n)):je(_n),Ne(_n,t)}var Cs=null,Xm=!1,ty=!1;function S2(n){Cs===null?Cs=[n]:Cs.push(n)}function WM(n){Xm=!0,S2(n)}function wo(){if(!ty&&Cs!==null){ty=!0;var n=0,e=Se;try{var t=Cs;for(Se=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Cs=null,Xm=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(n+1)),qA(Nx,wo),s}finally{Se=e,ty=!1}}return null}var jl=[],Fl=0,Hg=null,Bg=0,ti=[],ni=0,Ya=null,er=1,tr="";function Ro(n,e){jl[Fl++]=Bg,jl[Fl++]=Hg,Hg=n,Bg=e}function E2(n,e,t){ti[ni++]=er,ti[ni++]=tr,ti[ni++]=Ya,Ya=n;var i=er;n=tr;var s=32-Mi(i)-1;i&=~(1<<s),t+=1;var r=32-Mi(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,er=1<<32-Mi(e)+s|t<<s|i,tr=r+n}else er=1<<r|t<<s|i,tr=n}function Vx(n){n.return!==null&&(Ro(n,1),E2(n,1,0))}function $x(n){for(;n===Hg;)Hg=jl[--Fl],jl[Fl]=null,Bg=jl[--Fl],jl[Fl]=null;for(;n===Ya;)Ya=ti[--ni],ti[ni]=null,tr=ti[--ni],ti[ni]=null,er=ti[--ni],ti[ni]=null}var Un=null,Bn=null,Fe=!1,Ri=null;function A2(n,e){var t=oi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Qw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Un=n,Bn=ro(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Un=n,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ya!==null?{id:er,overflow:tr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=oi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Un=n,Bn=null,!0):!1;default:return!1}}function pv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gv(n){if(Fe){var e=Bn;if(e){var t=e;if(!Qw(n,e)){if(pv(n))throw Error(j(418));e=ro(t.nextSibling);var i=Un;e&&Qw(n,e)?A2(i,t):(n.flags=n.flags&-4097|2,Fe=!1,Un=n)}}else{if(pv(n))throw Error(j(418));n.flags=n.flags&-4097|2,Fe=!1,Un=n}}}function e_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Un=n}function op(n){if(n!==Un)return!1;if(!Fe)return e_(n),Fe=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!uv(n.type,n.memoizedProps)),e&&(e=Bn)){if(pv(n))throw k2(),Error(j(418));for(;e;)A2(n,e),e=ro(e.nextSibling)}if(e_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Bn=ro(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Bn=null}}else Bn=Un?ro(n.stateNode.nextSibling):null;return!0}function k2(){for(var n=Bn;n;)n=ro(n.nextSibling)}function Zc(){Bn=Un=null,Fe=!1}function Gx(n){Ri===null?Ri=[n]:Ri.push(n)}var VM=pr.ReactCurrentBatchConfig;function bu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var i=t.stateNode}if(!i)throw Error(j(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function ap(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function t_(n){var e=n._init;return e(n._payload)}function C2(n){function e(y,x){if(n){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function t(y,x){if(!n)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function i(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=co(y,x),y.index=0,y.sibling=null,y}function r(y,x,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,_){return x===null||x.tag!==6?(x=ly(w,y.mode,_),x.return=y,x):(x=s(x,w),x.return=y,x)}function l(y,x,w,_){var E=w.type;return E===Ll?u(y,x,w.props.children,_,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sr&&t_(E)===x.type)?(_=s(x,w.props),_.ref=bu(y,x,w),_.return=y,_):(_=Gp(w.type,w.key,w.props,null,y.mode,_),_.ref=bu(y,x,w),_.return=y,_)}function c(y,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=cy(w,y.mode,_),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function u(y,x,w,_,E){return x===null||x.tag!==7?(x=Wa(w,y.mode,_,E),x.return=y,x):(x=s(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ly(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kf:return w=Gp(x.type,x.key,x.props,null,y.mode,w),w.ref=bu(y,null,x),w.return=y,w;case Rl:return x=cy(x,y.mode,w),x.return=y,x;case Sr:var _=x._init;return h(y,_(x._payload),w)}if(Ou(x)||pu(x))return x=Wa(x,y.mode,w,null),x.return=y,x;ap(y,x)}return null}function f(y,x,w,_){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(y,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kf:return w.key===E?l(y,x,w,_):null;case Rl:return w.key===E?c(y,x,w,_):null;case Sr:return E=w._init,f(y,x,E(w._payload),_)}if(Ou(w)||pu(w))return E!==null?null:u(y,x,w,_,null);ap(y,w)}return null}function p(y,x,w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(x,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kf:return y=y.get(_.key===null?w:_.key)||null,l(x,y,_,E);case Rl:return y=y.get(_.key===null?w:_.key)||null,c(x,y,_,E);case Sr:var C=_._init;return p(y,x,w,C(_._payload),E)}if(Ou(_)||pu(_))return y=y.get(w)||null,u(x,y,_,E,null);ap(x,_)}return null}function g(y,x,w,_){for(var E=null,C=null,T=x,P=x=0,L=null;T!==null&&P<w.length;P++){T.index>P?(L=T,T=null):L=T.sibling;var M=f(y,T,w[P],_);if(M===null){T===null&&(T=L);break}n&&T&&M.alternate===null&&e(y,T),x=r(M,x,P),C===null?E=M:C.sibling=M,C=M,T=L}if(P===w.length)return t(y,T),Fe&&Ro(y,P),E;if(T===null){for(;P<w.length;P++)T=h(y,w[P],_),T!==null&&(x=r(T,x,P),C===null?E=T:C.sibling=T,C=T);return Fe&&Ro(y,P),E}for(T=i(y,T);P<w.length;P++)L=p(T,y,P,w[P],_),L!==null&&(n&&L.alternate!==null&&T.delete(L.key===null?P:L.key),x=r(L,x,P),C===null?E=L:C.sibling=L,C=L);return n&&T.forEach(function(N){return e(y,N)}),Fe&&Ro(y,P),E}function m(y,x,w,_){var E=pu(w);if(typeof E!="function")throw Error(j(150));if(w=E.call(w),w==null)throw Error(j(151));for(var C=E=null,T=x,P=x=0,L=null,M=w.next();T!==null&&!M.done;P++,M=w.next()){T.index>P?(L=T,T=null):L=T.sibling;var N=f(y,T,M.value,_);if(N===null){T===null&&(T=L);break}n&&T&&N.alternate===null&&e(y,T),x=r(N,x,P),C===null?E=N:C.sibling=N,C=N,T=L}if(M.done)return t(y,T),Fe&&Ro(y,P),E;if(T===null){for(;!M.done;P++,M=w.next())M=h(y,M.value,_),M!==null&&(x=r(M,x,P),C===null?E=M:C.sibling=M,C=M);return Fe&&Ro(y,P),E}for(T=i(y,T);!M.done;P++,M=w.next())M=p(T,y,P,M.value,_),M!==null&&(n&&M.alternate!==null&&T.delete(M.key===null?P:M.key),x=r(M,x,P),C===null?E=M:C.sibling=M,C=M);return n&&T.forEach(function(z){return e(y,z)}),Fe&&Ro(y,P),E}function b(y,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Ll&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kf:e:{for(var E=w.key,C=x;C!==null;){if(C.key===E){if(E=w.type,E===Ll){if(C.tag===7){t(y,C.sibling),x=s(C,w.props.children),x.return=y,y=x;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sr&&t_(E)===C.type){t(y,C.sibling),x=s(C,w.props),x.ref=bu(y,C,w),x.return=y,y=x;break e}t(y,C);break}else e(y,C);C=C.sibling}w.type===Ll?(x=Wa(w.props.children,y.mode,_,w.key),x.return=y,y=x):(_=Gp(w.type,w.key,w.props,null,y.mode,_),_.ref=bu(y,x,w),_.return=y,y=_)}return o(y);case Rl:e:{for(C=w.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{t(y,x);break}else e(y,x);x=x.sibling}x=cy(w,y.mode,_),x.return=y,y=x}return o(y);case Sr:return C=w._init,b(y,x,C(w._payload),_)}if(Ou(w))return g(y,x,w,_);if(pu(w))return m(y,x,w,_);ap(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(y,x.sibling),x=s(x,w),x.return=y,y=x):(t(y,x),x=ly(w,y.mode,_),x.return=y,y=x),o(y)):t(y,x)}return b}var Jc=C2(!0),T2=C2(!1),Ug=xo(null),Wg=null,zl=null,Xx=null;function qx(){Xx=zl=Wg=null}function Yx(n){var e=Ug.current;je(Ug),n._currentValue=e}function mv(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Xl(n,e){Wg=n,Xx=zl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(bn=!0),n.firstContext=null)}function ci(n){var e=n._currentValue;if(Xx!==n)if(n={context:n,memoizedValue:e,next:null},zl===null){if(Wg===null)throw Error(j(308));zl=n,Wg.dependencies={lanes:0,firstContext:n}}else zl=zl.next=n;return e}var Uo=null;function Kx(n){Uo===null?Uo=[n]:Uo.push(n)}function P2(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,Kx(e)):(t.next=s.next,s.next=t),e.interleaved=t,ur(n,i)}function ur(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Er=!1;function Zx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ir(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,ur(n,t)}return s=i.interleaved,s===null?(e.next=e,Kx(i)):(e.next=s.next,s.next=e),i.interleaved=e,ur(n,t)}function Hp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ix(n,t)}}function n_(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Vg(n,e,t,i){var s=n.updateQueue;Er=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,m=a;switch(f=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Xe({},h,f);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Za|=o,n.lanes=o,n.memoizedState=h}}function i_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(j(191,s));s.call(i)}}}var Of={},hs=xo(Of),Lh=xo(Of),Mh=xo(Of);function Wo(n){if(n===Of)throw Error(j(174));return n}function Jx(n,e){switch(Ne(Mh,e),Ne(Lh,n),Ne(hs,Of),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ky(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ky(e,n)}je(hs),Ne(hs,e)}function Qc(){je(hs),je(Lh),je(Mh)}function L2(n){Wo(Mh.current);var e=Wo(hs.current),t=Ky(e,n.type);e!==t&&(Ne(Lh,n),Ne(hs,t))}function Qx(n){Lh.current===n&&(je(hs),je(Lh))}var Ve=xo(0);function $g(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ny=[];function e1(){for(var n=0;n<ny.length;n++)ny[n]._workInProgressVersionPrimary=null;ny.length=0}var Bp=pr.ReactCurrentDispatcher,iy=pr.ReactCurrentBatchConfig,Ka=0,Ge=null,gt=null,Et=null,Gg=!1,lh=!1,Oh=0,$M=0;function zt(){throw Error(j(321))}function t1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ni(n[t],e[t]))return!1;return!0}function n1(n,e,t,i,s,r){if(Ka=r,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bp.current=n===null||n.memoizedState===null?YM:KM,n=t(i,s),lh){r=0;do{if(lh=!1,Oh=0,25<=r)throw Error(j(301));r+=1,Et=gt=null,e.updateQueue=null,Bp.current=ZM,n=t(i,s)}while(lh)}if(Bp.current=Xg,e=gt!==null&&gt.next!==null,Ka=0,Et=gt=Ge=null,Gg=!1,e)throw Error(j(300));return n}function i1(){var n=Oh!==0;return Oh=0,n}function Ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ge.memoizedState=Et=n:Et=Et.next=n,Et}function ui(){if(gt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var e=Et===null?Ge.memoizedState:Et.next;if(e!==null)Et=e,gt=n;else{if(n===null)throw Error(j(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?Ge.memoizedState=Et=n:Et=Et.next=n}return Et}function Dh(n,e){return typeof e=="function"?e(n):e}function sy(n){var e=ui(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=gt,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((Ka&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ge.lanes|=u,Za|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Ni(i,e.memoizedState)||(bn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,Ge.lanes|=r,Za|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ry(n){var e=ui(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);Ni(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function M2(){}function O2(n,e){var t=Ge,i=ui(),s=e(),r=!Ni(i.memoizedState,s);if(r&&(i.memoizedState=s,bn=!0),i=i.queue,s1(I2.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||Et!==null&&Et.memoizedState.tag&1){if(t.flags|=2048,Nh(9,N2.bind(null,t,i,s,e),void 0,null),kt===null)throw Error(j(349));Ka&30||D2(t,e,s)}return s}function D2(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function N2(n,e,t,i){e.value=t,e.getSnapshot=i,j2(e)&&F2(n)}function I2(n,e,t){return t(function(){j2(e)&&F2(n)})}function j2(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ni(n,t)}catch{return!0}}function F2(n){var e=ur(n,1);e!==null&&Oi(e,n,1,-1)}function s_(n){var e=Ui();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:n},e.queue=n,n=n.dispatch=qM.bind(null,Ge,n),[e.memoizedState,n]}function Nh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function z2(){return ui().memoizedState}function Up(n,e,t,i){var s=Ui();Ge.flags|=n,s.memoizedState=Nh(1|e,t,void 0,i===void 0?null:i)}function qm(n,e,t,i){var s=ui();i=i===void 0?null:i;var r=void 0;if(gt!==null){var o=gt.memoizedState;if(r=o.destroy,i!==null&&t1(i,o.deps)){s.memoizedState=Nh(e,t,r,i);return}}Ge.flags|=n,s.memoizedState=Nh(1|e,t,r,i)}function r_(n,e){return Up(8390656,8,n,e)}function s1(n,e){return qm(2048,8,n,e)}function H2(n,e){return qm(4,2,n,e)}function B2(n,e){return qm(4,4,n,e)}function U2(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function W2(n,e,t){return t=t!=null?t.concat([n]):null,qm(4,4,U2.bind(null,e,n),t)}function r1(){}function V2(n,e){var t=ui();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&t1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function $2(n,e){var t=ui();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&t1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function G2(n,e,t){return Ka&21?(Ni(t,e)||(t=ZA(),Ge.lanes|=t,Za|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,bn=!0),n.memoizedState=t)}function GM(n,e){var t=Se;Se=t!==0&&4>t?t:4,n(!0);var i=iy.transition;iy.transition={};try{n(!1),e()}finally{Se=t,iy.transition=i}}function X2(){return ui().memoizedState}function XM(n,e,t){var i=lo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},q2(n))Y2(e,t);else if(t=P2(n,e,t,i),t!==null){var s=rn();Oi(t,n,i,s),K2(t,e,i)}}function qM(n,e,t){var i=lo(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(q2(n))Y2(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(s.hasEagerState=!0,s.eagerState=a,Ni(a,o)){var l=e.interleaved;l===null?(s.next=s,Kx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=P2(n,e,s,i),t!==null&&(s=rn(),Oi(t,n,i,s),K2(t,e,i))}}function q2(n){var e=n.alternate;return n===Ge||e!==null&&e===Ge}function Y2(n,e){lh=Gg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function K2(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ix(n,t)}}var Xg={readContext:ci,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},YM={readContext:ci,useCallback:function(n,e){return Ui().memoizedState=[n,e===void 0?null:e],n},useContext:ci,useEffect:r_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Up(4194308,4,U2.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Up(4194308,4,n,e)},useInsertionEffect:function(n,e){return Up(4,2,n,e)},useMemo:function(n,e){var t=Ui();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ui();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=XM.bind(null,Ge,n),[i.memoizedState,n]},useRef:function(n){var e=Ui();return n={current:n},e.memoizedState=n},useState:s_,useDebugValue:r1,useDeferredValue:function(n){return Ui().memoizedState=n},useTransition:function(){var n=s_(!1),e=n[0];return n=GM.bind(null,n[1]),Ui().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Ge,s=Ui();if(Fe){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),kt===null)throw Error(j(349));Ka&30||D2(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,r_(I2.bind(null,i,r,n),[n]),i.flags|=2048,Nh(9,N2.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=Ui(),e=kt.identifierPrefix;if(Fe){var t=tr,i=er;t=(i&~(1<<32-Mi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Oh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=$M++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},KM={readContext:ci,useCallback:V2,useContext:ci,useEffect:s1,useImperativeHandle:W2,useInsertionEffect:H2,useLayoutEffect:B2,useMemo:$2,useReducer:sy,useRef:z2,useState:function(){return sy(Dh)},useDebugValue:r1,useDeferredValue:function(n){var e=ui();return G2(e,gt.memoizedState,n)},useTransition:function(){var n=sy(Dh)[0],e=ui().memoizedState;return[n,e]},useMutableSource:M2,useSyncExternalStore:O2,useId:X2,unstable_isNewReconciler:!1},ZM={readContext:ci,useCallback:V2,useContext:ci,useEffect:s1,useImperativeHandle:W2,useInsertionEffect:H2,useLayoutEffect:B2,useMemo:$2,useReducer:ry,useRef:z2,useState:function(){return ry(Dh)},useDebugValue:r1,useDeferredValue:function(n){var e=ui();return gt===null?e.memoizedState=n:G2(e,gt.memoizedState,n)},useTransition:function(){var n=ry(Dh)[0],e=ui().memoizedState;return[n,e]},useMutableSource:M2,useSyncExternalStore:O2,useId:X2,unstable_isNewReconciler:!1};function fi(n,e){if(n&&n.defaultProps){e=Xe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function yv(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Xe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ym={isMounted:function(n){return(n=n._reactInternals)?ul(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=rn(),s=lo(n),r=ir(i,s);r.payload=e,t!=null&&(r.callback=t),e=oo(n,r,s),e!==null&&(Oi(e,n,s,i),Hp(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=rn(),s=lo(n),r=ir(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=oo(n,r,s),e!==null&&(Oi(e,n,s,i),Hp(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=rn(),i=lo(n),s=ir(t,i);s.tag=2,e!=null&&(s.callback=e),e=oo(n,s,i),e!==null&&(Oi(e,n,i,t),Hp(e,n,i))}};function o_(n,e,t,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Ch(t,i)||!Ch(s,r):!0}function Z2(n,e,t){var i=!1,s=po,r=e.contextType;return typeof r=="object"&&r!==null?r=ci(r):(s=Sn(e)?qa:Zt.current,i=e.contextTypes,r=(i=i!=null)?Kc(n,s):po),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ym,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function a_(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Ym.enqueueReplaceState(e,e.state,null)}function vv(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},Zx(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ci(r):(r=Sn(e)?qa:Zt.current,s.context=Kc(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(yv(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ym.enqueueReplaceState(s,s.state,null),Vg(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function eu(n,e){try{var t="",i=e;do t+=AL(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function oy(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function bv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var JM=typeof WeakMap=="function"?WeakMap:Map;function J2(n,e,t){t=ir(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Yg||(Yg=!0,Pv=i),bv(n,e)},t}function Q2(n,e,t){t=ir(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){bv(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){bv(n,e),typeof i!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function l_(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new JM;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=dO.bind(null,n,e,t),e.then(n,n))}function c_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function u_(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ir(-1,1),e.tag=2,oo(t,e,1))),t.lanes|=1),n)}var QM=pr.ReactCurrentOwner,bn=!1;function nn(n,e,t,i){e.child=n===null?T2(e,null,t,i):Jc(e,n.child,t,i)}function h_(n,e,t,i,s){t=t.render;var r=e.ref;return Xl(e,s),i=n1(n,e,t,i,r,s),t=i1(),n!==null&&!bn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,hr(n,e,s)):(Fe&&t&&Vx(e),e.flags|=1,nn(n,e,i,s),e.child)}function d_(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!f1(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,ek(n,e,r,i,s)):(n=Gp(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:Ch,t(o,i)&&n.ref===e.ref)return hr(n,e,s)}return e.flags|=1,n=co(r,i),n.ref=e.ref,n.return=e,e.child=n}function ek(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(Ch(r,i)&&n.ref===e.ref)if(bn=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(bn=!0);else return e.lanes=n.lanes,hr(n,e,s)}return xv(n,e,t,i,s)}function tk(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Bl,zn),zn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ne(Bl,zn),zn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,Ne(Bl,zn),zn|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,Ne(Bl,zn),zn|=i;return nn(n,e,s,t),e.child}function nk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xv(n,e,t,i,s){var r=Sn(t)?qa:Zt.current;return r=Kc(e,r),Xl(e,s),t=n1(n,e,t,i,r,s),i=i1(),n!==null&&!bn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,hr(n,e,s)):(Fe&&i&&Vx(e),e.flags|=1,nn(n,e,t,s),e.child)}function f_(n,e,t,i,s){if(Sn(t)){var r=!0;zg(e)}else r=!1;if(Xl(e,s),e.stateNode===null)Wp(n,e),Z2(e,t,i),vv(e,t,i,s),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ci(c):(c=Sn(t)?qa:Zt.current,c=Kc(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&a_(e,o,i,c),Er=!1;var f=e.memoizedState;o.state=f,Vg(e,i,o,s),l=e.memoizedState,a!==i||f!==l||_n.current||Er?(typeof u=="function"&&(yv(e,t,u,i),l=e.memoizedState),(a=Er||o_(e,t,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,R2(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ci(l):(l=Sn(t)?qa:Zt.current,l=Kc(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&a_(e,o,i,l),Er=!1,f=e.memoizedState,o.state=f,Vg(e,i,o,s);var g=e.memoizedState;a!==h||f!==g||_n.current||Er?(typeof p=="function"&&(yv(e,t,p,i),g=e.memoizedState),(c=Er||o_(e,t,c,i,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return wv(n,e,t,i,r,s)}function wv(n,e,t,i,s,r){nk(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Jw(e,t,!1),hr(n,e,r);i=e.stateNode,QM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Jc(e,n.child,null,r),e.child=Jc(e,null,a,r)):nn(n,e,a,r),e.memoizedState=i.state,s&&Jw(e,t,!0),e.child}function ik(n){var e=n.stateNode;e.pendingContext?Zw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Zw(n,e.context,!1),Jx(n,e.containerInfo)}function p_(n,e,t,i,s){return Zc(),Gx(s),e.flags|=256,nn(n,e,t,i),e.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Sv(n){return{baseLanes:n,cachePool:null,transitions:null}}function sk(n,e,t){var i=e.pendingProps,s=Ve.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ne(Ve,s&1),n===null)return gv(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Jm(o,i,0,null),n=Wa(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Sv(t),e.memoizedState=_v,n):o1(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eO(n,e,o,i,a,s,t);if(r){r=i.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=co(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=co(a,r):(r=Wa(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o=o===null?Sv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=_v,i}return r=n.child,n=r.sibling,i=co(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function o1(n,e){return e=Jm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function lp(n,e,t,i){return i!==null&&Gx(i),Jc(e,n.child,null,t),n=o1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function eO(n,e,t,i,s,r,o){if(t)return e.flags&256?(e.flags&=-257,i=oy(Error(j(422))),lp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Jm({mode:"visible",children:i.children},s,0,null),r=Wa(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Jc(e,n.child,null,o),e.child.memoizedState=Sv(o),e.memoizedState=_v,r);if(!(e.mode&1))return lp(n,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(j(419)),i=oy(r,i,void 0),lp(n,e,o,i)}if(a=(o&n.childLanes)!==0,bn||a){if(i=kt,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,ur(n,s),Oi(i,n,s,-1))}return d1(),i=oy(Error(j(421))),lp(n,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=fO.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,Bn=ro(s.nextSibling),Un=e,Fe=!0,Ri=null,n!==null&&(ti[ni++]=er,ti[ni++]=tr,ti[ni++]=Ya,er=n.id,tr=n.overflow,Ya=e),e=o1(e,i.children),e.flags|=4096,e)}function g_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),mv(n.return,e,t)}function ay(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function rk(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(nn(n,e,i.children,t),i=Ve.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&g_(n,t,e);else if(n.tag===19)g_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ne(Ve,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&$g(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),ay(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&$g(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}ay(e,!0,t,null,r);break;case"together":ay(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function hr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Za|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=co(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=co(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function tO(n,e,t){switch(e.tag){case 3:ik(e),Zc();break;case 5:L2(e);break;case 1:Sn(e.type)&&zg(e);break;case 4:Jx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ne(Ug,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ne(Ve,Ve.current&1),e.flags|=128,null):t&e.child.childLanes?sk(n,e,t):(Ne(Ve,Ve.current&1),n=hr(n,e,t),n!==null?n.sibling:null);Ne(Ve,Ve.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return rk(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ve,Ve.current),i)break;return null;case 22:case 23:return e.lanes=0,tk(n,e,t)}return hr(n,e,t)}var ok,Ev,ak,lk;ok=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ev=function(){};ak=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Wo(hs.current);var r=null;switch(t){case"input":s=Gy(n,s),i=Gy(n,i),r=[];break;case"select":s=Xe({},s,{value:void 0}),i=Xe({},i,{value:void 0}),r=[];break;case"textarea":s=Yy(n,s),i=Yy(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=jg)}Zy(t,i);var o;t=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xh.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",n),r||a===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};lk=function(n,e,t,i){t!==i&&(e.flags|=4)};function xu(n,e){if(!Fe)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ht(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function nO(n,e,t){var i=e.pendingProps;switch($x(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return Sn(e.type)&&Fg(),Ht(e),null;case 3:return i=e.stateNode,Qc(),je(_n),je(Zt),e1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(op(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(Mv(Ri),Ri=null))),Ev(n,e),Ht(e),null;case 5:Qx(e);var s=Wo(Mh.current);if(t=e.type,n!==null&&e.stateNode!=null)ak(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return Ht(e),null}if(n=Wo(hs.current),op(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[as]=e,i[Rh]=r,n=(e.mode&1)!==0,t){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(s=0;s<Nu.length;s++)Ie(Nu[s],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ew(i,r),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Ie("invalid",i);break;case"textarea":kw(i,r),Ie("invalid",i)}Zy(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&rp(i.textContent,a,n),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&rp(i.textContent,a,n),s=["children",""+a]):xh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",i)}switch(t){case"input":Zf(i),Aw(i,r,!0);break;case"textarea":Zf(i),Cw(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=jg)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=IA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[as]=e,n[Rh]=i,ok(n,e,!1,!1),e.stateNode=n;e:{switch(o=Jy(t,i),t){case"dialog":Ie("cancel",n),Ie("close",n),s=i;break;case"iframe":case"object":case"embed":Ie("load",n),s=i;break;case"video":case"audio":for(s=0;s<Nu.length;s++)Ie(Nu[s],n);s=i;break;case"source":Ie("error",n),s=i;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),s=i;break;case"details":Ie("toggle",n),s=i;break;case"input":Ew(n,i),s=Gy(n,i),Ie("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Xe({},i,{value:void 0}),Ie("invalid",n);break;case"textarea":kw(n,i),s=Yy(n,i),Ie("invalid",n);break;default:s=i}Zy(t,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?zA(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jA(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wh(n,l):typeof l=="number"&&wh(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(xh.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Ie("scroll",n):l!=null&&Rx(n,r,l,o))}switch(t){case"input":Zf(n),Aw(n,i,!1);break;case"textarea":Zf(n),Cw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+fo(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?Wl(n,!!i.multiple,r,!1):i.defaultValue!=null&&Wl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=jg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(n&&e.stateNode!=null)lk(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(t=Wo(Mh.current),Wo(hs.current),op(e)){if(i=e.stateNode,t=e.memoizedProps,i[as]=e,(r=i.nodeValue!==t)&&(n=Un,n!==null))switch(n.tag){case 3:rp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rp(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[as]=e,e.stateNode=i}return Ht(e),null;case 13:if(je(Ve),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Fe&&Bn!==null&&e.mode&1&&!(e.flags&128))k2(),Zc(),e.flags|=98560,r=!1;else if(r=op(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(j(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[as]=e}else Zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),r=!1}else Ri!==null&&(Mv(Ri),Ri=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Ve.current&1?yt===0&&(yt=3):d1())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Qc(),Ev(n,e),n===null&&Th(e.stateNode.containerInfo),Ht(e),null;case 10:return Yx(e.type._context),Ht(e),null;case 17:return Sn(e.type)&&Fg(),Ht(e),null;case 19:if(je(Ve),r=e.memoizedState,r===null)return Ht(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)xu(r,!1);else{if(yt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$g(n),o!==null){for(e.flags|=128,xu(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ne(Ve,Ve.current&1|2),e.child}n=n.sibling}r.tail!==null&&et()>tu&&(e.flags|=128,i=!0,xu(r,!1),e.lanes=4194304)}else{if(!i)if(n=$g(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Fe)return Ht(e),null}else 2*et()-r.renderingStartTime>tu&&t!==1073741824&&(e.flags|=128,i=!0,xu(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=et(),e.sibling=null,t=Ve.current,Ne(Ve,i?t&1|2:t&1),e):(Ht(e),null);case 22:case 23:return h1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?zn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function iO(n,e){switch($x(e),e.tag){case 1:return Sn(e.type)&&Fg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qc(),je(_n),je(Zt),e1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Qx(e),null;case 13:if(je(Ve),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Zc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return je(Ve),null;case 4:return Qc(),null;case 10:return Yx(e.type._context),null;case 22:case 23:return h1(),null;case 24:return null;default:return null}}var cp=!1,Xt=!1,sO=typeof WeakSet=="function"?WeakSet:Set,V=null;function Hl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ke(n,e,i)}else t.current=null}function Av(n,e,t){try{t()}catch(i){Ke(n,e,i)}}var m_=!1;function rO(n,e){if(lv=Dg,n=f2(),Wx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++c===s&&(a=o),f===r&&++u===i&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(cv={focusedElem:n,selectionRange:t},Dg=!1,V=e;V!==null;)if(e=V,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,V=n;else for(;V!==null;){e=V;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:fi(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){Ke(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}return g=m_,m_=!1,g}function ch(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&Av(e,t,r)}s=s.next}while(s!==i)}}function Km(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function kv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function ck(n){var e=n.alternate;e!==null&&(n.alternate=null,ck(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[as],delete e[Rh],delete e[dv],delete e[BM],delete e[UM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function uk(n){return n.tag===5||n.tag===3||n.tag===4}function y_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||uk(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=jg));else if(i!==4&&(n=n.child,n!==null))for(Cv(n,e,t),n=n.sibling;n!==null;)Cv(n,e,t),n=n.sibling}function Tv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Tv(n,e,t),n=n.sibling;n!==null;)Tv(n,e,t),n=n.sibling}var Dt=null,Ti=!1;function yr(n,e,t){for(t=t.child;t!==null;)hk(n,e,t),t=t.sibling}function hk(n,e,t){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Um,t)}catch{}switch(t.tag){case 5:Xt||Hl(t,e);case 6:var i=Dt,s=Ti;Dt=null,yr(n,e,t),Dt=i,Ti=s,Dt!==null&&(Ti?(n=Dt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Dt.removeChild(t.stateNode));break;case 18:Dt!==null&&(Ti?(n=Dt,t=t.stateNode,n.nodeType===8?ey(n.parentNode,t):n.nodeType===1&&ey(n,t),Ah(n)):ey(Dt,t.stateNode));break;case 4:i=Dt,s=Ti,Dt=t.stateNode.containerInfo,Ti=!0,yr(n,e,t),Dt=i,Ti=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Av(t,e,o),s=s.next}while(s!==i)}yr(n,e,t);break;case 1:if(!Xt&&(Hl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Ke(t,e,a)}yr(n,e,t);break;case 21:yr(n,e,t);break;case 22:t.mode&1?(Xt=(i=Xt)||t.memoizedState!==null,yr(n,e,t),Xt=i):yr(n,e,t);break;default:yr(n,e,t)}}function v_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new sO),e.forEach(function(i){var s=pO.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function hi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Ti=!1;break e;case 3:Dt=a.stateNode.containerInfo,Ti=!0;break e;case 4:Dt=a.stateNode.containerInfo,Ti=!0;break e}a=a.return}if(Dt===null)throw Error(j(160));hk(r,o,s),Dt=null,Ti=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ke(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,n),e=e.sibling}function dk(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hi(e,n),zi(n),i&4){try{ch(3,n,n.return),Km(3,n)}catch(m){Ke(n,n.return,m)}try{ch(5,n,n.return)}catch(m){Ke(n,n.return,m)}}break;case 1:hi(e,n),zi(n),i&512&&t!==null&&Hl(t,t.return);break;case 5:if(hi(e,n),zi(n),i&512&&t!==null&&Hl(t,t.return),n.flags&32){var s=n.stateNode;try{wh(s,"")}catch(m){Ke(n,n.return,m)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&DA(s,r),Jy(a,o);var c=Jy(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?zA(s,h):u==="dangerouslySetInnerHTML"?jA(s,h):u==="children"?wh(s,h):Rx(s,u,h,c)}switch(a){case"input":Xy(s,r);break;case"textarea":NA(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Wl(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?Wl(s,!!r.multiple,r.defaultValue,!0):Wl(s,!!r.multiple,r.multiple?[]:"",!1))}s[Rh]=r}catch(m){Ke(n,n.return,m)}}break;case 6:if(hi(e,n),zi(n),i&4){if(n.stateNode===null)throw Error(j(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(m){Ke(n,n.return,m)}}break;case 3:if(hi(e,n),zi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ah(e.containerInfo)}catch(m){Ke(n,n.return,m)}break;case 4:hi(e,n),zi(n);break;case 13:hi(e,n),zi(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(c1=et())),i&4&&v_(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Xt=(c=Xt)||u,hi(e,n),Xt=c):hi(e,n),zi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(V=n,u=n.child;u!==null;){for(h=V=u;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:ch(4,f,f.return);break;case 1:Hl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ke(i,t,m)}}break;case 5:Hl(f,f.return);break;case 22:if(f.memoizedState!==null){x_(h);continue}}p!==null?(p.return=f,V=p):x_(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FA("display",o))}catch(m){Ke(n,n.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Ke(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hi(e,n),zi(n),i&4&&v_(n);break;case 21:break;default:hi(e,n),zi(n)}}function zi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(uk(t)){var i=t;break e}t=t.return}throw Error(j(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(wh(s,""),i.flags&=-33);var r=y_(n);Tv(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=y_(n);Cv(n,a,o);break;default:throw Error(j(161))}}catch(l){Ke(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oO(n,e,t){V=n,fk(n)}function fk(n,e,t){for(var i=(n.mode&1)!==0;V!==null;){var s=V,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||cp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=cp;var c=Xt;if(cp=o,(Xt=l)&&!c)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?w_(s):l!==null?(l.return=o,V=l):w_(s);for(;r!==null;)V=r,fk(r),r=r.sibling;V=s,cp=a,Xt=c}b_(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,V=r):b_(n)}}function b_(n){for(;V!==null;){var e=V;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Km(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Xt)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:fi(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&i_(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}i_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ah(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Xt||e.flags&512&&kv(e)}catch(f){Ke(e,e.return,f)}}if(e===n){V=null;break}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}}function x_(n){for(;V!==null;){var e=V;if(e===n){V=null;break}var t=e.sibling;if(t!==null){t.return=e.return,V=t;break}V=e.return}}function w_(n){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Km(4,e)}catch(l){Ke(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){Ke(e,s,l)}}var r=e.return;try{kv(e)}catch(l){Ke(e,r,l)}break;case 5:var o=e.return;try{kv(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===n){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var aO=Math.ceil,qg=pr.ReactCurrentDispatcher,a1=pr.ReactCurrentOwner,li=pr.ReactCurrentBatchConfig,fe=0,kt=null,ot=null,Nt=0,zn=0,Bl=xo(0),yt=0,Ih=null,Za=0,Zm=0,l1=0,uh=null,yn=null,c1=0,tu=1/0,Ss=null,Yg=!1,Pv=null,ao=null,up=!1,Kr=null,Kg=0,hh=0,Rv=null,Vp=-1,$p=0;function rn(){return fe&6?et():Vp!==-1?Vp:Vp=et()}function lo(n){return n.mode&1?fe&2&&Nt!==0?Nt&-Nt:VM.transition!==null?($p===0&&($p=ZA()),$p):(n=Se,n!==0||(n=window.event,n=n===void 0?16:s2(n.type)),n):1}function Oi(n,e,t,i){if(50<hh)throw hh=0,Rv=null,Error(j(185));Rf(n,t,i),(!(fe&2)||n!==kt)&&(n===kt&&(!(fe&2)&&(Zm|=t),yt===4&&kr(n,Nt)),En(n,i),t===1&&fe===0&&!(e.mode&1)&&(tu=et()+500,Xm&&wo()))}function En(n,e){var t=n.callbackNode;VL(n,e);var i=Og(n,n===kt?Nt:0);if(i===0)t!==null&&Rw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Rw(t),e===1)n.tag===0?WM(__.bind(null,n)):S2(__.bind(null,n)),zM(function(){!(fe&6)&&wo()}),t=null;else{switch(JA(i)){case 1:t=Nx;break;case 4:t=YA;break;case 16:t=Mg;break;case 536870912:t=KA;break;default:t=Mg}t=wk(t,pk.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function pk(n,e){if(Vp=-1,$p=0,fe&6)throw Error(j(327));var t=n.callbackNode;if(ql()&&n.callbackNode!==t)return null;var i=Og(n,n===kt?Nt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Zg(n,i);else{e=i;var s=fe;fe|=2;var r=mk();(kt!==n||Nt!==e)&&(Ss=null,tu=et()+500,Ua(n,e));do try{uO();break}catch(a){gk(n,a)}while(!0);qx(),qg.current=r,fe=s,ot!==null?e=0:(kt=null,Nt=0,e=yt)}if(e!==0){if(e===2&&(s=iv(n),s!==0&&(i=s,e=Lv(n,s))),e===1)throw t=Ih,Ua(n,0),kr(n,i),En(n,et()),t;if(e===6)kr(n,i);else{if(s=n.current.alternate,!(i&30)&&!lO(s)&&(e=Zg(n,i),e===2&&(r=iv(n),r!==0&&(i=r,e=Lv(n,r))),e===1))throw t=Ih,Ua(n,0),kr(n,i),En(n,et()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:Lo(n,yn,Ss);break;case 3:if(kr(n,i),(i&130023424)===i&&(e=c1+500-et(),10<e)){if(Og(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){rn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=hv(Lo.bind(null,n,yn,Ss),e);break}Lo(n,yn,Ss);break;case 4:if(kr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var o=31-Mi(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=et()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*aO(i/1960))-i,10<i){n.timeoutHandle=hv(Lo.bind(null,n,yn,Ss),i);break}Lo(n,yn,Ss);break;case 5:Lo(n,yn,Ss);break;default:throw Error(j(329))}}}return En(n,et()),n.callbackNode===t?pk.bind(null,n):null}function Lv(n,e){var t=uh;return n.current.memoizedState.isDehydrated&&(Ua(n,e).flags|=256),n=Zg(n,e),n!==2&&(e=yn,yn=t,e!==null&&Mv(e)),n}function Mv(n){yn===null?yn=n:yn.push.apply(yn,n)}function lO(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!Ni(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kr(n,e){for(e&=~l1,e&=~Zm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Mi(e),i=1<<t;n[t]=-1,e&=~i}}function __(n){if(fe&6)throw Error(j(327));ql();var e=Og(n,0);if(!(e&1))return En(n,et()),null;var t=Zg(n,e);if(n.tag!==0&&t===2){var i=iv(n);i!==0&&(e=i,t=Lv(n,i))}if(t===1)throw t=Ih,Ua(n,0),kr(n,e),En(n,et()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Lo(n,yn,Ss),En(n,et()),null}function u1(n,e){var t=fe;fe|=1;try{return n(e)}finally{fe=t,fe===0&&(tu=et()+500,Xm&&wo())}}function Ja(n){Kr!==null&&Kr.tag===0&&!(fe&6)&&ql();var e=fe;fe|=1;var t=li.transition,i=Se;try{if(li.transition=null,Se=1,n)return n()}finally{Se=i,li.transition=t,fe=e,!(fe&6)&&wo()}}function h1(){zn=Bl.current,je(Bl)}function Ua(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FM(t)),ot!==null)for(t=ot.return;t!==null;){var i=t;switch($x(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fg();break;case 3:Qc(),je(_n),je(Zt),e1();break;case 5:Qx(i);break;case 4:Qc();break;case 13:je(Ve);break;case 19:je(Ve);break;case 10:Yx(i.type._context);break;case 22:case 23:h1()}t=t.return}if(kt=n,ot=n=co(n.current,null),Nt=zn=e,yt=0,Ih=null,l1=Zm=Za=0,yn=uh=null,Uo!==null){for(e=0;e<Uo.length;e++)if(t=Uo[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}t.pending=i}Uo=null}return n}function gk(n,e){do{var t=ot;try{if(qx(),Bp.current=Xg,Gg){for(var i=Ge.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Gg=!1}if(Ka=0,Et=gt=Ge=null,lh=!1,Oh=0,a1.current=null,t===null||t.return===null){yt=1,Ih=e,ot=null;break}e:{var r=n,o=t.return,a=t,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=c_(o);if(p!==null){p.flags&=-257,u_(p,o,a,r,e),p.mode&1&&l_(r,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){l_(r,c,e),d1();break e}l=Error(j(426))}}else if(Fe&&a.mode&1){var b=c_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),u_(b,o,a,r,e),Gx(eu(l,a));break e}}r=l=eu(l,a),yt!==4&&(yt=2),uh===null?uh=[r]:uh.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=J2(r,l,e);n_(r,y);break e;case 1:a=l;var x=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ao===null||!ao.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=Q2(r,a,e);n_(r,_);break e}}r=r.return}while(r!==null)}vk(t)}catch(E){e=E,ot===t&&t!==null&&(ot=t=t.return);continue}break}while(!0)}function mk(){var n=qg.current;return qg.current=Xg,n===null?Xg:n}function d1(){(yt===0||yt===3||yt===2)&&(yt=4),kt===null||!(Za&268435455)&&!(Zm&268435455)||kr(kt,Nt)}function Zg(n,e){var t=fe;fe|=2;var i=mk();(kt!==n||Nt!==e)&&(Ss=null,Ua(n,e));do try{cO();break}catch(s){gk(n,s)}while(!0);if(qx(),fe=t,qg.current=i,ot!==null)throw Error(j(261));return kt=null,Nt=0,yt}function cO(){for(;ot!==null;)yk(ot)}function uO(){for(;ot!==null&&!NL();)yk(ot)}function yk(n){var e=xk(n.alternate,n,zn);n.memoizedProps=n.pendingProps,e===null?vk(n):ot=e,a1.current=null}function vk(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=iO(t,e),t!==null){t.flags&=32767,ot=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ot=null;return}}else if(t=nO(t,e,zn),t!==null){ot=t;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=n}while(e!==null);yt===0&&(yt=5)}function Lo(n,e,t){var i=Se,s=li.transition;try{li.transition=null,Se=1,hO(n,e,t,i)}finally{li.transition=s,Se=i}return null}function hO(n,e,t,i){do ql();while(Kr!==null);if(fe&6)throw Error(j(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if($L(n,r),n===kt&&(ot=kt=null,Nt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||up||(up=!0,wk(Mg,function(){return ql(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=li.transition,li.transition=null;var o=Se;Se=1;var a=fe;fe|=4,a1.current=null,rO(n,t),dk(t,n),LM(cv),Dg=!!lv,cv=lv=null,n.current=t,oO(t),IL(),fe=a,Se=o,li.transition=r}else n.current=t;if(up&&(up=!1,Kr=n,Kg=s),r=n.pendingLanes,r===0&&(ao=null),zL(t.stateNode),En(n,et()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(Yg)throw Yg=!1,n=Pv,Pv=null,n;return Kg&1&&n.tag!==0&&ql(),r=n.pendingLanes,r&1?n===Rv?hh++:(hh=0,Rv=n):hh=0,wo(),null}function ql(){if(Kr!==null){var n=JA(Kg),e=li.transition,t=Se;try{if(li.transition=null,Se=16>n?16:n,Kr===null)var i=!1;else{if(n=Kr,Kr=null,Kg=0,fe&6)throw Error(j(331));var s=fe;for(fe|=4,V=n.current;V!==null;){var r=V,o=r.child;if(V.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:ch(8,u,r)}var h=u.child;if(h!==null)h.return=u,V=h;else for(;V!==null;){u=V;var f=u.sibling,p=u.return;if(ck(u),u===c){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var g=r.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}V=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,V=o;else e:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ch(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,V=y;break e}V=r.return}}var x=n.current;for(V=x;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=x;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Km(9,a)}}catch(E){Ke(a,a.return,E)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(fe=s,wo(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Um,n)}catch{}i=!0}return i}finally{Se=t,li.transition=e}}return!1}function S_(n,e,t){e=eu(t,e),e=J2(n,e,1),n=oo(n,e,1),e=rn(),n!==null&&(Rf(n,1,e),En(n,e))}function Ke(n,e,t){if(n.tag===3)S_(n,n,t);else for(;e!==null;){if(e.tag===3){S_(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ao===null||!ao.has(i))){n=eu(t,n),n=Q2(e,n,1),e=oo(e,n,1),n=rn(),e!==null&&(Rf(e,1,n),En(e,n));break}}e=e.return}}function dO(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=rn(),n.pingedLanes|=n.suspendedLanes&t,kt===n&&(Nt&t)===t&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>et()-c1?Ua(n,0):l1|=t),En(n,e)}function bk(n,e){e===0&&(n.mode&1?(e=ep,ep<<=1,!(ep&130023424)&&(ep=4194304)):e=1);var t=rn();n=ur(n,e),n!==null&&(Rf(n,e,t),En(n,t))}function fO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bk(n,t)}function pO(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),bk(n,t)}var xk;xk=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_n.current)bn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return bn=!1,tO(n,e,t);bn=!!(n.flags&131072)}else bn=!1,Fe&&e.flags&1048576&&E2(e,Bg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wp(n,e),n=e.pendingProps;var s=Kc(e,Zt.current);Xl(e,t),s=n1(null,e,i,n,s,t);var r=i1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(i)?(r=!0,zg(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zx(e),s.updater=Ym,e.stateNode=s,s._reactInternals=e,vv(e,i,n,t),e=wv(null,e,i,!0,r,t)):(e.tag=0,Fe&&r&&Vx(e),nn(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Wp(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=mO(i),n=fi(i,n),s){case 0:e=xv(null,e,i,n,t);break e;case 1:e=f_(null,e,i,n,t);break e;case 11:e=h_(null,e,i,n,t);break e;case 14:e=d_(null,e,i,fi(i.type,n),t);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:fi(i,s),xv(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:fi(i,s),f_(n,e,i,s,t);case 3:e:{if(ik(e),n===null)throw Error(j(387));i=e.pendingProps,r=e.memoizedState,s=r.element,R2(n,e),Vg(e,i,null,t);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=eu(Error(j(423)),e),e=p_(n,e,i,t,s);break e}else if(i!==s){s=eu(Error(j(424)),e),e=p_(n,e,i,t,s);break e}else for(Bn=ro(e.stateNode.containerInfo.firstChild),Un=e,Fe=!0,Ri=null,t=T2(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Zc(),i===s){e=hr(n,e,t);break e}nn(n,e,i,t)}e=e.child}return e;case 5:return L2(e),n===null&&gv(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,uv(i,s)?o=null:r!==null&&uv(i,r)&&(e.flags|=32),nk(n,e),nn(n,e,o,t),e.child;case 6:return n===null&&gv(e),null;case 13:return sk(n,e,t);case 4:return Jx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Jc(e,null,i,t):nn(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:fi(i,s),h_(n,e,i,s,t);case 7:return nn(n,e,e.pendingProps,t),e.child;case 8:return nn(n,e,e.pendingProps.children,t),e.child;case 12:return nn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Ne(Ug,i._currentValue),i._currentValue=o,r!==null)if(Ni(r.value,o)){if(r.children===s.children&&!_n.current){e=hr(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=ir(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),mv(r.return,t,e),a.lanes|=t;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(j(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),mv(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}nn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Xl(e,t),s=ci(s),i=i(s),e.flags|=1,nn(n,e,i,t),e.child;case 14:return i=e.type,s=fi(i,e.pendingProps),s=fi(i.type,s),d_(n,e,i,s,t);case 15:return ek(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:fi(i,s),Wp(n,e),e.tag=1,Sn(i)?(n=!0,zg(e)):n=!1,Xl(e,t),Z2(e,i,s),vv(e,i,s,t),wv(null,e,i,!0,n,t);case 19:return rk(n,e,t);case 22:return tk(n,e,t)}throw Error(j(156,e.tag))};function wk(n,e){return qA(n,e)}function gO(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(n,e,t,i){return new gO(n,e,t,i)}function f1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mO(n){if(typeof n=="function")return f1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Mx)return 11;if(n===Ox)return 14}return 2}function co(n,e){var t=n.alternate;return t===null?(t=oi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Gp(n,e,t,i,s,r){var o=2;if(i=n,typeof n=="function")f1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ll:return Wa(t.children,s,r,e);case Lx:o=8,s|=8;break;case Uy:return n=oi(12,t,e,s|2),n.elementType=Uy,n.lanes=r,n;case Wy:return n=oi(13,t,e,s),n.elementType=Wy,n.lanes=r,n;case Vy:return n=oi(19,t,e,s),n.elementType=Vy,n.lanes=r,n;case LA:return Jm(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case PA:o=10;break e;case RA:o=9;break e;case Mx:o=11;break e;case Ox:o=14;break e;case Sr:o=16,i=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=oi(o,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function Wa(n,e,t,i){return n=oi(7,n,i,e),n.lanes=t,n}function Jm(n,e,t,i){return n=oi(22,n,i,e),n.elementType=LA,n.lanes=t,n.stateNode={isHidden:!1},n}function ly(n,e,t){return n=oi(6,n,null,e),n.lanes=t,n}function cy(n,e,t){return e=oi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function yO(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function p1(n,e,t,i,s,r,o,a,l){return n=new yO(n,e,t,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=oi(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zx(r),n}function vO(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function _k(n){if(!n)return po;n=n._reactInternals;e:{if(ul(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(Sn(t))return _2(n,t,e)}return e}function Sk(n,e,t,i,s,r,o,a,l){return n=p1(t,i,!0,n,s,r,o,a,l),n.context=_k(null),t=n.current,i=rn(),s=lo(t),r=ir(i,s),r.callback=e??null,oo(t,r,s),n.current.lanes=s,Rf(n,s,i),En(n,i),n}function Qm(n,e,t,i){var s=e.current,r=rn(),o=lo(s);return t=_k(t),e.context===null?e.context=t:e.pendingContext=t,e=ir(r,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=oo(s,e,o),n!==null&&(Oi(n,s,o,r),Hp(n,s,o)),o}function Jg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function E_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function g1(n,e){E_(n,e),(n=n.alternate)&&E_(n,e)}function bO(){return null}var Ek=typeof reportError=="function"?reportError:function(n){console.error(n)};function m1(n){this._internalRoot=n}e0.prototype.render=m1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));Qm(n,e,null,null)};e0.prototype.unmount=m1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ja(function(){Qm(null,n,null,null)}),e[cr]=null}};function e0(n){this._internalRoot=n}e0.prototype.unstable_scheduleHydration=function(n){if(n){var e=t2();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ar.length&&e!==0&&e<Ar[t].priority;t++);Ar.splice(t,0,n),t===0&&i2(n)}};function y1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function t0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function A_(){}function xO(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Jg(o);r.call(c)}}var o=Sk(e,i,n,0,null,!1,!1,"",A_);return n._reactRootContainer=o,n[cr]=o.current,Th(n.nodeType===8?n.parentNode:n),Ja(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Jg(l);a.call(c)}}var l=p1(n,0,!1,null,null,!1,!1,"",A_);return n._reactRootContainer=l,n[cr]=l.current,Th(n.nodeType===8?n.parentNode:n),Ja(function(){Qm(e,l,t,i)}),l}function n0(n,e,t,i,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Jg(o);a.call(l)}}Qm(e,o,n,s)}else o=xO(t,e,n,s,i);return Jg(o)}QA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Du(e.pendingLanes);t!==0&&(Ix(e,t|1),En(e,et()),!(fe&6)&&(tu=et()+500,wo()))}break;case 13:Ja(function(){var i=ur(n,1);if(i!==null){var s=rn();Oi(i,n,1,s)}}),g1(n,1)}};jx=function(n){if(n.tag===13){var e=ur(n,134217728);if(e!==null){var t=rn();Oi(e,n,134217728,t)}g1(n,134217728)}};e2=function(n){if(n.tag===13){var e=lo(n),t=ur(n,e);if(t!==null){var i=rn();Oi(t,n,e,i)}g1(n,e)}};t2=function(){return Se};n2=function(n,e){var t=Se;try{return Se=n,e()}finally{Se=t}};ev=function(n,e,t){switch(e){case"input":if(Xy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=Gm(i);if(!s)throw Error(j(90));OA(i),Xy(i,s)}}}break;case"textarea":NA(n,t);break;case"select":e=t.value,e!=null&&Wl(n,!!t.multiple,e,!1)}};UA=u1;WA=Ja;var wO={usingClientEntryPoint:!1,Events:[Mf,Nl,Gm,HA,BA,u1]},wu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_O={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=GA(n),n===null?null:n.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||bO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{Um=hp.inject(_O),us=hp}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wO;$n.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y1(e))throw Error(j(200));return vO(n,e,null,t)};$n.createRoot=function(n,e){if(!y1(n))throw Error(j(299));var t=!1,i="",s=Ek;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=p1(n,1,!1,null,null,t,!1,i,s),n[cr]=e.current,Th(n.nodeType===8?n.parentNode:n),new m1(e)};$n.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=GA(e),n=n===null?null:n.stateNode,n};$n.flushSync=function(n){return Ja(n)};$n.hydrate=function(n,e,t){if(!t0(e))throw Error(j(200));return n0(null,n,e,!0,t)};$n.hydrateRoot=function(n,e,t){if(!y1(n))throw Error(j(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",o=Ek;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Sk(e,null,n,1,t??null,s,!1,r,o),n[cr]=e.current,Th(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new e0(e)};$n.render=function(n,e,t){if(!t0(e))throw Error(j(200));return n0(null,n,e,!1,t)};$n.unmountComponentAtNode=function(n){if(!t0(n))throw Error(j(40));return n._reactRootContainer?(Ja(function(){n0(null,null,n,!1,function(){n._reactRootContainer=null,n[cr]=null})}),!0):!1};$n.unstable_batchedUpdates=u1;$n.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!t0(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return n0(n,e,t,!1,i)};$n.version="18.3.1-next-f1338f8080-20240426";function Ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ak)}catch(n){console.error(n)}}Ak(),AA.exports=$n;var SO=AA.exports,k_=SO;Hy.createRoot=k_.createRoot,Hy.hydrateRoot=k_.hydrateRoot;const EO="/assets/video-BzZJi-55.mp4";/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jh.apply(this,arguments)}var Zr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zr||(Zr={}));const C_="popstate";function AO(n){n===void 0&&(n={});function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return Ov("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Qg(s)}return CO(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kk(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kO(){return Math.random().toString(36).substr(2,8)}function T_(n,e){return{usr:n.state,key:n.key,idx:e}}function Ov(n,e,t,i){return t===void 0&&(t=null),jh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?lu(e):e,{state:t,key:e&&e.key||i||kO()})}function Qg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function lu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function CO(n,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=Zr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(jh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Zr.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:y})}function f(b,y){a=Zr.Push;let x=Ov(m.location,b,y);c=u()+1;let w=T_(x,c),_=m.createHref(x);try{o.pushState(w,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}r&&l&&l({action:a,location:m.location,delta:1})}function p(b,y){a=Zr.Replace;let x=Ov(m.location,b,y);c=u();let w=T_(x,c),_=m.createHref(x);o.replaceState(w,"",_),r&&l&&l({action:a,location:m.location,delta:0})}function g(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Qg(b);return x=x.replace(/ $/,"%20"),at(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return a},get location(){return n(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(C_,h),l=b,()=>{s.removeEventListener(C_,h),l=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var P_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(P_||(P_={}));function TO(n,e,t){return t===void 0&&(t="/"),PO(n,e,t,!1)}function PO(n,e,t,i){let s=typeof e=="string"?lu(e):e,r=v1(s.pathname||"/",t);if(r==null)return null;let o=Ck(n);RO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=BO(r);a=zO(o[l],c,i)}return a}function Ck(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=uo([i,l.relativePath]),u=t.concat(l);r.children&&r.children.length>0&&(at(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ck(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:jO(c,r.index),routesMeta:u})};return n.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of Tk(r.path))s(r,o,l)}),e}function Tk(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Tk(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function RO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const LO=/^:[\w-]+$/,MO=3,OO=2,DO=1,NO=10,IO=-2,R_=n=>n==="*";function jO(n,e){let t=n.split("/"),i=t.length;return t.some(R_)&&(i+=IO),e&&(i+=OO),t.filter(s=>!R_(s)).reduce((s,r)=>s+(LO.test(r)?MO:r===""?DO:NO),i)}function FO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function zO(n,e,t){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=L_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&t&&!i[i.length-1].route.index&&(h=L_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:uo([r,h.pathname]),pathnameBase:$O(uo([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=uo([r,h.pathnameBase]))}return o}function L_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=HO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[h]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:n}}function HO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),kk(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function BO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kk(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function v1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UO(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?lu(n):n;return{pathname:t?t.startsWith("/")?t:WO(t,e):e,search:GO(i),hash:XO(s)}}function WO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function uy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pk(n,e){let t=VO(n);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Rk(n,e,t,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=lu(n):(s=jh({},n),at(!s.pathname||!s.pathname.includes("?"),uy("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),uy("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),uy("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=UO(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const uo=n=>n.join("/").replace(/\/\/+/g,"/"),$O=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Lk=["post","put","patch","delete"];new Set(Lk);const YO=["get",...Lk];new Set(YO);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fh.apply(this,arguments)}const b1=R.createContext(null),KO=R.createContext(null),hl=R.createContext(null),i0=R.createContext(null),_o=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=R.createContext(null);function ZO(n,e){let{relative:t}=e===void 0?{}:e;Df()||at(!1);let{basename:i,navigator:s}=R.useContext(hl),{hash:r,pathname:o,search:a}=Dk(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:uo([i,o])),s.createHref({pathname:l,search:a,hash:r})}function Df(){return R.useContext(i0)!=null}function s0(){return Df()||at(!1),R.useContext(i0).location}function Ok(n){R.useContext(hl).static||R.useLayoutEffect(n)}function gr(){let{isDataRoute:n}=R.useContext(_o);return n?uD():JO()}function JO(){Df()||at(!1);let n=R.useContext(b1),{basename:e,future:t,navigator:i}=R.useContext(hl),{matches:s}=R.useContext(_o),{pathname:r}=s0(),o=JSON.stringify(Pk(s,t.v7_relativeSplatPath)),a=R.useRef(!1);return Ok(()=>{a.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let h=Rk(c,JSON.parse(o),r,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:uo([e,h.pathname])),(u.replace?i.replace:i.push)(h,u.state,u)},[e,i,o,r,n])}function x1(){let{matches:n}=R.useContext(_o),e=n[n.length-1];return e?e.params:{}}function Dk(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=R.useContext(hl),{matches:s}=R.useContext(_o),{pathname:r}=s0(),o=JSON.stringify(Pk(s,i.v7_relativeSplatPath));return R.useMemo(()=>Rk(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function QO(n,e){return eD(n,e)}function eD(n,e,t,i){Df()||at(!1);let{navigator:s}=R.useContext(hl),{matches:r}=R.useContext(_o),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=s0(),u;if(e){var h;let b=typeof e=="string"?lu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||at(!1),u=b}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=TO(n,{pathname:p}),m=rD(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:uo([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:uo([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,t,i);return e&&m?R.createElement(i0.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zr.Pop}},m):m}function tD(){let n=cD(),e=qO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:s},t):null,null)}const nD=R.createElement(tD,null);class iD extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(_o.Provider,{value:this.props.routeContext},R.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sD(n){let{routeContext:e,match:t,children:i}=n,s=R.useContext(b1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(_o.Provider,{value:e},i)}function rD(n,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||at(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=t,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,m=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||nD,l&&(c<0&&f===0?(g=!0,b=null):c===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let w;return p?w=m:g?w=b:h.route.Component?w=R.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,R.createElement(sD,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?R.createElement(iD,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Nk=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Nk||{}),em=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(em||{});function oD(n){let e=R.useContext(b1);return e||at(!1),e}function aD(n){let e=R.useContext(KO);return e||at(!1),e}function lD(n){let e=R.useContext(_o);return e||at(!1),e}function Ik(n){let e=lD(),t=e.matches[e.matches.length-1];return t.route.id||at(!1),t.route.id}function cD(){var n;let e=R.useContext(Mk),t=aD(em.UseRouteError),i=Ik(em.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function uD(){let{router:n}=oD(Nk.UseNavigateStable),e=Ik(em.UseNavigateStable),t=R.useRef(!1);return Ok(()=>{t.current=!0}),R.useCallback(function(s,r){r===void 0&&(r={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Fh({fromRouteId:e},r)))},[n,e])}function Je(n){at(!1)}function hD(n){let{basename:e="/",children:t=null,location:i,navigationType:s=Zr.Pop,navigator:r,static:o=!1,future:a}=n;Df()&&at(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:r,static:o,future:Fh({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof i=="string"&&(i=lu(i));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=i,m=R.useMemo(()=>{let b=v1(u,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[l,u,h,f,p,g,s]);return m==null?null:R.createElement(hl.Provider,{value:c},R.createElement(i0.Provider,{children:t,value:m}))}function dD(n){let{children:e,location:t}=n;return QO(Dv(e),t)}new Promise(()=>{});function Dv(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(i,s)=>{if(!R.isValidElement(i))return;let r=[...e,s];if(i.type===R.Fragment){t.push.apply(t,Dv(i.props.children,r));return}i.type!==Je&&at(!1),!i.props.index||!i.props.children||at(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Dv(i.props.children,r)),t.push(o)}),t}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nv(){return Nv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nv.apply(this,arguments)}function fD(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function pD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gD(n,e){return n.button===0&&(!e||e==="_self")&&!pD(n)}const mD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yD="6";try{window.__reactRouterVersion=yD}catch{}const vD="startTransition",M_=dL[vD];function bD(n){let{basename:e,children:t,future:i,window:s}=n,r=R.useRef();r.current==null&&(r.current=AO({window:s,v5Compat:!0}));let o=r.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=R.useCallback(h=>{c&&M_?M_(()=>l(h)):l(h)},[l,c]);return R.useLayoutEffect(()=>o.listen(u),[o,u]),R.createElement(hD,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const xD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jk=R.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=fD(e,mD),{basename:p}=R.useContext(hl),g,m=!1;if(typeof c=="string"&&wD.test(c)&&(g=c,xD))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=v1(_.pathname,p);_.origin===w.origin&&E!=null?c=E+_.search+_.hash:m=!0}catch{}let b=ZO(c,{relative:s}),y=_D(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function x(w){i&&i(w),w.defaultPrevented||y(w)}return R.createElement("a",Nv({},f,{href:g||b,onClick:m||r?i:x,ref:t,target:l}))});var O_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var D_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function _D(n,e){let{target:t,replace:i,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=gr(),c=s0(),u=Dk(n,{relative:o});return R.useCallback(h=>{if(gD(h,t)){h.preventDefault();let f=i!==void 0?i:Qg(c)===Qg(u);l(n,{replace:f,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:a})}},[c,l,u,i,s,t,n,r,o,a])}const SD=()=>v.jsxs("div",{className:"flex flex-col items-center mt-6 lg:mt-20",children:[v.jsxs("h1",{className:"text-4xl sm:text-4xl lg:text-6xl text-center tracking-wide",children:["Turn Text into Stunning Websites with ",v.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text font-bold",children:"AI Precision"})]}),v.jsx("p",{className:"mt-10 text-lg text-center text-neutral-500 max-w-4xl",children:"Empower Your Web Development with AI-Driven Templates and Real-Time Collaboration"}),v.jsxs("div",{className:"justify-center items-center space-x-10 my-10",children:[v.jsx("a",{href:"#",className:"mt-5 py-2 px-3 rounded-md bg-gradient-to-r from-purple-500 to-purple-900",children:"Get Started for Free"}),v.jsx(jk,{to:"/documentation",children:v.jsx("button",{className:"mt-5 py-2 px-3 rounded-md border",children:"Documentation"})})]}),v.jsx("div",{className:"flex justify-center ",children:v.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,className:"rounded-lg mx-20 my-10 border border-neutral-700 w-full",children:[v.jsx("source",{src:EO,type:"video/mp4"}),"video not supported"]})})]});/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=(...n)=>n.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>R.createElement("svg",{ref:l,...AD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Fk("lucide",s),...a},[...o.map(([c,u])=>R.createElement(c,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(n,e)=>{const t=R.forwardRef(({className:i,...s},r)=>R.createElement(kD,{ref:r,iconNode:e,className:Fk(`lucide-${ED(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=it("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=it("BookA",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m8 13 4-7 4 7",key:"4rari8"}],["path",{d:"M9.1 11h5.7",key:"1gkovt"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=it("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=it("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=it("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=it("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=it("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=it("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=it("GlobeLock",[["path",{d:"M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13",key:"qkt0x6"}],["path",{d:"M2 12h8.5",key:"ovaggd"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2",key:"1of5e8"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1",key:"1fmf51"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=it("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=it("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=it("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=it("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=it("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=it("ShieldHalf",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 22V2",key:"zs6s6o"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Hk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N_=Li.createContext&&Li.createContext(Hk),XD=["attr","size","title"];function qD(n,e){if(n==null)return{};var t=YD(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function YD(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function tm(){return tm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tm.apply(this,arguments)}function I_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function nm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(t),!0).forEach(function(i){KD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KD(n,e,t){return e=ZD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZD(n){var e=JD(n,"string");return typeof e=="symbol"?e:e+""}function JD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bk(n){return n&&n.map((e,t)=>Li.createElement(e.tag,nm({key:t},e.attr),Bk(e.child)))}function Nf(n){return e=>Li.createElement(QD,tm({attr:nm({},n.attr)},e),Bk(n.child))}function QD(n){var e=t=>{var{attr:i,size:s,title:r}=n,o=qD(n,XD),a=s||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Li.createElement("svg",tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:nm(nm({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Li.createElement("title",null,r),n.children)};return N_!==void 0?Li.createElement(N_.Consumer,null,t=>e(t)):e(Hk)}function eN(n){return Nf({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function tN(n){return Nf({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function nN(n){return Nf({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function iN(n){return Nf({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(n)}function sN(n){return Nf({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const rN="/assets/user1-DvhEV_KB.jpg",oN="/assets/user2-Dq5OlDsA.jpg",aN="/assets/user3-gEXVevPl.jpg",lN="/assets/user4-DVTefW4K.jpg",cN="/assets/user5-BF7rZEox.jpg",uN="/assets/user6-C1JI-hjQ.jpg",j_=[{label:"Features"},{label:"Workflow"},{label:"Pricing"},{label:"Testimonials"}],hN=[{icon:v.jsx(RD,{}),text:"Drag-and-Drop Interface",description:"Easily design and arrange your VR environments with a user-friendly drag-and-drop interface."},{icon:v.jsx(DD,{}),text:"Multi-Platform Compatibility",description:"Build VR applications that run seamlessly across multiple platforms, including mobile, desktop, and VR headsets."},{icon:v.jsx($D,{}),text:"Built-in Templates",description:"Jumpstart your VR projects with a variety of built-in templates for different types of applications and environments."},{icon:v.jsx(CD,{}),text:"Real-Time Preview",description:"Preview your VR application in real-time as you make changes, allowing for quick iterations and adjustments."},{icon:v.jsx(UD,{}),text:"Collaboration Tools",description:"Work together with your team in real-time on VR projects, enabling seamless collaboration and idea sharing."},{icon:v.jsx(ND,{}),text:"Analytics Dashboard",description:"Gain valuable insights into user interactions and behavior within your VR applications with an integrated analytics dashboard."}],dN=[{title:"Free",price:"$0",features:["Private board sharing","5 Gb Storage","Web Analytics","Private Mode"]},{title:"Pro",price:"$10",features:["Private board sharing","10 Gb Storage","Web Analytics (Advance)","Private Mode"]},{title:"Enterprise",price:"$200",features:["Private board sharing","Unlimited Storage","High Performance Network","Private Mode"]}],fN=[{title:"Code merge made easy",description:"Track the performance of your VR apps and gain insights into user behavior."},{title:"Review code without worry",description:"Track the performance of your VR apps and gain insights into user behavior."},{title:"AI Assistance to reduce time",description:"Track the performance of your VR apps and gain insights into user behavior."},{title:"Share work in minutes",description:"Track the performance of your VR apps and gain insights into user behavior."}],pN=[{user:"John Doe",company:"Stellar Solutions",image:rN,text:"I am extremely satisfied with the services provided. The team was responsive, professional, and delivered results beyond my expectations."},{user:"Jane Smith",company:"Blue Horizon Technologies",image:oN,text:"I couldn't be happier with the outcome of our project. The team's creativity and problem-solving skills were instrumental in bringing our vision to life"},{user:"David Johnson",company:"Quantum Innovations",image:aN,text:"Working with this company was a pleasure. Their attention to detail and commitment to excellence are commendable. I would highly recommend them to anyone looking for top-notch service."},{user:"Ronee Brown",company:"Fusion Dynamics",image:lN,text:"Working with the team at XYZ Company was a game-changer for our project. Their attention to detail and innovative solutions helped us achieve our goals faster than we thought possible. We are grateful for their expertise and professionalism!"},{user:"Michael Wilson",company:"Visionary Creations",image:cN,text:"I am amazed by the level of professionalism and dedication shown by the team. They were able to exceed our expectations and deliver outstanding results."},{user:"Emily Davis",company:"Synergy Systems",image:uN,text:"The team went above and beyond to ensure our project was a success. Their expertise and dedication are unmatched. I look forward to working with them again in the future."}],gN=[{href:"#",text:"Getting Started"},{href:"#",text:"Documentation"},{href:"#",text:"Tutorials"},{href:"#",text:"API Reference"},{href:"#",text:"Community Forums"}],mN=[{href:"#",text:"Features"},{href:"#",text:"Supported Devices"},{href:"#",text:"System Requirements"},{href:"#",text:"Downloads"},{href:"#",text:"Release Notes"}],yN=[{href:"#",text:"Events"},{href:"#",text:"Meetups"},{href:"#",text:"Conferences"},{href:"#",text:"Hackathons"},{href:"#",text:"Jobs"}],vN=[{icon:v.jsx(iN,{className:"text-purple-600 text-3xl"}),heading:"Components Library",description:"Browse and customize a wide range of pre-built components for your website."},{icon:v.jsx(sN,{className:"text-purple-600 text-3xl"}),heading:"Collaboration Tools",description:"Work together in real-time with your team, enhancing productivity."},{icon:v.jsx(tN,{className:"text-purple-600 text-3xl"}),heading:"SEO Optimization",description:"Optimize your website’s performance on search engines with our tools."},{icon:v.jsx(eN,{className:"text-purple-600 text-3xl"}),heading:"Analytics",description:"Access comprehensive analytics to monitor your website's performance."},{icon:v.jsx(nN,{className:"text-purple-600 text-3xl"}),heading:"Documentation Generator",description:"Generate LaTeX and PDF documentation for your projects with ease."}],Iv=[{id:1,name:"Header 1",html:`
      <header class="site-header-1">
        <div class="wrapper site-header__wrapper-1">
          <a href="#" class="brand-1">Brand</a>
          <nav class="nav-1">
            <button class="nav__toggle-1" aria-expanded="false" type="button">
              menu
            </button>
            <ul class="nav__wrapper-1">
              <li class="nav__item-1"><a href="#">Home</a></li>
              <li class="nav__item-1"><a href="#">About</a></li>
              <li class="nav__item-1"><a href="#">Services</a></li>
              <li class="nav__item-1"><a href="#">Hire us</a></li>
              <li class="nav__item-1"><a href="#">Contact</a></li>
            </ul>
          </nav>
        </div>
      </header>`,css:`
      .brand-1 {
        font-weight: bold;
        font-size: 20px;
      }
  
      .site-header-1 {
        
        background-color: #def7ff;
      }
  
      .site-header__wrapper-1 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
  
      @media (min-width: 600px) {
        .site-header__wrapper-1 {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 0;
          padding-bottom: 0;
        }
      }
  
      @media (min-width: 600px) {
        .nav__wrapper-1 {
          display: flex;
        }
      }
  
      @media (max-width: 599px) {
        .nav__wrapper-1 {
          position: absolute;
          top: 100%;
          right: 0;
          left: 0;
          z-index: -1;
          background-color: #d9f0f7;
          visibility: hidden;
          opacity: 0;
          transform: translateY(-100%);
          transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        .nav__wrapper-1.active {
          visibility: visible;
          opacity: 1;
          transform: translateY(0);
        }
      }
  
      .nav__item-1 a {
        display: block;
        padding: 1.5rem 1rem;
      }
  
      .nav__toggle-1 {
        display: none;
      }
  
      @media (max-width: 599px) {
        .nav__toggle-1 {
          display: block;
          position: absolute;
          right: 1rem;
          top: 1rem;
        }
      }
    `},{id:2,name:"Header 2",html:`
  <header class="site-header-2">
    <div class="wrapper site-header__wrapper-2">
      <nav class="nav-2">
        <button class="nav__toggle-2" aria-expanded="false" type="button">
          menu
        </button>
        <ul class="nav__wrapper-2" style="display: flex; justify-content: space-between; align-items: center;">
          <li class="nav__item-2"><a href="#">Home</a></li>
          <li class="nav__item-2"><a href="#">About</a></li>
          <li class="nav__item-2"><a href="#" class="brand-2" style="padding-top: 21px;">Brand</a></li>
          <li class="nav__item-2"><a href="#">Hire us</a></li>
          <li class="nav__item-2"><a href="#">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>`,css:`
      .brand-2 {
        font-weight: bold;
        font-size: 20px;
      }
  
      .site-header-2 {

        background-color: #def7ff;
      }
  
      .site-header__wrapper-2 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
  
      @media (min-width: 600px) {
        .site-header__wrapper-2 {
          display: flex;
          align-items: center;
          padding-top: 0;
          padding-bottom: 0;
        }
      }
  
      .nav-2 {
        flex: 1;
      }
  
      @media (min-width: 600px) {
        .nav__wrapper-2 {
          display: flex;
        }
      }
  
      @media (max-width: 599px) {
        .nav__wrapper-2 {
          position: absolute;
          top: 100%;
          right: 0;
          left: 0;
          z-index: -1;
          background-color: #d9f0f7;
          visibility: hidden;
          opacity: 0;
          transform: translateY(-100%);
          transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        .nav__wrapper-2.active {
          visibility: visible;
          opacity: 1;
          transform: translateY(0);
        }
      }
  
      .nav__item-2 a {
        display: block;
        padding: 1.5rem 1rem;
      }
  
      .nav__toggle-2 {
        display: none;
      }
  
      @media (max-width: 599px) {
        .nav__toggle-2 {
          display: block;
          position: absolute;
          right: 1rem;
          top: 1rem;
        }
      }
    `},{id:3,name:"Header 3",html:`
      <header class="site-header-3">
        <div class="wrapper site-header__wrapper-3">
          <div class="site-header__start-3">
            <a href="#" class="brand-3">Brand</a>
          </div>
          <div class="site-header__end-3">
            <nav class="nav-3">
              <button class="nav__toggle-3" aria-expanded="false" type="button">
                menu
              </button>
              <ul class="nav__wrapper-3">
                <li class="nav__item-3"><a href="#">Home</a></li>
                <li class="nav__item-3"><a href="#">About</a></li>
                <li class="nav__item-3"><a href="#">Services</a></li>
                <li class="nav__item-3"><a href="#">Hire us</a></li>
                <li class="nav__item-3"><a href="#">Contact</a></li>
              </ul>
            </nav>
            <div class="search-3">
              <button class="search__toggle-3" aria-label="Open search">
                Search
              </button>
              <form class="search__form-3" action="">
                <label class="sr-only" for="search-3">Search</label>
                <input
                  type="search"
                  name=""
                  id="search-3"
                  placeholder="What's on your mind?"
                />
              </form>
            </div>
          </div>
        </div>
      </header>`,css:`
      .brand-3 {
        font-weight: bold;
        font-size: 20px;
      }
  
      .site-header-3 {
        
        background-color: #def7ff;
      }
  
      .site-header__start-3,
      .site-header__end-3 {
        display: flex;
        align-items: center;
      }
  
      .site-header__wrapper-3 {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
  
      @media (min-width: 800px) {
        .site-header__wrapper-3 {
          padding-top: 0;
          padding-bottom: 0;
        }
      }
  
      @media (min-width: 800px) {
        .nav__wrapper-3 {
          display: flex;
        }
      }
  
      @media (max-width: 799px) {
        .nav__wrapper-3 {
          position: absolute;
          top: 100%;
          right: 0;
          left: 0;
          z-index: -1;
          background-color: #d9f0f7;
          visibility: hidden;
          opacity: 0;
          transform: translateY(-100%);
          transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        .nav__wrapper-3.active {
          visibility: visible;
          opacity: 1;
          transform: translateY(0);
        }
      }
  
      .nav__item-3 a {
        display: block;
        padding: 1.5rem 1rem;
      }
  
      .nav__toggle-3 {
        display: none;
      }
  
      @media (max-width: 799px) {
        .nav__toggle-3 {
          display: block;
          position: absolute;
          right: 1rem;
          top: 1rem;
        }
      }
  
      .search-3 {
        display: flex;
        align-items: center;
      }
  
      .search__toggle-3 {
        appearance: none;
        order: 1;
        font-size: 0;
        width: 34px;
        height: 34px;
        background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center right/22px no-repeat;
        border: 0;
      }
  
      @media (min-width: 800px) {
        .search__toggle-3 {
          border-left: 1px solid #979797;
          padding-left: 10px;
        }
      }
  
      @media (max-width: 799px) {
        .search__toggle-3 {
          position: absolute;
          right: 5.5rem;
          top: 0.65rem;
          background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center right/22px no-repeat;
        }
      }
  
      .search__form-3 {
        display: none;
      }
      .search__form-3.active {
        display: block;
      }
      @media (max-width: 799px) {
        .search__form-3 {
          position: absolute;
          left: 0;
          right: 0;
          top: 100%;
          background-color: red;
        }
        .search__form-3 input {
          width: 100%;
        }
      }
  
      .search__form-3 input {
        min-width: 200px;
        appearance: none;
        border: 0;
        background-color: #fff;
        border-radius: 0;
        font-size: 16px;
        padding: 0.5rem;
      }
      @media (max-width: 799px) {
        .search__form-3 input {
          border-bottom: 1px solid #979797;
        }
      }
    `,js:`
      let navToggle = document.querySelector(".nav__toggle-3");
      let navWrapper = document.querySelector(".nav__wrapper-3");
  
      navToggle.addEventListener("click", function () {
        if (navWrapper.classList.contains("active")) {
          this.setAttribute("aria-expanded", "false");
          this.setAttribute("aria-label", "menu");
          navWrapper.classList.remove("active");
        } else {
          navWrapper.classList.add("active");
          this.setAttribute("aria-label", "close menu");
          this.setAttribute("aria-expanded", "true");
          searchForm.classList.remove("active");
        }
      });
  
      let searchToggle = document.querySelector(".search__toggle-3");
      let searchForm = document.querySelector(".search__form-3");
  
      searchToggle.addEventListener("click", showSearch);
  
      function showSearch() {
        searchForm.classList.toggle("active");
        navToggle.setAttribute("aria-expanded", "false");
        navToggle.setAttribute("aria-label", "menu");
        navWrapper.classList.remove("active");
      }
    `},{id:4,name:"Header 4",html:`    <header class="site-header">
      <div class="wrapper site-header__wrapper">
        <div class="site-header__start">
          <a href="#" class="brand">Brand</a>
          <div class="search">
            <button class="search__toggle" aria-label="Open search">
              Search
            </button>
            <form class="search__form" action="">
              <label class="sr-only" for="search">Search</label>
              <input
                type="search"
                name=""
                id="search"
                placeholder="What's on your mind?"
              />
            </form>
          </div>
        </div>
        <div class="site-header__end">
          <nav class="nav">
            <button class="nav__toggle" aria-expanded="false" type="button">
              menu
            </button>
            <ul class="nav__wrapper">
              <li class="nav__item active">
                <a href="#">
                  <svg
                    viewBox="0 0 24 24"
                    width="24px"
                    height="24px"
                    x="0"
                    y="0"
                    preserveAspectRatio="xMinYMin meet"
                    class="nav-icon"
                    focusable="false"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M22,9.45,12.85,3.26A1.52,1.52,0,0,0,12,3a1.49,1.49,0,0,0-.84.26L2,9.45,3.06,11,4,10.37V20a1,1,0,0,0,1,1h5V16h4v5h5a1,1,0,0,0,1-1V10.37l.94.63Z"
                      class="active-item"
                      style="fill-opacity: 1"
                    ></path>
                    <path
                      d="M22,9.45L12.85,3.26a1.5,1.5,0,0,0-1.69,0L2,9.45,3.06,11,4,10.37V20a1,1,0,0,0,1,1h6V16h2v5h6a1,1,0,0,0,1-1V10.37L20.94,11ZM18,19H15V15a1,1,0,0,0-1-1H10a1,1,0,0,0-1,1v4H6V8.89l6-4,6,4V19Z"
                      class="inactive-item"
                      style="fill: currentColor"
                    ></path>
                  </svg>
                  <span>Home</span>
                </a>
              </li>
              <li class="nav__item">
                <a href="#">
                  <svg
                    viewBox="0 0 24 24"
                    width="24px"
                    height="24px"
                    x="0"
                    y="0"
                    preserveAspectRatio="xMinYMin meet"
                    class="nav-icon"
                    focusable="false"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M16,17.85V20a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V17.85a4,4,0,0,1,2.55-3.73l2.95-1.2V11.71l-0.73-1.3A6,6,0,0,1,4,7.47V6a4,4,0,0,1,4.39-4A4.12,4.12,0,0,1,12,6.21V7.47a6,6,0,0,1-.77,2.94l-0.73,1.3v1.21l2.95,1.2A4,4,0,0,1,16,17.85Zm4.75-3.65L19,13.53v-1a6,6,0,0,0,1-3.31V9a3,3,0,0,0-6,0V9.18a6,6,0,0,0,.61,2.58A3.61,3.61,0,0,0,16,13a3.62,3.62,0,0,1,2,3.24V21h4a1,1,0,0,0,1-1V17.47A3.5,3.5,0,0,0,20.75,14.2Z"
                      class="inactive-item"
                      style="fill-opacity: 1"
                    ></path>
                    <path
                      d="M20.74,14.2L19,13.54V12.86l0.25-.41A5,5,0,0,0,20,9.82V9a3,3,0,0,0-6,0V9.82a5,5,0,0,0,.75,2.63L15,12.86v0.68l-1,.37a4,4,0,0,0-.58-0.28l-2.45-1V10.83A8,8,0,0,0,12,7V6A4,4,0,0,0,4,6V7a8,8,0,0,0,1,3.86v1.84l-2.45,1A4,4,0,0,0,0,17.35V20a1,1,0,0,0,1,1H22a1,1,0,0,0,1-1V17.47A3.5,3.5,0,0,0,20.74,14.2ZM16,8.75a1,1,0,0,1,2,0v1.44a3,3,0,0,1-.38,1.46l-0.33.6a0.25,0.25,0,0,1-.22.13H16.93a0.25,0.25,0,0,1-.22-0.13l-0.33-.6A3,3,0,0,1,16,10.19V8.75ZM6,5.85a2,2,0,0,1,4,0V7.28a6,6,0,0,1-.71,2.83L9,10.72a1,1,0,0,1-.88.53H7.92A1,1,0,0,1,7,10.72l-0.33-.61A6,6,0,0,1,6,7.28V5.85ZM14,19H2V17.25a2,2,0,0,1,1.26-1.86L7,13.92v-1a3,3,0,0,0,1,.18H8a3,3,0,0,0,1-.18v1l3.72,1.42A2,2,0,0,1,14,17.21V19Zm7,0H16V17.35a4,4,0,0,0-.55-2l1.05-.4V14.07a2,2,0,0,0,.4.05h0.2a2,2,0,0,0,.4-0.05v0.88l2.53,1a1.5,1.5,0,0,1,1,1.4V19Z"
                      class="active-item"
                      style="fill: currentColor"
                    ></path>
                  </svg>
                  <span>My Network</span>
                </a>
              </li>
              <li class="nav__item">
                <a href="#">
                  <svg
                    viewBox="0 0 24 24"
                    width="24px"
                    height="24px"
                    x="0"
                    y="0"
                    preserveAspectRatio="xMinYMin meet"
                    class="nav-icon"
                    focusable="false"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2,13H22v6a1,1,0,0,1-1,1H3a1,1,0,0,1-1-1V13ZM22,8v4H2V8A1,1,0,0,1,3,7H7V6a3,3,0,0,1,3-3h4a3,3,0,0,1,3,3V7h4A1,1,0,0,1,22,8ZM15,6a1,1,0,0,0-1-1H10A1,1,0,0,0,9,6V7h6V6Z"
                      class="inactive-item"
                      style="fill-opacity: 1"
                    ></path>
                    <path
                      d="M21,7H17V6a3,3,0,0,0-3-3H10A3,3,0,0,0,7,6V7H3A1,1,0,0,0,2,8V19a1,1,0,0,0,1,1H21a1,1,0,0,0,1-1V8A1,1,0,0,0,21,7ZM9,6a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1V7H9V6ZM20,18H4V13H20v5Zm0-6H4V9H20v3Z"
                      class="active-item"
                      style="fill: currentColor"
                    ></path>
                  </svg>
                  <span>Jobs</span>
                </a>
              </li>
              <li class="nav__item">
                <a href="#">
                  <svg
                    viewBox="0 0 24 24"
                    width="24px"
                    height="24px"
                    x="0"
                    y="0"
                    preserveAspectRatio="xMinYMin meet"
                    class="nav-icon"
                    focusable="false"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21,8H8A1,1,0,0,0,7,9V19a1,1,0,0,0,1,1H18l4,3V9A1,1,0,0,0,21,8Zm-4,8H12V15h5Zm1-3H11V12h7ZM17,4V6H6A1,1,0,0,0,5,7v8H3a1,1,0,0,1-1-1V4A1,1,0,0,1,3,3H16A1,1,0,0,1,17,4Z"
                      class="inactive-item"
                      style="fill-opacity: 1"
                    ></path>
                    <path
                      d="M21,8H8A1,1,0,0,0,7,9V19a1,1,0,0,0,1,1H18l4,3V9A1,1,0,0,0,21,8ZM20,19.11L18.52,18H9V10H20v9.11ZM12,15h5v1H12V15ZM4,13H5v2H3a1,1,0,0,1-1-1V4A1,1,0,0,1,3,3H16a1,1,0,0,1,1,1V6H15V5H4v8Zm14,0H11V12h7v1Z"
                      class="active-item"
                      style="fill: currentColor"
                    ></path>
                  </svg>
                  <span>Messaging</span>
                </a>
              </li>
              <li class="nav__item">
                <a href="#">
                  <svg
                    viewBox="0 0 24 24"
                    width="24px"
                    height="24px"
                    x="0"
                    y="0"
                    preserveAspectRatio="xMinYMin meet"
                    class="nav-icon"
                    focusable="false"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18.94,14H5.06L5.79,8.44A6.26,6.26,0,0,1,12,3h0a6.26,6.26,0,0,1,6.21,5.44Zm2,5-1.71-4H4.78L3.06,19a0.71,0.71,0,0,0-.06.28,0.75,0.75,0,0,0,.75.76H10a2,2,0,1,0,4,0h6.27A0.74,0.74,0,0,0,20.94,19Z"
                      class="inactive-item"
                      style="fill-opacity: 1"
                    ></path>
                    <path
                      d="M20.94,19L19,14.49s-0.41-3.06-.8-6.06A6.26,6.26,0,0,0,12,3h0A6.26,6.26,0,0,0,5.79,8.44L5,14.49,3.06,19a0.71,0.71,0,0,0-.06.28,0.75,0.75,0,0,0,.75.76H10a2,2,0,1,0,4,0h6.27A0.74,0.74,0,0,0,20.94,19ZM12,4.75h0a4.39,4.39,0,0,1,4.35,3.81c0.28,2.1.56,4.35,0.7,5.44H7L7.65,8.56A4.39,4.39,0,0,1,12,4.75ZM5.52,18l1.3-3H17.18l1.3,3h-13Z"
                      class="active-item"
                      style="fill: currentColor"
                    ></path>
                  </svg>
                  <span>Notifications</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>`,css:`
.brand {
  font-weight: bold;
  font-size: 20px; }

.site-header {
  background-color: #def7ff; }

.site-header__start {
  display: flex;
  align-items: center; }

.site-header__end {
  display: flex;
  align-items: center; }

.site-header__wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1rem;
  padding-bottom: 1rem; }
  @media (min-width: 800px) {
    .site-header__wrapper {
      padding-top: 0;
      padding-bottom: 0; } }
@media (min-width: 800px) {
  .nav__wrapper {
    display: flex; } }

@media (max-width: 799px) {
  .nav__wrapper {
    position: absolute;
    top: calc(100% + 35px);
    right: 0;
    left: 0;
    z-index: -1;
    background-color: #d9f0f7;
    visibility: hidden;
    opacity: 0;
    transform: translateY(-100%);
    transition: transform 0.3s ease-out, opacity 0.3s ease-out; }
    .nav__wrapper.active {
      visibility: visible;
      opacity: 1;
      transform: translateY(0); } }

.nav__item:not(:last-child) {
  margin-right: 0.5rem; }

.nav__item a {
  display: block;
  padding: 1rem;
  border-left: 4px solid transparent; }
  @media (min-width: 800px) {
    .nav__item a {
      text-align: center;
      border-left: 0;
      border-bottom: 4px solid transparent; } }
.nav__item svg {
  display: inline-block;
  vertical-align: middle;
  width: 28px;
  height: 28px;
  margin-right: 1rem; }
  @media (min-width: 800px) {
    .nav__item svg {
      display: block;
      margin: 0 auto 0.5rem; } }
.nav__item.active a {
  border-left-color: #222; }
  @media (min-width: 800px) {
    .nav__item.active a {
      border-bottom-color: #222; } }
.nav__toggle {
  display: none; }
  @media (max-width: 799px) {
    .nav__toggle {
      display: block;
      position: absolute;
      right: 1rem;
      top: 1rem; } }
.search {
  display: flex;
  margin-left: 1rem; }

.search__toggle {
  appearance: none;
  order: 1;
  font-size: 0;
  width: 34px;
  height: 34px;
  background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center right/22px no-repeat;
  border: 0;
  display: none; }
  @media (min-width: 800px) {
    .search__toggle {
      border-left: 1px solid #979797;
      padding-left: 10px; } }
  @media (max-width: 799px) {
    .search__toggle {
      position: absolute;
      right: 5.5rem;
      top: 0.65rem;
      background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center/22px no-repeat; } }
.search__form {
  display: block; }
  .search__form.active {
    display: block; }
  @media (max-width: 799px) {
    .search__form {
      position: absolute;
      left: 0;
      right: 0;
      top: 100%; }
      .search__form input {
        width: 100%; } }
  .search__form input {
    min-width: 200px;
    appearance: none;
    border: 0;
    background-color: #fff;
    border-radius: 0;
    font-size: 16px;
    padding: 0.5rem; }
    @media (max-width: 799px) {
      .search__form input {
        border-bottom: 1px solid #979797; } }
.inactive-item {
  opacity: 0; }
`,js:`let navToggle = document.querySelector(".nav__toggle");
let navWrapper = document.querySelector(".nav__wrapper");

navToggle.addEventListener("click", function () {
  if (navWrapper.classList.contains("active")) {
    this.setAttribute("aria-expanded", "false");
    this.setAttribute("aria-label", "menu");
    navWrapper.classList.remove("active");
  } else {
    navWrapper.classList.add("active");
    this.setAttribute("aria-label", "close menu");
    this.setAttribute("aria-expanded", "true");
  }
});

let searchToggle = document.querySelector(".search__toggle");
let searchForm = document.querySelector(".search__form");

searchToggle.addEventListener("click", showSearch);

function showSearch() {
  searchForm.classList.toggle("active");
}
`},{id:5,name:"Header 5",html:`<header class="site-header">
      <div class="site-header__top">
        <div class="wrapper site-header__wrapper">
          <div class="site-header__start">
            <ul class="">
              <li class=""><a href="#">About</a></li>
              <li class=""><a href="#">Contact</a></li>
            </ul>
          </div>
          <div class="site-header__middle">
            <a href="#" class="brand">Brand</a>
          </div>
          <div class="site-header__end top">
            <a href="#">Login</a>
            <a href="#" class="button" style="background-color:#007bff; color: white;padding: 5px 10px; border-radius: 8px;">Some action</a>
          </div>
        </div>
      </div>
      <div class="site-header__bottom">
        <div class="wrapper site-header__wrapper">
          <div class="site-header__start">
            <nav class="nav">
              <button class="nav__toggle" aria-expanded="false" type="button">
                menu
              </button>
              <ul class="nav__wrapper">
                <li class="nav__item"><a href="#">Home</a></li>
                <li class="nav__item"><a href="#">About</a></li>
                <li class="nav__item"><a href="#">Services</a></li>
                <li class="nav__item"><a href="#">Hire us</a></li>
                <li class="nav__item"><a href="#">Contact</a></li>
              </ul>
            </nav>
          </div>

          <div class="site-header__end bottom">
            <div class="search">
              <button class="search__toggle" aria-label="Open search">
                Search
              </button>
              <form class="search__form" action="">
                <label class="sr-only" for="search">Search</label>
                <input
                  type="search"
                  name=""
                  id="search"
                  placeholder="What's on your mind?"
                />
              </form>
            </div>
            <a href="#" class="cart">
              <svg
                version="1.1"
                viewBox="0 0 100 100"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <title>Cart</title>
                  <path
                    d="m95.398 23.699c-1.8008-2.3008-4.6016-3.6992-7.5-3.6992h-60.898l-1.8984-7.3984c-1.1016-4.3008-4.8984-7.3008-9.3008-7.3008h-10.199c-1.6992 0-3.1016 1.3984-3.1016 3.1016 0 1.6992 1.3984 3.1016 3.1016 3.1016h10.199c1.5 0 2.8008 1 3.1992 2.5l12.199 48.602c1.1016 4.3008 4.8984 7.3008 9.3008 7.3008h39.898c4.3984 0 8.3008-3 9.3008-7.3008l7.5-30.801c0.69922-2.8047 0.10156-5.8047-1.8008-8.1055zm-4.2969 6.6992-7.5 30.801c-0.39844 1.5-1.6992 2.5-3.1992 2.5h-39.902c-1.5 0-2.8008-1-3.1992-2.5l-8.6992-34.898h59.301c1 0 2 0.5 2.6016 1.3008 0.59766 0.79688 0.89453 1.7969 0.59766 2.7969z"
                  />
                  <path
                    d="m42.602 73.898c-5.6992 0-10.398 4.6992-10.398 10.398s4.6992 10.398 10.398 10.398c5.6992 0.003907 10.398-4.6953 10.398-10.395s-4.6992-10.402-10.398-10.402zm0 14.5c-2.3008 0-4.1016-1.8008-4.1016-4.1016s1.8008-4.1016 4.1016-4.1016c2.3008 0 4.1016 1.8008 4.1016 4.1016-0.003906 2.2031-1.9023 4.1016-4.1016 4.1016z"
                  />
                  <path
                    d="m77 73.898c-5.6992 0-10.398 4.6992-10.398 10.398s4.6992 10.398 10.398 10.398 10.398-4.6992 10.398-10.398c-0.097657-5.6953-4.6992-10.398-10.398-10.398zm0 14.5c-2.3008 0-4.1016-1.8008-4.1016-4.1016s1.8008-4.1016 4.1016-4.1016 4.1016 1.8008 4.1016 4.1016c0 2.2031-1.9023 4.1016-4.1016 4.1016z"
                  />
                </g>
              </svg>
            </a>
            <a href="#">
              <svg
                version="1.1"
                viewBox="0 0 100 100"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title>Profile</title>
                <path
                  d="m65.57 52.5c6.9336-4.5078 11.574-11.797 12.723-19.988 1.1484-8.1875-1.3047-16.473-6.7344-22.715-5.4258-6.2422-13.289-9.8242-21.559-9.8242s-16.133 3.582-21.559 9.8242c-5.4297 6.2422-7.8828 14.527-6.7344 22.715 1.1484 8.1914 5.7891 15.48 12.723 19.988-10.012 3.2812-18.73 9.6406-24.914 18.172-6.1836 8.5273-9.5117 18.793-9.5156 29.328h7.1445c0-15.312 8.168-29.461 21.426-37.117 13.262-7.6523 29.598-7.6523 42.859 0 13.258 7.6562 21.426 21.805 21.426 37.117h7.1445c-0.003906-10.535-3.332-20.801-9.5156-29.328-6.1836-8.5312-14.902-14.891-24.914-18.172zm-37-23.93c0-5.6836 2.2578-11.133 6.2773-15.152 4.0195-4.0156 9.4688-6.2734 15.152-6.2734s11.133 2.2578 15.152 6.2734c4.0195 4.0195 6.2773 9.4688 6.2773 15.152 0 5.6836-2.2578 11.137-6.2773 15.152-4.0195 4.0195-9.4688 6.2773-15.152 6.2773s-11.133-2.2578-15.152-6.2773c-4.0195-4.0156-6.2773-9.4688-6.2773-15.152z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>
`,css:`
.brand {
  font-weight: bold;
  font-size: 27px; }

.site-header__top {
  background-color: #def7ff; }
  .site-header__top ul {
    display: flex; }
  .site-header__top li:not(:last-child) {
    margin-right: 1.5rem; }
  .site-header__top .site-header__start {
    display: none; }

.site-header__bottom {

  background-color: #c7f2ff; }
  @media (max-width: 939px) {
    .site-header__bottom .site-header__end {
      order: -1; } }
.site-header__wrapper {
  display: flex;
  justify-content: space-between; }

.site-header__wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem; }
  @media (min-width: 940px) {
    .site-header__wrapper {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem; } }
.site-header__end {
  display: flex;
  align-items: center; }

.site-header__end.top > * + * {
  margin-left: 1.5rem; }

@media (min-width: 940px) {
  .site-header__end.bottom > *:not(:last-child) {
    margin-right: 1.5rem; } }

@media (max-width: 939px) {
  .site-header__end.bottom .cart {
    margin-right: 1.5rem; } }

@media (max-width: 939px) {
  .site-header__end.bottom .search {
    margin-left: 0; } }

.site-header__end.bottom svg {
  width: 22px;
  height: 22px; }

@media (min-width: 940px) {
  .nav__wrapper {
    display: flex; } }

@media (max-width: 939px) {
  .nav__wrapper {
    position: absolute;
    top: 100%;
    right: 0;
    left: 0;
    z-index: -1;
    background-color: #d9f0f7;
    visibility: hidden;
    opacity: 0;
    transform: translateY(-100%);
    transition: transform 0.3s ease-out, opacity 0.3s ease-out; }
    .nav__wrapper.active {
      visibility: visible;
      opacity: 1;
      transform: translateY(0); } }

.nav__item:not(:last-child) {
  margin-right: 1.5rem; }

.nav__item a {
  display: block;
  padding-top: 1.5rem;
  padding-bottom: 1.5rem; }
  @media (max-width: 939px) {
    .nav__item a {
      padding: 1rem; } }
.nav__item svg {
  display: inline-block;
  vertical-align: middle;
  width: 28px;
  height: 28px;
  margin-right: 1rem; }
  @media (min-width: 940px) {
    .nav__item svg {
      display: block;
      margin: 0 auto 0.5rem; } }
.nav__item.active a {
  border-left-color: #222; }
  @media (min-width: 800px) {
    .nav__item.active a {
      border-bottom-color: #222; } }
.nav__toggle {
  position: absolute;
  right: 1rem;
  top: 1rem; }
  @media (min-width: 940px) {
    .nav__toggle {
      display: none; } }
.search {
  display: flex; }

.search__toggle {
  appearance: none;
  order: 1;
  font-size: 0;
  width: 34px;
  height: 34px;
  background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center/22px no-repeat;
  border: 0; }
  @media (max-width: 939px) {
    .search__toggle {
      position: absolute;
      right: 5.5rem;
      top: 0.65rem; } }
  .search__toggle.active {
    background: url('https://cdn-icons-png.flaticon.com/512/54/54481.png') center/22px no-repeat; }

.search__form {
  display: none; }
  .search__form.active {
    display: block; }
  @media (max-width: 799px) {
    .search__form {
      position: absolute;
      left: 0;
      right: 0;
      top: 100%;
      background-color: red; }
      .search__form input {
        width: 100%; } }
  .search__form input {
    min-width: 200px;
    appearance: none;
    border: 0;
    background-color: #fff;
    border-radius: 0;
    font-size: 16px;
    padding: 0.5rem; }
    @media (max-width: 799px) {
      .search__form input {
        border-bottom: 1px solid #979797; } }
`,js:`let navToggle = document.querySelector(".nav__toggle");
let navWrapper = document.querySelector(".nav__wrapper");

navToggle.addEventListener("click", function () {
  if (navWrapper.classList.contains("active")) {
    this.setAttribute("aria-expanded", "false");
    this.setAttribute("aria-label", "menu");
    navWrapper.classList.remove("active");
  } else {
    navWrapper.classList.add("active");
    this.setAttribute("aria-label", "close menu");
    this.setAttribute("aria-expanded", "true");
    searchForm.classList.remove("active");
    searchToggle.classList.remove("active");
  }
});

let searchToggle = document.querySelector(".search__toggle");
let searchForm = document.querySelector(".search__form");

searchToggle.addEventListener("click", showSearch);

function showSearch() {
  searchForm.classList.toggle("active");
  searchToggle.classList.toggle("active");

  navToggle.setAttribute("aria-expanded", "false");
  navToggle.setAttribute("aria-label", "menu");
  navWrapper.classList.remove("active");

  if (searchToggle.classList.contains("active")) {
    searchToggle.setAttribute("aria-label", "Close search");
  } else {
    searchToggle.setAttribute("aria-label", "Open search");
  }
}
`}],If=R.createContext(),bN=({children:n})=>{const e=R.useRef(null),t=R.useRef(null),i=R.useRef(null),s=R.useRef(null);return v.jsx(If.Provider,{value:{featuresRef:e,workflowRef:t,pricingRef:i,testimonialsRef:s},children:n})},xN=()=>{const{featuresRef:n}=R.useContext(If);return R.useEffect(()=>{n.current&&console.log("Features ref set:",n.current)},[n]),v.jsxs("div",{ref:n,className:"relative mt-10 border-b border-neutral-800 min-h-[700px]",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:"Features"}),v.jsxs("h2",{className:"text-3xl mt-10 sm:text-4xl lg:text-6xl tracking-wide",children:["Easily build ",v.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-purple-900 text-transparent bg-clip-text font-semibold",children:"your code"})]})]}),v.jsx("div",{className:"flex flex-wrap mt-10",children:hN.map((e,t)=>v.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex mx-6 h-10 w-10 p-2 text-purple-700 justify-center items-center rounded-full",children:e.icon}),v.jsxs("div",{children:[v.jsx("h5",{className:"mt-1 mb-6 text-xl",children:e.text}),v.jsx("p",{className:"text-md p-2 mb-20 text-neutral-500",children:e.description})]})]})},t))})]})},wN="/assets/code-CF0HcwZS.jpg",_N=()=>{const{workflowRef:n}=R.useContext(If);return v.jsxs("div",{ref:n,className:"mt-20",children:[v.jsxs("h2",{className:"text-3xl sm:text-5xl lg:text-6xl text-center mt-6 tracking-wide",children:["Accelerate your"," ",v.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:"coding workflow."})]}),v.jsxs("div",{className:"flex flex-wrap justify-center",children:[v.jsx("div",{className:"p-2 w-full lg:w-1/2",children:v.jsx("img",{src:wN,alt:"Coding"})}),v.jsx("div",{className:"pt-12 w-full lg:w-1/2",children:fN.map((e,t)=>v.jsxs("div",{className:"flex mb-12",children:[v.jsx("div",{className:"text-green-400 mx-6 bg-neutral-900 h-10 w-10 p-2 justify-center items-center rounded-full",children:v.jsx(zk,{})}),v.jsxs("div",{children:[v.jsx("h5",{className:"mt-1 mb-2 text-xl",children:e.title}),v.jsx("p",{className:"text-md text-neutral-500",children:e.description})]})]},t))})]})]})},SN=()=>{const{pricingRef:n}=R.useContext(If);return v.jsxs("div",{ref:n,className:"mt-20",children:[v.jsx("h2",{className:"text-3xl sm:text-5xl lg:text-6xl text-center my-8 tracking-wide",children:"Pricing"}),v.jsx("div",{className:"flex flex-wrap",children:dN.map((e,t)=>v.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3 p-2",children:v.jsxs("div",{className:"p-10 border border-neutral-700 rounded-xl",children:[v.jsxs("p",{className:"text-4xl mb-8",children:[e.title,e.title==="Pro"&&v.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text text-xl mb-4 ml-2",children:"(Most Popular)"})]}),v.jsxs("p",{className:"mb-8",children:[v.jsx("span",{className:"text-5xl mt-6 mr-2",children:e.price}),v.jsx("span",{className:"text-neutral-400 tracking-tight",children:"/Month"})]}),v.jsx("ul",{children:e.features.map((i,s)=>v.jsxs("li",{className:"mt-8 flex items-center",children:[v.jsx(zk,{}),v.jsx("span",{className:"ml-2",children:i})]},s))}),v.jsx("a",{href:"#",className:"inline-flex justify-center items-center text-center w-full h-12 p-5 mt-20 tracking-tight text-xl hover:bg-purple-900 border border-purple-900 rounded-lg transition duration-200",children:"Subscribe"})]})},t))})]})},EN=()=>{const{testimonialsRef:n}=R.useContext(If);return v.jsxs("div",{ref:n,className:"mt-20 tracking-wide",children:[v.jsx("h2",{className:"text-3xl sm:text-5xl lg:text-6xl text-center my-10 lg:my-20",children:"What People are saying"}),v.jsx("div",{className:"flex flex-row overflow-x-scroll no-scrollbar",children:pN.map((e,t)=>v.jsx("div",{className:"item w-full sm:w-1/2 lg:w-1/3 px-4 py-2",children:v.jsxs("div",{className:" bg-neutral-900 rounded-md p-6 text-md border border-neutral-800 font-thin",children:[v.jsx("p",{className:"h-[150px]",children:e.text}),v.jsxs("div",{className:"flex mt-8 items-start",children:[v.jsx("img",{className:"w-12 h-12 mr-6 rounded-full border border-neutral-300",src:e.image,alt:""}),v.jsxs("div",{children:[v.jsx("h6",{children:e.user}),v.jsx("span",{className:"text-sm font-normal italic text-neutral-600",children:e.company})]})]})]})},t))})]})},cu="/assets/scLogo-B8RPLoDo.png",AN=()=>{const n=gr(),[e,t]=R.useState(!1),i=()=>{t(!e)};return v.jsx("nav",{className:"sticky top-0 z-50 py-3 backdrop-blur-lg border-b border-slate-700",children:v.jsxs("div",{className:"container mx-auto relative lg:text-sm",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center flex-shrink-0",children:[v.jsx("img",{className:"h-10 w-10 ",src:cu,alt:"Logo"}),v.jsxs("span",{className:"text-xl tracking-tight font-semibold",children:["TexFramer",v.jsx("span",{className:"text-5xl tracking-tight bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:"."})]})]}),v.jsx("ul",{className:"hidden lg:flex ml-14 space-x-10",children:j_.map((s,r)=>v.jsx("li",{children:v.jsx("button",{children:s.label})},r))}),v.jsxs("div",{className:"hidden lg:flex justify-center space-x-12 items-center",children:[v.jsx("button",{onClick:()=>n("/login"),className:"py-2 px-3 border rounded-md",children:"Sign In"}),v.jsx("button",{onClick:()=>n("/signup"),className:"bg-gradient-to-r from-purple-500 to-purple-800 py-2 px-3 rounded-md",children:"Create an account"})]}),v.jsx("div",{className:"lg:hidden md:flex flex-col justify-end",children:v.jsx("button",{onClick:i,children:e?v.jsx(GD,{}):v.jsx(FD,{})})})]}),e&&v.jsxs("div",{className:"fixed right-0 z-20 bg-neutral-900 w-full p-12 flex flex-col justify-center items-center lg:hidden",children:[v.jsx("ul",{children:j_.map((s,r)=>v.jsx("li",{children:v.jsx("button",{children:s.label})},r))}),v.jsxs("div",{className:"flex space-x-6",children:[v.jsx("button",{onClick:()=>n("/login"),className:"py-2 px-3 border rounded-md",children:"Sign In"}),v.jsx("button",{onClick:()=>n("/signup"),className:"py-2 px-3 rounded-md bg-gradient-to-r from-purple-500 to-purple-800",children:"Create an account"})]})]})]})})},kN=()=>v.jsxs("footer",{className:"mt-20 border-t py-10 border-neutral-700",children:[v.jsxs("div",{className:"flex items-center flex-shrink-0 mb-5 ml-10",children:[v.jsx("img",{className:"h-10 w-10 ",src:cu,alt:"Logo"}),v.jsxs("span",{className:"text-xl tracking-tight font-semibold",children:["TexFramer",v.jsx("span",{className:"text-5xl tracking-tight bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:"."})]})]}),v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 ml-10",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-md font-semibold mb-4",children:"Resources"}),v.jsx("ul",{className:"space-y-2",children:gN.map((n,e)=>v.jsx("li",{children:v.jsx("a",{href:n.href,className:"text-neutral-300 hover:text-white",children:n.text})},e))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-md font-semibold mb-4",children:"Platform"}),v.jsx("ul",{className:"space-y-2",children:mN.map((n,e)=>v.jsx("li",{children:v.jsx("a",{href:n.href,className:"text-neutral-300 hover:text-white",children:n.text})},e))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-md font-semibold mb-4",children:"Community"}),v.jsx("ul",{className:"space-y-2",children:yN.map((n,e)=>v.jsx("li",{children:v.jsx("a",{href:n.href,className:"text-neutral-300 hover:text-white",children:n.text})},e))})]})]})]}),Uk=n=>e=>v.jsx(bN,{children:v.jsxs("div",{className:"h-screen overflow-auto",children:[v.jsx(AN,{}),v.jsx("div",{className:"max-w-7xl mx-auto pt-20 px-6",children:v.jsx(n,{...e})}),v.jsx(kN,{})]})}),CN=()=>v.jsxs(v.Fragment,{children:[v.jsx(SD,{}),v.jsx(xN,{}),v.jsx(_N,{}),v.jsx(SN,{}),v.jsx(EN,{})]}),TN=Uk(CN),PN=()=>v.jsx("div",{className:"min-h-screen ",children:v.jsxs("div",{className:"max-w-4xl mx-auto rounded-lg shadow-lg p-6",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"SiteCrafter Documentation"}),v.jsxs("section",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"User Journey"}),v.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[v.jsx("li",{children:"User signs up for SiteCrafter"}),v.jsx("li",{children:"Inputs text description of bakery"}),v.jsx("li",{children:"AI generates tailored website template"}),v.jsx("li",{children:"User customizes the template"}),v.jsx("li",{children:"Utilizes SEO tools to optimize content"}),v.jsx("li",{children:"Collaborates with business partner"}),v.jsx("li",{children:"Exports code and integrates with existing system (Netlify)"}),v.jsx("li",{children:"Accesses analytics tools"}),v.jsx("li",{children:"Improves marketing strategies"}),v.jsx("li",{children:"Outcome: Successful website launch and maintenance without a developer"}),v.jsx("li",{children:"Creates documentation"})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold  mb-4",children:"Details"}),v.jsxs("ul",{className:"list-disc pl-6 space-y-2 ",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Add photos:"})," Users can add images to their template."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Adjust color scheme:"})," Customize the look and feel of the website."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Real-time collaboration:"})," Work together with team members on the same project."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Version control:"})," Track changes and manage different versions of the project."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Track website performance:"})," Monitor metrics to gauge website success."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Gain customer insights:"})," Analyze data to improve user engagement and strategies."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Outputs LaTeX code:"})," Generate LaTeX code for documentation."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Compiles PDF documentation:"})," Create a compiled PDF version of the documentation."]})]})]})]})}),RN=Uk(PN);var jv=function(n,e){return jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},jv(n,e)};function LN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var St=function(){return St=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},St.apply(this,arguments)};function MN(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function vl(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,[])).next())})}function bl(n,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(i=1,s&&(r=c[0]&2?s.return:c[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,c[1])).done)return r;switch(s=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],s=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function os(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _1(n,e){return n(e={exports:{}},e.exports),e.exports}var Mo=_1(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function i(){var s=this;this.locked=new Map,this.addToLocked=function(r,o){var a=s.locked.get(r);a===void 0?o===void 0?s.locked.set(r,[]):s.locked.set(r,[o]):o!==void 0&&(a.unshift(o),s.locked.set(r,a))},this.isLocked=function(r){return s.locked.has(r)},this.lock=function(r){return new Promise(function(o,a){s.isLocked(r)?s.addToLocked(r,o):(s.addToLocked(r),o())})},this.unlock=function(r){var o=s.locked.get(r);if(o!==void 0&&o.length!==0){var a=o.pop();s.locked.set(r,o),a!==void 0&&setTimeout(a,0)}else s.locked.delete(r)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();e.default=function(){return t.getInstance()}});w1(Mo);var ON=w1(_1(function(n,e){var t=Fo&&Fo.__awaiter||function(u,h,f,p){return new(f||(f=Promise))(function(g,m){function b(w){try{x(p.next(w))}catch(_){m(_)}}function y(w){try{x(p.throw(w))}catch(_){m(_)}}function x(w){w.done?g(w.value):new f(function(_){_(w.value)}).then(b,y)}x((p=p.apply(u,h||[])).next())})},i=Fo&&Fo.__generator||function(u,h){var f,p,g,m,b={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return m={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function y(x){return function(w){return function(_){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,p&&(g=2&_[0]?p.return:_[0]?p.throw||((g=p.return)&&g.call(p),0):p.next)&&!(g=g.call(p,_[1])).done)return g;switch(p=0,g&&(_=[2&_[0],g.value]),_[0]){case 0:case 1:g=_;break;case 4:return b.label++,{value:_[1],done:!1};case 5:b.label++,p=_[1],_=[0];continue;case 7:_=b.ops.pop(),b.trys.pop();continue;default:if(g=b.trys,!((g=g.length>0&&g[g.length-1])||_[0]!==6&&_[0]!==2)){b=0;continue}if(_[0]===3&&(!g||_[1]>g[0]&&_[1]<g[3])){b.label=_[1];break}if(_[0]===6&&b.label<g[1]){b.label=g[1],g=_;break}if(g&&b.label<g[2]){b.label=g[2],b.ops.push(_);break}g[2]&&b.ops.pop(),b.trys.pop();continue}_=h.call(u,b)}catch(E){_=[6,E],p=0}finally{f=g=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([x,w])}}},s=Fo;Object.defineProperty(e,"__esModule",{value:!0});var r="browser-tabs-lock-key",o={key:function(u){return t(s,void 0,void 0,function(){return i(this,function(h){throw new Error("Unsupported")})})},getItem:function(u){return t(s,void 0,void 0,function(){return i(this,function(h){throw new Error("Unsupported")})})},clear:function(){return t(s,void 0,void 0,function(){return i(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return t(s,void 0,void 0,function(){return i(this,function(h){throw new Error("Unsupported")})})},setItem:function(u,h){return t(s,void 0,void 0,function(){return i(this,function(f){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,h){return window.localStorage.setItem(u,h)}};function a(u){return new Promise(function(h){return setTimeout(h,u)})}function l(u){for(var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",p=0;p<u;p++)f+=h[Math.floor(Math.random()*h.length)];return f}var c=function(){function u(h){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=h,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(h,f){return f===void 0&&(f=5e3),t(this,void 0,void 0,function(){var p,g,m,b,y,x,w;return i(this,function(_){switch(_.label){case 0:p=Date.now()+l(4),g=Date.now()+f,m=r+"-"+h,b=this.storageHandler===void 0?o:this.storageHandler,_.label=1;case 1:return Date.now()<g?[4,a(30)]:[3,8];case 2:return _.sent(),b.getItemSync(m)!==null?[3,5]:(y=this.id+"-"+h+"-"+p,[4,a(Math.floor(25*Math.random()))]);case 3:return _.sent(),b.setItemSync(m,JSON.stringify({id:this.id,iat:p,timeoutKey:y,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return _.sent(),(x=b.getItemSync(m))!==null&&(w=JSON.parse(x)).id===this.id&&w.iat===p?(this.acquiredIatSet.add(p),this.refreshLockWhileAcquired(m,p),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?o:this.storageHandler),[4,this.waitForSomethingToChange(g)];case 6:_.sent(),_.label=7;case 7:return p=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(h,f){return t(this,void 0,void 0,function(){var p=this;return i(this,function(g){return setTimeout(function(){return t(p,void 0,void 0,function(){var m,b,y;return i(this,function(x){switch(x.label){case 0:return[4,Mo.default().lock(f)];case 1:return x.sent(),this.acquiredIatSet.has(f)?(m=this.storageHandler===void 0?o:this.storageHandler,(b=m.getItemSync(h))===null?(Mo.default().unlock(f),[2]):((y=JSON.parse(b)).timeRefreshed=Date.now(),m.setItemSync(h,JSON.stringify(y)),Mo.default().unlock(f),this.refreshLockWhileAcquired(h,f),[2])):(Mo.default().unlock(f),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(h){return t(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return[4,new Promise(function(p){var g=!1,m=Date.now(),b=!1;function y(){if(b||(window.removeEventListener("storage",y),u.removeFromWaiting(y),clearTimeout(x),b=!0),!g){g=!0;var w=50-(Date.now()-m);w>0?setTimeout(p,w):p(null)}}window.addEventListener("storage",y),u.addToWaiting(y);var x=setTimeout(y,Math.max(0,h-Date.now()))})];case 1:return f.sent(),[2]}})})},u.addToWaiting=function(h){this.removeFromWaiting(h),u.waiters!==void 0&&u.waiters.push(h)},u.removeFromWaiting=function(h){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(f){return f!==h}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(h){return h()})},u.prototype.releaseLock=function(h){return t(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(h)];case 1:return[2,f.sent()]}})})},u.prototype.releaseLock__private__=function(h){return t(this,void 0,void 0,function(){var f,p,g,m;return i(this,function(b){switch(b.label){case 0:return f=this.storageHandler===void 0?o:this.storageHandler,p=r+"-"+h,(g=f.getItemSync(p))===null?[2]:(m=JSON.parse(g)).id!==this.id?[3,2]:[4,Mo.default().lock(m.iat)];case 1:b.sent(),this.acquiredIatSet.delete(m.iat),f.removeItemSync(p),Mo.default().unlock(m.iat),u.notifyWaiters(),b.label=2;case 2:return[2]}})})},u.lockCorrector=function(h){for(var f=Date.now()-5e3,p=h,g=[],m=0;;){var b=p.keySync(m);if(b===null)break;g.push(b),m++}for(var y=!1,x=0;x<g.length;x++){var w=g[x];if(w.includes(r)){var _=p.getItemSync(w);if(_!==null){var E=JSON.parse(_);(E.timeRefreshed===void 0&&E.timeAcquired<f||E.timeRefreshed!==void 0&&E.timeRefreshed<f)&&(p.removeItemSync(w),y=!0)}}}y&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const DN={timeoutInSeconds:60},Wk={name:"auth0-spa-js",version:"2.1.3"},Vk=()=>Date.now();class Gt extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Gt.prototype)}static fromPayload({error:e,error_description:t}){return new Gt(e,t)}}class S1 extends Gt{constructor(e,t,i,s=null){super(e,t),this.state=i,this.appState=s,Object.setPrototypeOf(this,S1.prototype)}}class zh extends Gt{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,zh.prototype)}}class E1 extends zh{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,E1.prototype)}}class A1 extends Gt{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,A1.prototype)}}class k1 extends Gt{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,k1.prototype)}}class r0 extends Gt{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${F_(e,["default"])}', scope: '${F_(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,r0.prototype)}}function F_(n,e=[]){return n&&!e.includes(n)?n:""}const Xp=()=>window.crypto,hy=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Xp().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},z_=n=>btoa(n),Fv=n=>{var{clientId:e}=n,t=os(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter(s=>i[s]!==void 0).reduce((s,r)=>Object.assign(Object.assign({},s),{[r]:i[r]}),{}))(Object.assign({client_id:e},t))).toString()},H_=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),NN=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json()}},IN=async(n,e,t)=>{const i=new AbortController;let s;return e.signal=i.signal,Promise.race([NN(n,e),new Promise((r,o)=>{s=setTimeout(()=>{i.abort(),o(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(s)})},jN=async(n,e,t,i,s,r,o)=>{return a={auth:{audience:e,scope:t},timeout:s,fetchUrl:n,fetchOptions:i,useFormData:o},l=r,new Promise(function(c,u){const h=new MessageChannel;h.port1.onmessage=function(f){f.data.error?u(new Error(f.data.error)):c(f.data),h.port1.close()},l.postMessage(a,[h.port2])});var a,l},FN=async(n,e,t,i,s,r,o=1e4)=>s?jN(n,e,t,i,o,s,r):IN(n,i,o);async function zN(n,e){var{baseUrl:t,timeout:i,audience:s,scope:r,auth0Client:o,useFormData:a}=n,l=os(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const c=a?Fv(l):JSON.stringify(l);return await async function(u,h,f,p,g,m,b){let y,x=null;for(let P=0;P<3;P++)try{y=await FN(u,f,p,g,m,b,h),x=null;break}catch(L){x=L}if(x)throw x;const w=y.json,{error:_,error_description:E}=w,C=os(w,["error","error_description"]),{ok:T}=y;if(!T){const P=E||`HTTP error. Unable to fetch ${u}`;throw _==="mfa_required"?new k1(_,P,C.mfa_token):_==="missing_refresh_token"?new r0(f,p):new Gt(_||"request_error",P)}return C}(`${t}/oauth/token`,i,s||"default",r,{method:"POST",body:c,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||Wk))}},e,a)}const dp=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};class ls{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,s,r]=e.split("::");return new ls({clientId:i,scope:r,audience:s},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:s}=e;return new ls({scope:t,audience:i,clientId:s})}}class HN{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}class $k{constructor(){this.enclosedCache=function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class BN{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||Vk}async setIdToken(e,t,i){var s;const r=this.getIdTokenCacheKey(e);await this.cache.set(r,{id_token:t,decodedToken:i}),await((s=this.keyManifest)===null||s===void 0?void 0:s.add(r))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let s=await this.cache.get(e.toKey());if(!s){const a=await this.getCacheKeys();if(!a)return;const l=this.matchExistingCacheKey(e,a);l&&(s=await this.cache.get(l))}if(!s)return;const r=await this.nowProvider(),o=Math.floor(r/1e3);return s.expiresAt-t<o?s.body.refresh_token?(s.body={refresh_token:s.body.refresh_token},await this.cache.set(e.toKey(),s),s.body):(await this.cache.remove(e.toKey()),void await((i=this.keyManifest)===null||i===void 0?void 0:i.remove(e.toKey()))):s.body}async set(e){var t;const i=new ls({clientId:e.client_id,scope:e.scope,audience:e.audience}),s=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),s),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(i.toKey()))}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter(s=>!e||s.includes(e)).reduce(async(s,r)=>{await s,await this.cache.remove(r)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new ls({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(i=>{var s;const r=ls.fromKey(i),o=new Set(r.scope&&r.scope.split(" ")),a=((s=e.scope)===null||s===void 0?void 0:s.split(" "))||[],l=r.scope&&a.reduce((c,u)=>c&&o.has(u),!0);return r.prefix==="@@auth0spajs@@"&&r.clientId===e.clientId&&r.audience===e.audience&&l})[0]}}class UN{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const _u=n=>typeof n=="number",WN=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],VN=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(r=>{const o=r.split("."),[a,l,c]=o;if(o.length!==3||!a||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse(H_(l)),h={__raw:r},f={};return Object.keys(u).forEach(p=>{h[p]=u[p],WN.includes(p)||(f[p]=u[p])}),{encoded:{header:a,payload:l,signature:c},header:JSON.parse(H_(a)),claims:h,user:f}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!_u(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!_u(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!_u(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,i=new Date(n.now||Date.now()),s=new Date(0);if(s.setUTCSeconds(e.claims.exp+t),i>s)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${s})`);if(e.claims.nbf!=null&&_u(e.claims.nbf)){const r=new Date(0);if(r.setUTCSeconds(e.claims.nbf-t),i<r)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${r}`)}if(e.claims.auth_time!=null&&_u(e.claims.auth_time)){const r=new Date(0);if(r.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),i>r)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${r}`)}if(n.organization){const r=n.organization.trim();if(r.startsWith("org_")){const o=r;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(o!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_id}"`)}else{const o=r.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(o!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_name}"`)}}return e};var Vo=_1(function(n,e){var t=Fo&&Fo.__assign||function(){return t=Object.assign||function(l){for(var c,u=1,h=arguments.length;u<h;u++)for(var f in c=arguments[u])Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f]);return l},t.apply(this,arguments)};function i(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function s(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(h){if(typeof h.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*h.expires),h.expires=f}return i("Expires",h.expires?h.expires.toUTCString():"")+i("Domain",h.domain)+i("Path",h.path)+i("Secure",h.secure)+i("SameSite",h.sameSite)}(u)}function r(l){for(var c={},u=l?l.split("; "):[],h=/(%[\dA-F]{2})+/gi,f=0;f<u.length;f++){var p=u[f].split("="),g=p.slice(1).join("=");g.charAt(0)==='"'&&(g=g.slice(1,-1));try{c[p[0].replace(h,decodeURIComponent)]=g.replace(h,decodeURIComponent)}catch{}}return c}function o(){return r(document.cookie)}function a(l,c,u){document.cookie=s(l,c,t({path:"/"},u))}e.__esModule=!0,e.encode=s,e.parse=r,e.getAll=o,e.get=function(l){return o()[l]},e.set=a,e.remove=function(l,c){a(l,"",t(t({},c),{expires:-1}))}});w1(Vo),Vo.encode,Vo.parse,Vo.getAll;var $N=Vo.get,Gk=Vo.set,Xk=Vo.remove;const Sl={get(n){const e=$N(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(i.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(i.domain=t.cookieDomain),Gk(n,JSON.stringify(e),i)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),Xk(n,t)}},GN={get(n){return Sl.get(n)||Sl.get(`_legacy_${n}`)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0}),t!=null&&t.daysUntilExpire&&(i.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(i.domain=t.cookieDomain),Gk(`_legacy_${n}`,JSON.stringify(e),i),Sl.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),Xk(n,t),Sl.remove(n,e),Sl.remove(`_legacy_${n}`,e)}},XN={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function qN(n,e,t){var i=e===void 0?null:e,s=function(l,c){var u=atob(l);if(c){for(var h=new Uint8Array(u.length),f=0,p=u.length;f<p;++f)h[f]=u.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return u}(n,t!==void 0&&t),r=s.indexOf(`
`,10)+1,o=s.substring(r)+(i?"//# sourceMappingURL="+i:""),a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}var B_,U_,W_,dy,YN=(B_="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",U_=null,W_=!1,function(n){return dy=dy||qN(B_,U_,W_),new Worker(dy,n)});const fy={};class KN{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const ZN={memory:()=>new $k().enclosedCache,localstorage:()=>new HN},V_=n=>ZN[n],$_=n=>{const{openUrl:e,onRedirect:t}=n,i=os(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:t})},py=new ON;class JN{constructor(e){let t,i;if(this.userCache=new $k().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await py.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Xp())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Xp().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!V_(t))throw new Error(`Invalid cache location "${t}"`);i=V_(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Sl:GN,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(o=>`auth0.${o}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const s=e.useCookiesForTransactions?this.cookieStorage:XN;var r;this.scope=dp("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new UN(s,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Vk,this.cacheManager=new BN(i,i.allKeys?void 0:new KN(i,this.options.clientId),this.nowProvider),this.domainUrl=(r=this.options.domain,/^https?:\/\//.test(r)?r:`https://${r}`),this.tokenIssuer=((o,a)=>o?o.startsWith("https://")?o:`https://${o}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new YN)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Wk)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${Fv(e)}`)}async _verifyIdToken(e,t,i){const s=await this.nowProvider();return VN({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(r=this.options.authorizationParams.max_age,typeof r!="string"?r:parseInt(r,10)||void 0),now:s});var r}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){const s=z_(hy()),r=z_(hy()),o=hy(),a=(u=>{const h=new Uint8Array(u);return(f=>{const p={"+":"-","/":"_","=":""};return f.replace(/[+/=]/g,g=>p[g])})(window.btoa(String.fromCharCode(...Array.from(h))))})(await(async u=>await Xp().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(o)),l=((u,h,f,p,g,m,b,y)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),f),{scope:dp(h,f.scope),response_type:"code",response_mode:y||"query",state:p,nonce:g,redirect_uri:b||u.authorizationParams.redirect_uri,code_challenge:m,code_challenge_method:"S256"}))(this.options,this.scope,e,s,r,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,t==null?void 0:t.response_mode),c=this._authorizeUrl(l);return{nonce:r,code_verifier:o,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:s,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(a=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${l},top=${c},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const s=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=s.url;const r=await(a=>new Promise((l,c)=>{let u;const h=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(h),clearTimeout(f),window.removeEventListener("message",u,!1),c(new A1(a.popup)))},1e3),f=setTimeout(()=>{clearInterval(h),c(new E1(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(p){if(p.data&&p.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(h),window.removeEventListener("message",u,!1),a.popup.close(),p.data.response.error)return c(Gt.fromPayload(p.data.response));l(p.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(s.state!==r.state)throw new Gt("state_mismatch","Invalid state");const o=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:r.code,redirect_uri:s.redirect_uri},{nonceIn:s.nonce,organization:o})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const i=$_(e),{openUrl:s,fragment:r,appState:o}=i,a=os(i,["openUrl","fragment","appState"]),l=((t=a.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,h=os(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},h),{appState:o}),l&&{organization:l}));const f=r?`${u}#${r}`:u;s?await s(f):window.location.assign(f)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:i,code:s,error:r,error_description:o}=(h=>{h.indexOf("#")>-1&&(h=h.substring(0,h.indexOf("#")));const f=new URLSearchParams(h);return{state:f.get("state"),code:f.get("code")||void 0,error:f.get("error")||void 0,error_description:f.get("error_description")||void 0}})(t.join("")),a=this.transactionManager.get();if(!a)throw new Gt("missing_transaction","Invalid state");if(this.transactionManager.remove(),r)throw new S1(r,o||r,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Gt("state_mismatch","Invalid state");const l=a.organization,c=a.nonce,u=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:s},u?{redirect_uri:u}:{}),{nonceIn:c,organization:l}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:dp(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),s=await((r,o)=>{let a=fy[o];return a||(a=r().finally(()=>{delete fy[o],a=null}),fy[o]=a),a})(()=>this._getTokenSilently(i),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?s:s==null?void 0:s.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,i=os(e,["cacheMode"]);if(t!=="off"){const s=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(s)return s}if(t!=="cache-only"){if(!await(async(s,r=3)=>{for(let o=0;o<r;o++)if(await s())return!0;return!1})(()=>py.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new zh;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const c=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(c)return c}const s=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:r,access_token:o,oauthTokenScope:a,expires_in:l}=s;return Object.assign(Object.assign({id_token:r,access_token:o},a?{scope:a}:null),{expires_in:l})}finally{await py.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var i;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:dp(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope)})});return t=Object.assign(Object.assign({},DN),t),await this.loginWithPopup(s,t),(await this.cacheManager.get(new ls({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:i}=t,s=os(t,["federated"]),r=i?"&federated":"";return this._url(`/v2/logout?${Fv(Object.assign({clientId:e.clientId},s))}`)+r}async logout(e={}){const t=$_(e),{openUrl:i}=t,s=os(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const r=this._buildLogoutUrl(s);i?await i(r):i!==!1&&window.location.assign(r)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:s,state:r,nonce:o,code_verifier:a,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Gt("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const h=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,f=await((g,m,b=60)=>new Promise((y,x)=>{const w=window.document.createElement("iframe");w.setAttribute("width","0"),w.setAttribute("height","0"),w.style.display="none";const _=()=>{window.document.body.contains(w)&&(window.document.body.removeChild(w),window.removeEventListener("message",E,!1))};let E;const C=setTimeout(()=>{x(new zh),_()},1e3*b);E=function(T){if(T.origin!=m||!T.data||T.data.type!=="authorization_response")return;const P=T.source;P&&P.close(),T.data.response.error?x(Gt.fromPayload(T.data.response)):y(T.data.response),clearTimeout(C),window.removeEventListener("message",E,!1),setTimeout(_,2e3)},window.addEventListener("message",E,!1),window.document.body.appendChild(w),w.setAttribute("src",g)}))(s,this.domainUrl,h);if(r!==f.state)throw new Gt("state_mismatch","Invalid state");const p=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:f.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o,organization:t.organization});return Object.assign(Object.assign({},p),{scope:c,oauthTokenScope:p.scope,audience:u})}catch(h){throw h.error==="login_required"&&this.logout({openUrl:!1}),h}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new ls({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new r0(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,s=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const r=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),s&&{timeout:s}));return Object.assign(Object.assign({},r),{scope:e.authorizationParams.scope,oauthTokenScope:r.scope,audience:e.authorizationParams.audience||"default"})}catch(r){if((r.message.indexOf("Missing Refresh Token")>-1||r.message&&r.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw r}}async _saveEntryInCache(e){const{id_token:t,decodedToken:i}=e,s=os(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(s)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new ls({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get("@@user@@");return t&&t.id_token===(i==null?void 0:i.id_token)?i:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const s=await this.cacheManager.get(new ls({scope:e,audience:t,clientId:i}),60);if(s&&s.access_token){const{access_token:r,oauthTokenScope:o,expires_in:a}=s,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:r},o?{scope:o}:null),{expires_in:a})}}async _requestToken(e,t){const{nonceIn:i,organization:s}=t||{},r=await zN(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),o=await this._verifyIdToken(r.id_token,i,s);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},r),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),r.scope?{oauthTokenScope:r.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(s||o.claims.org_id),Object.assign(Object.assign({},r),{decodedToken:o})}}var qk={isAuthenticated:!1,isLoading:!0},ms=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},QN=St(St({},qk),{buildAuthorizeUrl:ms,buildLogoutUrl:ms,getAccessTokenSilently:ms,getAccessTokenWithPopup:ms,getIdTokenClaims:ms,loginWithRedirect:ms,loginWithPopup:ms,logout:ms,handleRedirectCallback:ms}),Yk=R.createContext(QN),G_=function(n){LN(e,n);function e(t,i){var s=n.call(this,i||t)||this;return s.error=t,s.error_description=i,Object.setPrototypeOf(s,e.prototype),s}return e}(Error),eI=/[?&]code=[^&]+/,tI=/[?&]state=[^&]+/,nI=/[?&]error=[^&]+/,iI=function(n){return n===void 0&&(n=window.location.search),(eI.test(n)||nI.test(n))&&tI.test(n)},Kk=function(n){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new G_(e.error,e.error_description):new G_(e.error):new Error(n)}},X_=Kk("Login failed"),gy=Kk("Get access token failed"),Zk=function(n){var e;n!=null&&n.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=n.authorizationParams||{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((e=n==null?void 0:n.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},sI=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return St(St({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return St(St({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:St(St({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return St(St({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return St(St({},n),{isLoading:!1,error:e.error})}},rI=function(n){return Zk(n),St(St({},n),{auth0Client:{name:"auth0-react",version:"2.2.4"}})},oI=function(n){window.history.replaceState({},document.title,(n==null?void 0:n.returnTo)||window.location.pathname)},aI=function(n){var e=n.children,t=n.skipRedirectCallback,i=n.onRedirectCallback,s=i===void 0?oI:i,r=n.context,o=r===void 0?Yk:r,a=MN(n,["children","skipRedirectCallback","onRedirectCallback","context"]),l=R.useState(function(){return new JN(rI(a))})[0],c=R.useReducer(sI,qk),u=c[0],h=c[1],f=R.useRef(!1);R.useEffect(function(){f.current||(f.current=!0,function(){return vl(void 0,void 0,void 0,function(){var E,C,T;return bl(this,function(P){switch(P.label){case 0:return P.trys.push([0,7,,8]),E=void 0,iI()&&!t?[4,l.handleRedirectCallback()]:[3,3];case 1:return C=P.sent().appState,[4,l.getUser()];case 2:return E=P.sent(),s(C,E),[3,6];case 3:return[4,l.checkSession()];case 4:return P.sent(),[4,l.getUser()];case 5:E=P.sent(),P.label=6;case 6:return h({type:"INITIALISED",user:E}),[3,8];case 7:return T=P.sent(),h({type:"ERROR",error:X_(T)}),[3,8];case 8:return[2]}})})}())},[l,s,t]);var p=R.useCallback(function(E){return Zk(E),l.loginWithRedirect(E)},[l]),g=R.useCallback(function(E,C){return vl(void 0,void 0,void 0,function(){var T,P;return bl(this,function(L){switch(L.label){case 0:h({type:"LOGIN_POPUP_STARTED"}),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,l.loginWithPopup(E,C)];case 2:return L.sent(),[3,4];case 3:return T=L.sent(),h({type:"ERROR",error:X_(T)}),[2];case 4:return[4,l.getUser()];case 5:return P=L.sent(),h({type:"LOGIN_POPUP_COMPLETE",user:P}),[2]}})})},[l]),m=R.useCallback(function(E){return E===void 0&&(E={}),vl(void 0,void 0,void 0,function(){return bl(this,function(C){switch(C.label){case 0:return[4,l.logout(E)];case 1:return C.sent(),(E.openUrl||E.openUrl===!1)&&h({type:"LOGOUT"}),[2]}})})},[l]),b=R.useCallback(function(E){return vl(void 0,void 0,void 0,function(){var C,T,P,L;return bl(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,3,5]),[4,l.getTokenSilently(E)];case 1:return C=M.sent(),[3,5];case 2:throw T=M.sent(),gy(T);case 3:return P=h,L={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return P.apply(void 0,[(L.user=M.sent(),L)]),[7];case 5:return[2,C]}})})},[l]),y=R.useCallback(function(E,C){return vl(void 0,void 0,void 0,function(){var T,P,L,M;return bl(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(E,C)];case 1:return T=N.sent(),[3,5];case 2:throw P=N.sent(),gy(P);case 3:return L=h,M={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return L.apply(void 0,[(M.user=N.sent(),M)]),[7];case 5:return[2,T]}})})},[l]),x=R.useCallback(function(){return l.getIdTokenClaims()},[l]),w=R.useCallback(function(E){return vl(void 0,void 0,void 0,function(){var C,T,P;return bl(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(E)];case 1:return[2,L.sent()];case 2:throw C=L.sent(),gy(C);case 3:return T=h,P={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return T.apply(void 0,[(P.user=L.sent(),P)]),[7];case 5:return[2]}})})},[l]),_=R.useMemo(function(){return St(St({},u),{getAccessTokenSilently:b,getAccessTokenWithPopup:y,getIdTokenClaims:x,loginWithRedirect:p,loginWithPopup:g,logout:m,handleRedirectCallback:w})},[u,b,y,x,p,g,m,w]);return Li.createElement(o.Provider,{value:_},e)},Jk=function(n){return n===void 0&&(n=Yk),R.useContext(n)};function lI(){const n=gr(),e=i=>{n(i)},{logout:t}=Jk();return v.jsxs("div",{className:"fixed z-10 bg-neutral-900 text-neutral-100 p-3 flex flex-col flex-shrink-0 min-h-screen",children:[v.jsxs("div",{className:"flex items-center flex-shrink-0",children:[v.jsx("img",{className:"size-8",src:cu,alt:"Logo"}),v.jsxs("span",{className:"text-xl tracking-tight font-semibold",children:["TexFramer",v.jsx("span",{className:"text-5xl tracking-tight bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:"."})]})]}),v.jsx("div",{className:"py-8 flex flex-1 flex-col gap-4",children:v.jsxs("ul",{children:[v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(ID,{className:"size-5 mr-2 mb-2"})}),"Dashboard"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/projects"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(LD,{className:"size-5 mr-2 mb-2"})}),"Projects"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/documentations"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(PD,{className:"size-5 mr-2 mb-2"})}),"Documentations"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/analytics"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(MD,{className:"size-5 mr-2 mb-2"})}),"Analytics"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/assetlibrary"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(HD,{className:"size-5 mr-2 mb-2"})}),"Assest Library"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/componentslibrary"),className:"flex flex-row lg:text-sm sm:text-md",children:[v.jsx("span",{children:v.jsx(BD,{className:"size-5 mr-2 mb-2"})}),"Components Library"]})})]})}),v.jsx("div",{className:"flex flex-col gap-0.5 pt-2 border-t border-neutral-700",children:v.jsxs("ul",{children:[v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/settings"),className:"flex flex-row lg:text-lg sm:text-md",children:[v.jsx("span",{children:v.jsx(VD,{className:"size-6 mr-2 mb-2"})}),"Settings"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>e("/helpandsupport"),className:"flex flex-row lg:text-lg sm:text-md",children:[v.jsx("span",{children:v.jsx(OD,{className:"size-6 mr-2 mb-2"})}),"Help & Support"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>t({returnTo:window.location.origin}),className:"flex flex-row text-lg",children:[v.jsx("span",{className:"lg:text-lg sm:text-md",children:v.jsx(jD,{className:"size-6 mr-2 mb-2"})}),"Logout"]})})]})})]})}function Qk(n,e){return function(){return n.apply(e,arguments)}}const{toString:cI}=Object.prototype,{getPrototypeOf:C1}=Object,o0=(n=>e=>{const t=cI.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ji=n=>(n=n.toLowerCase(),e=>o0(e)===n),a0=n=>e=>typeof e===n,{isArray:uu}=Array,Hh=a0("undefined");function uI(n){return n!==null&&!Hh(n)&&n.constructor!==null&&!Hh(n.constructor)&&Wn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const eC=ji("ArrayBuffer");function hI(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&eC(n.buffer),e}const dI=a0("string"),Wn=a0("function"),tC=a0("number"),l0=n=>n!==null&&typeof n=="object",fI=n=>n===!0||n===!1,qp=n=>{if(o0(n)!=="object")return!1;const e=C1(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},pI=ji("Date"),gI=ji("File"),mI=ji("Blob"),yI=ji("FileList"),vI=n=>l0(n)&&Wn(n.pipe),bI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Wn(n.append)&&((e=o0(n))==="formdata"||e==="object"&&Wn(n.toString)&&n.toString()==="[object FormData]"))},xI=ji("URLSearchParams"),[wI,_I,SI,EI]=["ReadableStream","Request","Response","Headers"].map(ji),AI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),uu(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function nC(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const $o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iC=n=>!Hh(n)&&n!==$o;function zv(){const{caseless:n}=iC(this)&&this||{},e={},t=(i,s)=>{const r=n&&nC(e,s)||s;qp(e[r])&&qp(i)?e[r]=zv(e[r],i):qp(i)?e[r]=zv({},i):uu(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&jf(arguments[i],t);return e}const kI=(n,e,t,{allOwnKeys:i}={})=>(jf(e,(s,r)=>{t&&Wn(s)?n[r]=Qk(s,t):n[r]=s},{allOwnKeys:i}),n),CI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),TI=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},PI=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&C1(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},RI=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},LI=n=>{if(!n)return null;if(uu(n))return n;let e=n.length;if(!tC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},MI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&C1(Uint8Array)),OI=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},DI=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},NI=ji("HTMLFormElement"),II=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),q_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),jI=ji("RegExp"),sC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};jf(t,(s,r)=>{let o;(o=e(s,r,n))!==!1&&(i[r]=o||s)}),Object.defineProperties(n,i)},FI=n=>{sC(n,(e,t)=>{if(Wn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Wn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zI=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return uu(n)?i(n):i(String(n).split(e)),t},HI=()=>{},BI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,my="abcdefghijklmnopqrstuvwxyz",Y_="0123456789",rC={DIGIT:Y_,ALPHA:my,ALPHA_DIGIT:my+my.toUpperCase()+Y_},UI=(n=16,e=rC.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function WI(n){return!!(n&&Wn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const VI=n=>{const e=new Array(10),t=(i,s)=>{if(l0(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=uu(i)?[]:{};return jf(i,(o,a)=>{const l=t(o,s+1);!Hh(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},$I=ji("AsyncFunction"),GI=n=>n&&(l0(n)||Wn(n))&&Wn(n.then)&&Wn(n.catch),oC=((n,e)=>n?setImmediate:e?((t,i)=>($o.addEventListener("message",({source:s,data:r})=>{s===$o&&r===t&&i.length&&i.shift()()},!1),s=>{i.push(s),$o.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Wn($o.postMessage)),XI=typeof queueMicrotask<"u"?queueMicrotask.bind($o):typeof process<"u"&&process.nextTick||oC,O={isArray:uu,isArrayBuffer:eC,isBuffer:uI,isFormData:bI,isArrayBufferView:hI,isString:dI,isNumber:tC,isBoolean:fI,isObject:l0,isPlainObject:qp,isReadableStream:wI,isRequest:_I,isResponse:SI,isHeaders:EI,isUndefined:Hh,isDate:pI,isFile:gI,isBlob:mI,isRegExp:jI,isFunction:Wn,isStream:vI,isURLSearchParams:xI,isTypedArray:MI,isFileList:yI,forEach:jf,merge:zv,extend:kI,trim:AI,stripBOM:CI,inherits:TI,toFlatObject:PI,kindOf:o0,kindOfTest:ji,endsWith:RI,toArray:LI,forEachEntry:OI,matchAll:DI,isHTMLForm:NI,hasOwnProperty:q_,hasOwnProp:q_,reduceDescriptors:sC,freezeMethods:FI,toObjectSet:zI,toCamelCase:II,noop:HI,toFiniteNumber:BI,findKey:nC,global:$o,isContextDefined:iC,ALPHABET:rC,generateString:UI,isSpecCompliantForm:WI,toJSONObject:VI,isAsyncFn:$I,isThenable:GI,setImmediate:oC,asap:XI};function te(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}O.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const aC=te.prototype,lC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{lC[n]={value:n}});Object.defineProperties(te,lC);Object.defineProperty(aC,"isAxiosError",{value:!0});te.from=(n,e,t,i,s,r)=>{const o=Object.create(aC);return O.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),te.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const qI=null;function Hv(n){return O.isPlainObject(n)||O.isArray(n)}function cC(n){return O.endsWith(n,"[]")?n.slice(0,-2):n}function K_(n,e,t){return n?n.concat(e).map(function(s,r){return s=cC(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function YI(n){return O.isArray(n)&&!n.some(Hv)}const KI=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function c0(n,e,t){if(!O.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=O.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!O.isUndefined(b[m])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(O.isDate(g))return g.toISOString();if(!l&&O.isBlob(g))throw new te("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(g)||O.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,b){let y=g;if(g&&!b&&typeof g=="object"){if(O.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(O.isArray(g)&&YI(g)||(O.isFileList(g)||O.endsWith(m,"[]"))&&(y=O.toArray(g)))return m=cC(m),y.forEach(function(w,_){!(O.isUndefined(w)||w===null)&&e.append(o===!0?K_([m],_,r):o===null?m:m+"[]",c(w))}),!1}return Hv(g)?!0:(e.append(K_(b,m,r),c(g)),!1)}const h=[],f=Object.assign(KI,{defaultVisitor:u,convertValue:c,isVisitable:Hv});function p(g,m){if(!O.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),O.forEach(g,function(y,x){(!(O.isUndefined(y)||y===null)&&s.call(e,y,O.isString(x)?x.trim():x,m,f))===!0&&p(y,m?m.concat(x):[x])}),h.pop()}}if(!O.isObject(n))throw new TypeError("data must be an object");return p(n),e}function Z_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function T1(n,e){this._pairs=[],n&&c0(n,this,e)}const uC=T1.prototype;uC.append=function(e,t){this._pairs.push([e,t])};uC.toString=function(e){const t=e?function(i){return e.call(this,i,Z_)}:Z_;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function ZI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hC(n,e,t){if(!e)return n;const i=t&&t.encode||ZI,s=t&&t.serialize;let r;if(s?r=s(e,t):r=O.isURLSearchParams(e)?e.toString():new T1(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class J_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(i){i!==null&&e(i)})}}const dC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JI=typeof URLSearchParams<"u"?URLSearchParams:T1,QI=typeof FormData<"u"?FormData:null,ej=typeof Blob<"u"?Blob:null,tj={isBrowser:!0,classes:{URLSearchParams:JI,FormData:QI,Blob:ej},protocols:["http","https","file","blob","url","data"]},P1=typeof window<"u"&&typeof document<"u",nj=(n=>P1&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),ij=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sj=P1&&window.location.href||"http://localhost",rj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:P1,hasStandardBrowserEnv:nj,hasStandardBrowserWebWorkerEnv:ij,origin:sj},Symbol.toStringTag,{value:"Module"})),Di={...rj,...tj};function oj(n,e){return c0(n,new Di.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return Di.isNode&&O.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function aj(n){return O.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lj(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function fC(n){function e(t,i,s,r){let o=t[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&O.isArray(s)?s.length:o,l?(O.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!O.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&O.isArray(s[o])&&(s[o]=lj(s[o])),!a)}if(O.isFormData(n)&&O.isFunction(n.entries)){const t={};return O.forEachEntry(n,(i,s)=>{e(aj(i),s,t,0)}),t}return null}function cj(n,e,t){if(O.isString(n))try{return(e||JSON.parse)(n),O.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ff={transitional:dC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=O.isObject(e);if(r&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return s?JSON.stringify(fC(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oj(e,this.formSerializer).toString();if((a=O.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return c0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),cj(e)):e}],transformResponse:[function(e){const t=this.transitional||Ff.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Di.classes.FormData,Blob:Di.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],n=>{Ff.headers[n]={}});const uj=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hj=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&uj[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Q_=Symbol("internals");function Su(n){return n&&String(n).trim().toLowerCase()}function Yp(n){return n===!1||n==null?n:O.isArray(n)?n.map(Yp):String(n)}function dj(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const fj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function yy(n,e,t,i,s){if(O.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!O.isString(e)){if(O.isString(i))return e.indexOf(i)!==-1;if(O.isRegExp(i))return i.test(e)}}function pj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function gj(n,e){const t=O.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class An{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=Su(l);if(!u)throw new Error("header name must be a non-empty string");const h=O.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Yp(a))}const o=(a,l)=>O.forEach(a,(c,u)=>r(c,u,l));if(O.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(O.isString(e)&&(e=e.trim())&&!fj(e))o(hj(e),t);else if(O.isHeaders(e))for(const[a,l]of e.entries())r(l,a,i);else e!=null&&r(t,e,i);return this}get(e,t){if(e=Su(e),e){const i=O.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return dj(s);if(O.isFunction(t))return t.call(this,s,i);if(O.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Su(e),e){const i=O.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||yy(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=Su(o),o){const a=O.findKey(i,o);a&&(!t||yy(i,i[a],a,t))&&(delete i[a],s=!0)}}return O.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||yy(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return O.forEach(this,(s,r)=>{const o=O.findKey(i,r);if(o){t[o]=Yp(s),delete t[r];return}const a=e?pj(r):String(r).trim();a!==r&&delete t[r],t[a]=Yp(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return O.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&O.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Q_]=this[Q_]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Su(o);i[a]||(gj(s,o),i[a]=!0)}return O.isArray(e)?e.forEach(r):r(e),this}}An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(An.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});O.freezeMethods(An);function vy(n,e){const t=this||Ff,i=e||t,s=An.from(i.headers);let r=i.data;return O.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function pC(n){return!!(n&&n.__CANCEL__)}function hu(n,e,t){te.call(this,n??"canceled",te.ERR_CANCELED,e,t),this.name="CanceledError"}O.inherits(hu,te,{__CANCEL__:!0});function gC(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new te("Request failed with status code "+t.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function mj(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function yj(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let h=r,f=0;for(;h!==s;)f+=t[h++],h=h%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function vj(n,e){let t=0,i=1e3/e,s,r;const o=(c,u=Date.now())=>{t=u,s=null,r&&(clearTimeout(r),r=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-t;h>=i?o(c,u):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-h)))},()=>s&&o(s)]}const im=(n,e,t=3)=>{let i=0;const s=yj(50,250);return vj(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),u=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},eS=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},tS=n=>(...e)=>O.asap(()=>n(...e)),bj=Di.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=O.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),xj=Di.hasStandardBrowserEnv?{write(n,e,t,i,s,r){const o=[n+"="+encodeURIComponent(e)];O.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),O.isString(i)&&o.push("path="+i),O.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function _j(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mC(n,e){return n&&!wj(e)?_j(n,e):e}const nS=n=>n instanceof An?{...n}:n;function Qa(n,e){e=e||{};const t={};function i(c,u,h){return O.isPlainObject(c)&&O.isPlainObject(u)?O.merge.call({caseless:h},c,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function s(c,u,h){if(O.isUndefined(u)){if(!O.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function r(c,u){if(!O.isUndefined(u))return i(void 0,u)}function o(c,u){if(O.isUndefined(u)){if(!O.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in e)return i(c,u);if(h in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(nS(c),nS(u),!0)};return O.forEach(Object.keys(Object.assign({},n,e)),function(u){const h=l[u]||s,f=h(n[u],e[u],u);O.isUndefined(f)&&h!==a||(t[u]=f)}),t}const yC=n=>{const e=Qa({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=An.from(o),e.url=hC(mC(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(t)){if(Di.hasStandardBrowserEnv||Di.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Di.hasStandardBrowserEnv&&(i&&O.isFunction(i)&&(i=i(e)),i||i!==!1&&bj(e.url))){const c=s&&r&&xj.read(r);c&&o.set(s,c)}return e},Sj=typeof XMLHttpRequest<"u",Ej=Sj&&function(n){return new Promise(function(t,i){const s=yC(n);let r=s.data;const o=An.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,h,f,p,g;function m(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const w=An.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:n,request:b};gC(function(T){t(T),m()},function(T){i(T),m()},E),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(i(new te("Request aborted",te.ECONNABORTED,n,b)),b=null)},b.onerror=function(){i(new te("Network Error",te.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||dC;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),i(new te(_,E.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,n,b)),b=null},r===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(_,E){b.setRequestHeader(E,_)}),O.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),c&&([f,g]=im(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=im(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{b&&(i(!w||w.type?new hu(null,n,b):w),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const x=mj(s.url);if(x&&Di.protocols.indexOf(x)===-1){i(new te("Unsupported protocol "+x+":",te.ERR_BAD_REQUEST,n));return}b.send(r||null)})},Aj=(n,e)=>{let t=new AbortController,i;const s=function(l){if(!i){i=!0,o();const c=l instanceof Error?l:this.reason;t.abort(c instanceof te?c:new hu(c instanceof Error?c.message:c))}};let r=e&&setTimeout(()=>{s(new te(`timeout ${e} of ms exceeded`,te.ETIMEDOUT))},e);const o=()=>{n&&(r&&clearTimeout(r),r=null,n.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",s):l.unsubscribe(s))}),n=null)};n.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",s));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{r&&clearTimeout(r),r=null}]},kj=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},Cj=async function*(n,e,t){for await(const i of n)yield*kj(ArrayBuffer.isView(i)?i:await t(String(i)),e)},iS=(n,e,t,i,s)=>{const r=Cj(n,e,s);let o=0,a,l=c=>{a||(a=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await r.next();if(u){l(),c.close();return}let f=h.byteLength;if(t){let p=o+=f;t(p)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},u0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vC=u0&&typeof ReadableStream=="function",Bv=u0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),bC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Tj=vC&&bC(()=>{let n=!1;const e=new Request(Di.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),sS=64*1024,Uv=vC&&bC(()=>O.isReadableStream(new Response("").body)),sm={stream:Uv&&(n=>n.body)};u0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sm[e]&&(sm[e]=O.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new te(`Response type '${e}' is not supported`,te.ERR_NOT_SUPPORT,i)})})})(new Response);const Pj=async n=>{if(n==null)return 0;if(O.isBlob(n))return n.size;if(O.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(O.isArrayBufferView(n)||O.isArrayBuffer(n))return n.byteLength;if(O.isURLSearchParams(n)&&(n=n+""),O.isString(n))return(await Bv(n)).byteLength},Rj=async(n,e)=>{const t=O.toFiniteNumber(n.getContentLength());return t??Pj(e)},Lj=u0&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=yC(n);c=c?(c+"").toLowerCase():"text";let[p,g]=s||r||o?Aj([s,r],o):[],m,b;const y=()=>{!m&&setTimeout(()=>{p&&p.unsubscribe()}),m=!0};let x;try{if(l&&Tj&&t!=="get"&&t!=="head"&&(x=await Rj(u,i))!==0){let C=new Request(e,{method:"POST",body:i,duplex:"half"}),T;if(O.isFormData(i)&&(T=C.headers.get("content-type"))&&u.setContentType(T),C.body){const[P,L]=eS(x,im(tS(l)));i=iS(C.body,sS,P,L,Bv)}}O.isString(h)||(h=h?"include":"omit"),b=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:h});let w=await fetch(b);const _=Uv&&(c==="stream"||c==="response");if(Uv&&(a||_)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=w[M]});const T=O.toFiniteNumber(w.headers.get("content-length")),[P,L]=a&&eS(T,im(tS(a),!0))||[];w=new Response(iS(w.body,sS,P,()=>{L&&L(),_&&y()},Bv),C)}c=c||"text";let E=await sm[O.findKey(sm,c)||"text"](w,n);return!_&&y(),g&&g(),await new Promise((C,T)=>{gC(C,T,{data:E,headers:An.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:b})})}catch(w){throw y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,n,b),{cause:w.cause||w}):te.from(w,w&&w.code,n,b)}}),Wv={http:qI,xhr:Ej,fetch:Lj};O.forEach(Wv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const rS=n=>`- ${n}`,Mj=n=>O.isFunction(n)||n===null||n===!1,xC={getAdapter:n=>{n=O.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let r=0;r<e;r++){t=n[r];let o;if(i=t,!Mj(t)&&(i=Wv[(o=String(t)).toLowerCase()],i===void 0))throw new te(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(rS).join(`
`):" "+rS(r[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Wv};function by(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hu(null,n)}function oS(n){return by(n),n.headers=An.from(n.headers),n.data=vy.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),xC.getAdapter(n.adapter||Ff.adapter)(n).then(function(i){return by(n),i.data=vy.call(n,n.transformResponse,i),i.headers=An.from(i.headers),i},function(i){return pC(i)||(by(n),i&&i.response&&(i.response.data=vy.call(n,n.transformResponse,i.response),i.response.headers=An.from(i.response.headers))),Promise.reject(i)})}const wC="1.7.4",R1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{R1[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const aS={};R1.transitional=function(e,t,i){function s(r,o){return"[Axios v"+wC+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new te(s(o," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!aS[o]&&(aS[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function Oj(n,e,t){if(typeof n!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new te("option "+r+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new te("Unknown option "+r,te.ERR_BAD_OPTION)}}const Vv={assertOptions:Oj,validators:R1},vr=Vv.validators;class Va{constructor(e){this.defaults=e,this.interceptors={request:new J_,response:new J_}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qa(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&Vv.assertOptions(i,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),s!=null&&(O.isFunction(s)?t.paramsSerializer={serialize:s}:Vv.assertOptions(s,{encode:vr.function,serialize:vr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&O.merge(r.common,r[t.method]);r&&O.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),t.headers=An.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,f;if(!l){const g=[oS.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(t);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=t;for(h=0;h<f;){const g=a[h++],m=a[h++];try{p=g(p)}catch(b){m.call(this,b);break}}try{u=oS.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Qa(this.defaults,e);const t=mC(e.baseURL,e.url);return hC(t,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){Va.prototype[e]=function(t,i){return this.request(Qa(i||{},{method:e,url:t,data:(i||{}).data}))}});O.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(Qa(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Va.prototype[e]=t(),Va.prototype[e+"Form"]=t(!0)});class L1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new hu(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new L1(function(s){e=s}),cancel:e}}}function Dj(n){return function(t){return n.apply(null,t)}}function Nj(n){return O.isObject(n)&&n.isAxiosError===!0}const $v={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($v).forEach(([n,e])=>{$v[e]=n});function _C(n){const e=new Va(n),t=Qk(Va.prototype.request,e);return O.extend(t,Va.prototype,e,{allOwnKeys:!0}),O.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return _C(Qa(n,s))},t}const ke=_C(Ff);ke.Axios=Va;ke.CanceledError=hu;ke.CancelToken=L1;ke.isCancel=pC;ke.VERSION=wC;ke.toFormData=c0;ke.AxiosError=te;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=Dj;ke.isAxiosError=Nj;ke.mergeConfig=Qa;ke.AxiosHeaders=An;ke.formToJSON=n=>fC(O.isHTMLForm(n)?new FormData(n):n);ke.getAdapter=xC.getAdapter;ke.HttpStatusCode=$v;ke.default=ke;const h0=R.createContext(),Ij=({children:n})=>{const[e,t]=R.useState(null),[i,s]=R.useState(null);return R.useEffect(()=>{(async()=>{try{const o=localStorage.getItem("token"),a=await ke.get("http://localhost:5000/api/users/profile",{headers:{Authorization:`Bearer ${o}`}});t(a.data),s(`http://localhost:5000/uploads/${a.data.profilePic}`)}catch(o){if(console.error("Error fetching user data:",o.message),o.response&&o.response.status===401){const a=localStorage.getItem("refreshToken");try{const l=await ke.post("http://localhost:5000/api/refresh-token",{refreshToken:a});localStorage.setItem("token",l.data.accessToken),localStorage.setItem("refreshToken",l.data.refreshToken);const c=await ke.get("http://localhost:5000/api/users/profile",{headers:{Authorization:`Bearer ${l.data.accessToken}`}});t(c.data),s(c.data.profilePic)}catch(l){console.error("Error refreshing token:",l.message)}}}})()},[]),v.jsx(h0.Provider,{value:{user:e,setUser:t,profilePicUrl:i,setProfilePicUrl:s},children:n})};function jj(){const{user:n}=R.useContext(h0),e=gr(),[t,i]=R.useState(!1),[s,r]=R.useState(null),{logout:o}=Jk();R.useEffect(()=>{n&&r(`http://localhost:5000/uploads/${n.profilePic}`)},[n]);const a=h=>{e(h),i(!1)},[l,c]=R.useState(null),u=h=>{c(l===h?null:h)};return v.jsxs("div",{className:"fixed bg-white h-16 px-4 flex items-center border-b border-gray-200 justify-between  w-screen",children:[v.jsxs("div",{className:"flex flex-row bg-neutral-200 w-[300px] rounded-full ml-[190px]",children:[v.jsx(WD,{className:" size-8 text-gray-400 mt-1 px-2"}),v.jsx("input",{type:"text",placeholder:"Search...",className:"text-sm focus:outline-none active:outline-none bg-neutral-200 w-100 h-10 pr-4 text-neutral-900"})]}),v.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>u("messages"),className:`group inline-flex items-center rounded-sm p-1.5 text-gray-700 hover:text-opacity-100 focus:outline-none active:bg-gray-100 ${l==="messages"?"bg-gray-100":""}`,children:v.jsx(zD,{fontSize:24})}),l==="messages"&&v.jsx("div",{className:"absolute right-0 z-10 mt-2.5 transform w-80",children:v.jsxs("div",{className:"bg-white rounded-sm shadow-md ring-1 ring-black ring-opacity-5 px-2 py-2.5",children:[v.jsx("strong",{className:"text-gray-700 font-medium",children:"Messages"}),v.jsx("div",{className:"mt-2 py-1 text-sm text-neutral-900",children:"This is the messages panel."})]})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>u("notifications"),className:`group inline-flex items-center rounded-sm p-1.5 text-gray-700 hover:text-opacity-100 focus:outline-none active:bg-gray-100 ${l==="notifications"?"bg-gray-100":""}`,children:v.jsx(TD,{fontSize:24})}),l==="notifications"&&v.jsx("div",{className:"absolute right-0 z-10 mt-2.5 transform w-80",children:v.jsxs("div",{className:"bg-white rounded-sm shadow-md ring-1 ring-black ring-opacity-5 px-2 py-2.5",children:[v.jsx("strong",{className:"text-gray-700 font-medium",children:"Notifications"}),v.jsx("div",{className:"mt-2 py-1 text-sm text-neutral-900",children:"This is the notifications panel."})]})})]}),v.jsxs("div",{className:"relative inline-block text-left",children:[v.jsx("button",{className:"inline-flex justify-center rounded-full border border-gray-300 shadow-sm mt-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",children:v.jsx("img",{src:s,className:"size-10 rounded-full",alt:"Profile"})}),t&&v.jsxs("div",{className:"origin-top-right z-10 absolute right-0 mt-2 w-48 rounded-sm shadow-md bg-white ring-1 ring-black ring-opacity-5",children:[v.jsx("div",{onClick:()=>a("/profile"),className:"px-4 py-2 text-gray-700 cursor-pointer hover:bg-gray-100 active:bg-gray-200 rounded-sm",children:"Your Profile"}),v.jsx("div",{onClick:()=>a("/settings"),className:"px-4 py-2 text-gray-700 cursor-pointer hover:bg-gray-100 active:bg-gray-200 rounded-sm",children:"Settings"}),v.jsx("div",{onClick:()=>o({returnTo:window.location.origin}),className:"px-4 py-2 text-gray-700 cursor-pointer hover:bg-gray-100 active:bg-gray-200 rounded-sm",children:"Sign out"})]})]})]})]})}const un=n=>e=>v.jsxs("div",{className:"bg-neutral-100 w-screen flex flex-row overflow-hidden h-screen",children:[v.jsx(lI,{}),v.jsxs("div",{className:"flex flex-col flex-1",children:[v.jsx(jj,{}),v.jsx("div",{className:"flex-1 p-4 min-h-0 overflow-auto",children:v.jsx(n,{...e})})]})]});function Fj(){return v.jsx("div",{className:"",children:v.jsx("div",{className:"flex-1 p-8 mt-[50px] ml-[180px]",children:v.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:vN.map((n,e)=>v.jsxs("div",{className:"bg-neutral-800 p-6 shadow-lg rounded-lg hover:shadow-neutral-600 transition duration-300",children:[v.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.icon,v.jsx("h2",{className:"text-2xl font-semibold bg-gradient-to-r from-purple-500 to-purple-800 text-transparent bg-clip-text",children:n.heading})]}),v.jsx("p",{children:n.description})]},e))})})})}const zj=un(Fj);function Hj(){return v.jsx("div",{className:"mt-[50px] ml-[180px]",children:v.jsx("h1",{className:"relative text-neutral-900 ",children:"profile page"})})}const Bj=un(Hj),Uj=()=>{const[n,e]=R.useState(["Introduction"]),[t,i]=R.useState(""),s=()=>{t.trim()&&(e([...n,t.trim()]),i(""))},r=()=>{console.log("Generating documentation for sections:",n)};return v.jsxs("div",{className:" max-w-4xl mx-auto p-6 mt-[50px] text-neutral-900",children:[v.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Generate Project Documentation"}),v.jsx("p",{className:"text-gray-700 mb-6 text-center",children:"Enter the sections you want to include in your LaTeX documentation, and our AI will generate it for you."}),v.jsxs("div",{className:"mb-6",children:[v.jsx("input",{type:"text",placeholder:"Add a new section...",value:t,onChange:o=>i(o.target.value),className:"w-full p-2 border border-gray-300 rounded mb-2 bg-neutral-200"}),v.jsx("button",{onClick:s,className:"bg-indigo-600 text-white px-4 py-2 rounded",children:"Add Section"})]}),v.jsx("ul",{className:"mb-6",children:n.map((o,a)=>v.jsx("li",{className:"p-2 mb-2 bg-gray-100 border border-gray-300 rounded",children:o},a))}),v.jsx("div",{className:"flex justify-center",children:v.jsx("button",{onClick:r,className:"bg-green-600 text-white px-6 py-3 rounded font-semibold",children:"Generate Documentation"})})]})},Wj=un(Uj),Vj=()=>{const{user:n,setUser:e,setProfilePicUrl:t}=R.useContext(h0),[i,s]=R.useState(""),[r,o]=R.useState(""),[a,l]=R.useState(""),[c,u]=R.useState(null),[h,f]=R.useState(null);R.useEffect(()=>{n&&(s(n.username),f(`http://localhost:5000/uploads/${n.profilePic}`))},[n]);const p=w=>{const _=w.target.files[0];u(_);const E=URL.createObjectURL(_);f(E)},g=w=>{s(w.target.value)},m=w=>{o(w.target.value)},b=w=>{l(w.target.value)},y=async w=>{w.preventDefault();try{const _=localStorage.getItem("token");console.log("Token:",_);const E=new FormData;E.append("username",i),E.append("currentPassword",r),E.append("newPassword",a),c&&E.append("profilePic",c);const C=await fetch("http://localhost:5000/api/users/update",{method:"PUT",body:E,headers:{Authorization:`Bearer ${_}`}});if(C.ok){const T=await C.json();console.log(T),e(T),t(T.profilePic)}else{const T=await C.json();console.error("Error updating user:",T.message)}}catch(_){console.error("Error:",_)}},x=async()=>{try{const w=localStorage.getItem("token");await ke.delete("http://localhost:5000/api/users/profile-pic",{headers:{Authorization:`Bearer ${w}`}}),u(null),f(null),t(null)}catch(w){console.error("Error removing profile picture:",w)}};return v.jsxs("div",{className:"max-w-3xl mx-auto p-2",children:[v.jsx("h1",{className:"text-3xl text-neutral-900 font-semibold mb-6 mt-20",children:"Settings"}),v.jsxs("form",{onSubmit:y,children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),v.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),h&&v.jsxs("div",{className:"mt-4",children:[v.jsx("img",{src:h,alt:"Profile Preview",className:"w-32 h-32 object-cover rounded-full border"}),v.jsx("button",{type:"button",onClick:x,className:"mt-2 text-red-500",children:"Remove"})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),v.jsx("input",{type:"text",value:i,onChange:g,className:"bg-indigo-100 text-neutral-900 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),v.jsx("input",{type:"password",value:r,onChange:m,className:"bg-indigo-100 text-neutral-900 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),v.jsx("input",{type:"password",value:a,onChange:b,className:"bg-indigo-100 text-neutral-900 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),v.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-md text-lg font-medium",children:"Save Changes"})]})]})},$j=un(Vj),Gj=()=>v.jsxs("div",{className:"max-w-4xl mx-auto p-6 min-h-screen",children:[v.jsx("h1",{className:"text-4xl text-neutral-900 font-bold mb-8 text-center mt-20",children:"Help & Support"}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4 text-neutral-900",children:"Welcome to Help & Support"}),v.jsx("p",{className:"text-gray-700",children:"We are here to assist you with any questions or issues you may have. Browse through our frequently asked questions, or feel free to reach out to us directly for further support."})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-neutral-900",children:"Frequently Asked Questions"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-indigo-700 mb-2",children:"How do I reset my password?"}),v.jsx("p",{className:"text-gray-600",children:'To reset your password, go to the login page and click on the "Forgot Password" link. Enter your email address, and you will receive a link to reset your password.'})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-indigo-700 mb-2",children:"How can I change my username?"}),v.jsx("p",{className:"text-gray-600",children:'You can change your username by going to the Settings page. Navigate to the "Username" section, enter your new desired username, and click "Save Changes."'})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-indigo-700 mb-2",children:"Where can I find my account settings?"}),v.jsx("p",{className:"text-gray-600",children:'Account settings can be found by clicking on your profile picture or username in the top right corner and selecting "Settings" from the dropdown menu.'})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-indigo-700 mb-2",children:"What should I do if I encounter a bug?"}),v.jsx("p",{className:"text-gray-600",children:"If you encounter a bug, please report it to us by emailing our support team. Include as much detail as possible, including screenshots if applicable, to help us resolve the issue promptly."})]})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-neutral-900",children:"Common Issues"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-red-600 mb-2",children:"I can't log in to my account."}),v.jsx("p",{className:"text-gray-600",children:`If you are having trouble logging in, make sure you are using the correct email and password. If you've forgotten your password, you can reset it using the "Forgot Password" link on the login page.`})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-red-600 mb-2",children:"My account has been hacked."}),v.jsx("p",{className:"text-gray-600",children:"If you believe your account has been hacked, immediately change your password and enable two-factor authentication (2FA). Contact our support team to report the incident and get further assistance."})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xl font-medium text-red-600 mb-2",children:"I'm experiencing technical difficulties."}),v.jsx("p",{className:"text-gray-600",children:"If you encounter technical issues, try clearing your browser cache and cookies. If the problem persists, try using a different browser or device. Contact our support team if you continue to experience difficulties."})]})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-neutral-900",children:"Contact Us"}),v.jsx("p",{className:"text-gray-700",children:"If you can't find the answer to your question, or if you need further assistance, please don't hesitate to reach out to our support team."}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h3",{className:"text-xl font-medium mb-2 text-neutral-900",children:"Email Support"}),v.jsxs("p",{className:"text-gray-600",children:["You can contact us via email at"," ",v.jsx("a",{href:"mailto:support@yourdomain.com",className:"text-indigo-600 hover:text-indigo-800",children:"support@yourdomain.com"}),". We aim to respond to all inquiries within 24 hours."]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h3",{className:"text-xl font-medium mb-2 text-neutral-900",children:"Phone Support"}),v.jsxs("p",{className:"text-gray-600",children:["If you prefer to speak to us directly, you can reach us at"," ",v.jsx("a",{href:"tel:+1234567890",className:"text-indigo-600 hover:text-indigo-800",children:"+1 (234) 567-890"}),". Our phone lines are open Monday to Friday, 9 AM to 5 PM (PST)."]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h3",{className:"text-xl font-medium mb-2 text-neutral-900",children:"Mailing Address"}),v.jsx("p",{className:"text-gray-600",children:"You can also reach us via mail at:"}),v.jsxs("p",{className:"text-gray-600 mt-2",children:["Your Company Name",v.jsx("br",{}),"1234 Street Name, Suite 5678",v.jsx("br",{}),"City, State, Zip Code",v.jsx("br",{}),"Country"]})]})]})]}),Xj=un(Gj),qj="modulepreload",Yj=function(n){return"/"+n},lS={},fp=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.all(t.map(a=>{if(a=Yj(a),a in lS)return;lS[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":qj,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};var dh={};dh.d=(n,e)=>{for(var t in e)dh.o(e,t)&&!dh.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};dh.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Q=globalThis.pdfjsLib={};dh.d(Q,{AbortException:()=>fl,AnnotationEditorLayer:()=>tx,AnnotationEditorParamsType:()=>ee,AnnotationEditorType:()=>ue,AnnotationEditorUIManager:()=>tl,AnnotationLayer:()=>X3,AnnotationMode:()=>Cr,CMapCompressionType:()=>Xv,ColorPicker:()=>hm,DOMSVGFactory:()=>D1,DrawLayer:()=>rx,FeatureTest:()=>xn,GlobalWorkerOptions:()=>sr,ImageKind:()=>Kp,InvalidPDFException:()=>EC,MissingPDFException:()=>dl,OPS:()=>pi,Outliner:()=>Ib,PDFDataRangeTransport:()=>bT,PDFDateString:()=>LC,PDFWorker:()=>Kl,PasswordResponses:()=>Qj,PermissionFlag:()=>Jj,PixelsPerInch:()=>go,RenderingCancelledException:()=>N1,TextLayer:()=>cm,UnexpectedResponseException:()=>g0,Util:()=>Y,VerbosityLevel:()=>d0,XfaLayer:()=>wT,build:()=>C3,createValidAbsoluteUrl:()=>iF,fetchData:()=>x0,getDocument:()=>v3,getFilenameFromUrl:()=>fF,getPdfFilenameFromUrl:()=>pF,getXfaPageViewport:()=>gF,isDataScheme:()=>I1,isPdfFile:()=>j1,noContextMenu:()=>kn,normalizeUnicode:()=>cF,renderTextLayer:()=>c3,setLayerDimensions:()=>el,shadow:()=>de,updateTextLayer:()=>u3,version:()=>k3});const Yt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),SC=[1,0,0,1,0,0],Gv=[.001,0,0,.001,0,0],Kj=1e7,xy=1.35,ei={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Cr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Zj="pdfjs_internal_editor_",ue={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ee={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Jj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Kp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ct={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Eu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},d0={ERRORS:0,WARNINGS:1,INFOS:5},Xv={NONE:0,BINARY:1},pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Qj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let f0=d0.WARNINGS;function eF(n){Number.isInteger(n)&&(f0=n)}function tF(){return f0}function p0(n){f0>=d0.INFOS&&console.log(`Info: ${n}`)}function ne(n){f0>=d0.WARNINGS&&console.log(`Warning: ${n}`)}function Ce(n){throw new Error(n)}function mt(n,e){n||Ce(e)}function nF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function iF(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=lF(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(nF(i))return i}catch{}return null}function de(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const So=function(){function e(t,i){this.constructor===e&&Ce("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class qv extends So{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Yv extends So{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class EC extends So{constructor(e){super(e,"InvalidPDFException")}}class dl extends So{constructor(e){super(e,"MissingPDFException")}}class g0 extends So{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class sF extends So{constructor(e){super(e,"FormatError")}}class fl extends So{constructor(e){super(e,"AbortException")}}function AC(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ce("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<e;s+=t){const r=Math.min(s+t,e),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function m0(n){typeof n!="string"&&Ce("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function rF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function M1(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function oF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function aF(){try{return new Function(""),!0}catch{return!1}}class xn{static get isLittleEndian(){return de(this,"isLittleEndian",oF())}static get isEvalSupported(){return de(this,"isEvalSupported",aF())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?de(this,"platform",{isMac:navigator.platform.includes("Mac")}):de(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const wy=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var or,Zp,Kv;class Y{static makeHexColor(e,t,i){return`#${wy[e]}${wy[t]}${wy[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,r]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],r[0],o[0]),Math.min(i[1],s[1],r[1],o[1]),Math.max(i[0],s[0],r[0],o[0]),Math.max(i[1],s[1],r[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-r*s))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[i,r,s,o]}static bezierBoundingBox(e,t,i,s,r,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,or,Kv).call(this,e,i,r,a,t,s,o,l,3*(-e+3*(i-r)+a),6*(e-2*i+r),3*(i-e),c),A(this,or,Kv).call(this,e,i,r,a,t,s,o,l,3*(-t+3*(s-o)+l),6*(t-2*s+o),3*(s-t),c),c}}or=new WeakSet,Zp=function(e,t,i,s,r,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,f=c*c,p=f*c,g=h*(h*(h*e+3*c*t)+3*f*i)+p*s,m=h*(h*(h*r+3*c*o)+3*f*a)+p*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},Kv=function(e,t,i,s,r,o,a,l,c,u,h,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&A(this,or,Zp).call(this,e,t,i,s,r,o,a,l,-h/u,f);return}const p=u**2-4*h*c;if(p<0)return;const g=Math.sqrt(p),m=2*c;A(this,or,Zp).call(this,e,t,i,s,r,o,a,l,(-u+g)/m,f),A(this,or,Zp).call(this,e,t,i,s,r,o,a,l,(-u-g)/m,f)},k(Y,or);function lF(n){return decodeURIComponent(escape(n))}let _y=null,cS=null;function cF(n){return _y||(_y=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cS=new Map([["ﬅ","ſt"]])),n.replaceAll(_y,(e,t,i)=>t?t.normalize("NFKC"):cS.get(i))}function uF(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return AC(n)}const kC="pdfjs_internal_id_",ys={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class y0{constructor(){this.constructor===y0&&Ce("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,r){return"none"}destroy(e=!1){}}var Kh;const fw=class fw{constructor({enableHWA:e=!1}={}){k(this,Kh,!1);this.constructor===fw&&Ce("Cannot initialize BaseCanvasFactory."),S(this,Kh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,Kh)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ce("Abstract method `_createCanvas` called.")}};Kh=new WeakMap;let rm=fw;class v0{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===v0&&Ce("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?Xv.BINARY:Xv.NONE;return this._fetchData(t,i).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Ce("Abstract method `_fetchData` called.")}}class b0{constructor({baseUrl:e=null}){this.constructor===b0&&Ce("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Ce("Abstract method `_fetchData` called.")}}class O1{constructor(){this.constructor===O1&&Ce("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ce("Abstract method `_createSVG` called.")}}const xs="http://www.w3.org/2000/svg",zo=class zo{};I(zo,"CSS",96),I(zo,"PDF",72),I(zo,"PDF_TO_CSS_UNITS",zo.CSS/zo.PDF);let go=zo;var Xo,Vi,Rs,pn,_m,qo,X,Ut,El,Al,Jp,CC,Zv,kl,Iu,ju,Jv,Fu;class hF extends y0{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();k(this,X);k(this,Xo);k(this,Vi);k(this,Rs);k(this,pn);k(this,_m);k(this,qo,0);S(this,Rs,t),S(this,pn,i)}addFilter(t){if(!t)return"none";let i=d(this,X,Ut).get(t);if(i)return i;const[s,r,o]=A(this,X,Jp).call(this,t),a=t.length===1?s:`${s}${r}${o}`;if(i=d(this,X,Ut).get(a),i)return d(this,X,Ut).set(t,i),i;const l=`g_${d(this,Rs)}_transfer_map_${Cn(this,qo)._++}`,c=`url(#${l})`;d(this,X,Ut).set(t,c),d(this,X,Ut).set(a,c);const u=A(this,X,kl).call(this,l);return A(this,X,ju).call(this,s,r,o,u),c}addHCMFilter(t,i){var g;const s=`${t}-${i}`,r="base";let o=d(this,X,El).get(r);if((o==null?void 0:o.key)===s||(o?((g=o.filter)==null||g.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},d(this,X,El).set(r,o)),!t||!i))return o.url;const a=A(this,X,Fu).call(this,t);t=Y.makeHexColor(...a);const l=A(this,X,Fu).call(this,i);if(i=Y.makeHexColor(...l),d(this,X,Al).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let m=0;m<=255;m++){const b=m/255;c[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=c.join(","),h=`g_${d(this,Rs)}_hcm_filter`,f=o.filter=A(this,X,kl).call(this,h);A(this,X,ju).call(this,u,u,u,f),A(this,X,Zv).call(this,f);const p=(m,b)=>{const y=a[m]/255,x=l[m]/255,w=new Array(b+1);for(let _=0;_<=b;_++)w[_]=y+_/b*(x-y);return w.join(",")};return A(this,X,ju).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let i=d(this,X,Ut).get(t);if(i)return i;const[s]=A(this,X,Jp).call(this,[t]),r=`alpha_${s}`;if(i=d(this,X,Ut).get(r),i)return d(this,X,Ut).set(t,i),i;const o=`g_${d(this,Rs)}_alpha_map_${Cn(this,qo)._++}`,a=`url(#${o})`;d(this,X,Ut).set(t,a),d(this,X,Ut).set(r,a);const l=A(this,X,kl).call(this,o);return A(this,X,Jv).call(this,s,l),a}addLuminosityFilter(t){let i=d(this,X,Ut).get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=A(this,X,Jp).call(this,[t]),r=`luminosity_${s}`):r="luminosity",i=d(this,X,Ut).get(r),i)return d(this,X,Ut).set(t,i),i;const o=`g_${d(this,Rs)}_luminosity_map_${Cn(this,qo)._++}`,a=`url(#${o})`;d(this,X,Ut).set(t,a),d(this,X,Ut).set(r,a);const l=A(this,X,kl).call(this,o);return A(this,X,CC).call(this,l),t&&A(this,X,Jv).call(this,s,l),a}addHighlightHCMFilter(t,i,s,r,o){var x;const a=`${i}-${s}-${r}-${o}`;let l=d(this,X,El).get(t);if((l==null?void 0:l.key)===a||(l?((x=l.filter)==null||x.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},d(this,X,El).set(t,l)),!i||!s))return l.url;const[c,u]=[i,s].map(A(this,X,Fu).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[r,o].map(A(this,X,Fu).bind(this));f<h&&([h,f,p,g]=[f,h,g,p]),d(this,X,Al).style.color="";const m=(w,_,E)=>{const C=new Array(256),T=(f-h)/E,P=w/255,L=(_-w)/(255*E);let M=0;for(let N=0;N<=E;N++){const z=Math.round(h+N*T),$=P+N*L;for(let G=M;G<=z;G++)C[G]=$;M=z+1}for(let N=M;N<256;N++)C[N]=C[M-1];return C.join(",")},b=`g_${d(this,Rs)}_hcm_${t}_filter`,y=l.filter=A(this,X,kl).call(this,b);return A(this,X,Zv).call(this,y),A(this,X,ju).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),y),l.url=`url(#${b})`,l.url}destroy(t=!1){t&&d(this,X,El).size!==0||(d(this,Vi)&&(d(this,Vi).parentNode.parentNode.remove(),S(this,Vi,null)),d(this,Xo)&&(d(this,Xo).clear(),S(this,Xo,null)),S(this,qo,0))}}Xo=new WeakMap,Vi=new WeakMap,Rs=new WeakMap,pn=new WeakMap,_m=new WeakMap,qo=new WeakMap,X=new WeakSet,Ut=function(){return d(this,Xo)||S(this,Xo,new Map)},El=function(){return d(this,_m)||S(this,_m,new Map)},Al=function(){if(!d(this,Vi)){const t=d(this,pn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=d(this,pn).createElementNS(xs,"svg");s.setAttribute("width",0),s.setAttribute("height",0),S(this,Vi,d(this,pn).createElementNS(xs,"defs")),t.append(s),s.append(d(this,Vi)),d(this,pn).body.append(t)}return d(this,Vi)},Jp=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const h=u.join(",");return[h,h,h]}const[i,s,r]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=s[c]/255,l[c]=r[c]/255;return[o.join(","),a.join(","),l.join(",")]},CC=function(t){const i=d(this,pn).createElementNS(xs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},Zv=function(t){const i=d(this,pn).createElementNS(xs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},kl=function(t){const i=d(this,pn).createElementNS(xs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),d(this,X,Al).append(i),i},Iu=function(t,i,s){const r=d(this,pn).createElementNS(xs,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)},ju=function(t,i,s,r){const o=d(this,pn).createElementNS(xs,"feComponentTransfer");r.append(o),A(this,X,Iu).call(this,o,"feFuncR",t),A(this,X,Iu).call(this,o,"feFuncG",i),A(this,X,Iu).call(this,o,"feFuncB",s)},Jv=function(t,i){const s=d(this,pn).createElementNS(xs,"feComponentTransfer");i.append(s),A(this,X,Iu).call(this,s,"feFuncA",t)},Fu=function(t){return d(this,X,Al).style.color=t,F1(getComputedStyle(d(this,X,Al)).getPropertyValue("color"))};class dF extends rm{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function x0(n,e="text"){if(zu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class TC extends v0{_fetchData(e,t){return x0(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):m0(i),compressionType:t}))}}class PC extends b0{_fetchData(e){return x0(e,"arraybuffer").then(t=>new Uint8Array(t))}}class D1 extends O1{_createSVG(e){return document.createElementNS(xs,e)}}class zf{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=r;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,f=1;break;case 90:c=0,u=1,h=1,f=0;break;case 270:c=0,u=-1,h=-1,f=0;break;case 0:c=1,u=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,g,m,b;c===0?(p=Math.abs(l-e[1])*t+s,g=Math.abs(a-e[0])*t+r,m=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+s,g=Math.abs(l-e[1])*t+r,m=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,f*t,p-c*t*a-h*t*l,g-u*t*a-f*t*l],this.width=m,this.height=b}get rawDims(){const{viewBox:e}=this;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new zf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){return Y.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Y.applyTransform([e[0],e[1]],this.transform),i=Y.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return Y.applyInverseTransform([e,t],this.transform)}}class N1 extends So{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function I1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function j1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function fF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function pF(n,e="document.pdf"){if(typeof n!="string")return e;if(I1(n))return ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||e}class uS{constructor(){I(this,"started",Object.create(null));I(this,"times",[])}time(e){e in this.started&&ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(t)} ${r-s}ms
`);return e.join("")}}function zu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function kn(n){n.preventDefault()}function RC(n){console.log("Deprecated API usage: "+n)}let hS;class LC{static toDateObject(e){if(!e||typeof e!="string")return null;hS||(hS=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=hS.exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(i,s,r,o,a,l))}}function gF(n,{scale:e=1,rotation:t=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new zf({viewBox:r,scale:e,rotation:t})}function F1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ne(`Not a valid color format: "${n}"`),[0,0,0])}function mF(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,F1(i))}e.remove()}function We(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform();return[e,t,i,s,r,o]}function vs(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[e,t,i,s,r,o]}function el(n,e,t=!1,i=!0){if(e instanceof zf){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:o}=n,a=xn.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,c=`var(--scale-factor) * ${r}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}var Yo,Ko,Ln,Zo,Sm,MC,on,OC,DC,Qp,NC,eb;const Em=class Em{constructor(e){k(this,on);k(this,Yo,null);k(this,Ko,null);k(this,Ln);k(this,Zo,null);S(this,Ln,e)}render(){const e=S(this,Yo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=d(this,Ln)._uiManager._signal;e.addEventListener("contextmenu",kn,{signal:t}),e.addEventListener("pointerdown",A(Em,Sm,MC),{signal:t});const i=S(this,Zo,document.createElement("div"));i.className="buttons",e.append(i);const s=d(this,Ln).toolbarPosition;if(s){const{style:r}=e,o=d(this,Ln)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,on,NC).call(this),e}hide(){var e;d(this,Yo).classList.add("hidden"),(e=d(this,Ko))==null||e.hideDropdown()}show(){d(this,Yo).classList.remove("hidden")}addAltTextButton(e){A(this,on,Qp).call(this,e),d(this,Zo).prepend(e,d(this,on,eb))}addColorPicker(e){S(this,Ko,e);const t=e.renderButton();A(this,on,Qp).call(this,t),d(this,Zo).prepend(t,d(this,on,eb))}remove(){var e;d(this,Yo).remove(),(e=d(this,Ko))==null||e.destroy(),S(this,Ko,null)}};Yo=new WeakMap,Ko=new WeakMap,Ln=new WeakMap,Zo=new WeakMap,Sm=new WeakSet,MC=function(e){e.stopPropagation()},on=new WeakSet,OC=function(e){d(this,Ln)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},DC=function(e){d(this,Ln)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Qp=function(e){const t=d(this,Ln)._uiManager._signal;e.addEventListener("focusin",A(this,on,OC).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,on,DC).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",kn,{signal:t})},NC=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${d(this,Ln).editorType}-button`),A(this,on,Qp).call(this,e),e.addEventListener("click",t=>{d(this,Ln)._uiManager.delete()},{signal:d(this,Ln)._uiManager._signal}),d(this,Zo).append(e)},eb=function(){const e=document.createElement("div");return e.className="divider",e},k(Em,Sm);let Qv=Em;var Zh,Jo,Qo,yo,IC,jC,FC;class yF{constructor(e){k(this,yo);k(this,Zh,null);k(this,Jo,null);k(this,Qo);S(this,Qo,e)}show(e,t,i){const[s,r]=A(this,yo,jC).call(this,t,i),{style:o}=d(this,Jo)||S(this,Jo,A(this,yo,IC).call(this));e.append(d(this,Jo)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Jo).remove()}}Zh=new WeakMap,Jo=new WeakMap,Qo=new WeakMap,yo=new WeakSet,IC=function(){const e=S(this,Jo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",kn,{signal:d(this,Qo)._signal});const t=S(this,Zh,document.createElement("div"));return t.className="buttons",e.append(t),A(this,yo,FC).call(this),e},jC=function(e,t){let i=0,s=0;for(const r of e){const o=r.y+r.height;if(o<i)continue;const a=r.x+(t?r.width:0);if(o>i){s=a,i=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,i]},FC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=d(this,Qo)._signal;e.addEventListener("contextmenu",kn,{signal:i}),e.addEventListener("click",()=>{d(this,Qo).highlightSelection("floating_button")},{signal:i}),d(this,Zh).append(e)};function om(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function vF(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Am;class bF{constructor(){k(this,Am,0)}get id(){return`${Zj}${Cn(this,Am)._++}`}}Am=new WeakMap;var Jh,km,Kn,Qh,nb;const pw=class pw{constructor(){k(this,Qh);k(this,Jh,uF());k(this,km,0);k(this,Kn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:r}=e;return A(this,Qh,nb).call(this,`${t}_${i}_${s}_${r}`,e)}async getFromUrl(e){return A(this,Qh,nb).call(this,e,e)}async getFromId(e){d(this,Kn)||S(this,Kn,new Map);const t=d(this,Kn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=d(this,Kn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){d(this,Kn)||S(this,Kn,new Map);const t=d(this,Kn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${d(this,Jh)}_`)}};Jh=new WeakMap,km=new WeakMap,Kn=new WeakMap,Qh=new WeakSet,nb=async function(e,t){d(this,Kn)||S(this,Kn,new Map);let i=d(this,Kn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,Jh)}_${Cn(this,km)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await x0(t,"blob")):s=i.file=t,s.type==="image/svg+xml"){const r=pw._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const h=i.svgUrl=o.result;a.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return d(this,Kn).set(e,i),i&&d(this,Kn).set(i.id,i),i};let tb=pw;var wt,Tr,ed,_t;class xF{constructor(e=128){k(this,wt,[]);k(this,Tr,!1);k(this,ed);k(this,_t,-1);S(this,ed,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),d(this,Tr))return;const l={cmd:e,undo:t,post:i,type:r};if(d(this,_t)===-1){d(this,wt).length>0&&(d(this,wt).length=0),S(this,_t,0),d(this,wt).push(l);return}if(o&&d(this,wt)[d(this,_t)].type===r){a&&(l.undo=d(this,wt)[d(this,_t)].undo),d(this,wt)[d(this,_t)]=l;return}const c=d(this,_t)+1;c===d(this,ed)?d(this,wt).splice(0,1):(S(this,_t,c),c<d(this,wt).length&&d(this,wt).splice(c)),d(this,wt).push(l)}undo(){if(d(this,_t)===-1)return;S(this,Tr,!0);const{undo:e,post:t}=d(this,wt)[d(this,_t)];e(),t==null||t(),S(this,Tr,!1),S(this,_t,d(this,_t)-1)}redo(){if(d(this,_t)<d(this,wt).length-1){S(this,_t,d(this,_t)+1),S(this,Tr,!0);const{cmd:e,post:t}=d(this,wt)[d(this,_t)];e(),t==null||t(),S(this,Tr,!1)}}hasSomethingToUndo(){return d(this,_t)!==-1}hasSomethingToRedo(){return d(this,_t)<d(this,wt).length-1}destroy(){S(this,wt,null)}}wt=new WeakMap,Tr=new WeakMap,ed=new WeakMap,_t=new WeakMap;var Cm,zC;class Hf{constructor(e){k(this,Cm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=xn.platform;for(const[i,s,r={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(A(this,Cm,zC).call(this,t));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(s.bind(e,...o,t)(),r||(t.stopPropagation(),t.preventDefault()))}}Cm=new WeakSet,zC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Tm=class Tm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return mF(e),de(this,"_colors",e)}convert(e){const t=F1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((r,o)=>r===t[o]))return Tm._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Y.makeHexColor(...t):e}};I(Tm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ib=Tm;var ec,Mn,ut,Tt,tc,Ls,nc,gi,ic,ea,$i,mi,ta,td,nd,Gi,sc,Pr,Xi,Pm,Rr,id,na,sd,rc,Pt,be,Ms,ia,rd,od,ad,ld,cd,ud,hd,dd,fd,pd,gd,md,yd,Lr,qi,Os,vd,H,eg,HC,BC,tg,UC,WC,VC,sb,$C,rb,ob,GC,Qt,xr,XC,qC,ab,YC,Hu,lb;const Ul=class Ul{constructor(e,t,i,s,r,o,a,l,c){k(this,H);k(this,ec,new AbortController);k(this,Mn,null);k(this,ut,new Map);k(this,Tt,new Map);k(this,tc,null);k(this,Ls,null);k(this,nc,null);k(this,gi,new xF);k(this,ic,0);k(this,ea,new Set);k(this,$i,null);k(this,mi,null);k(this,ta,new Set);k(this,td,!1);k(this,nd,null);k(this,Gi,null);k(this,sc,null);k(this,Pr,!1);k(this,Xi,null);k(this,Pm,new bF);k(this,Rr,!1);k(this,id,!1);k(this,na,null);k(this,sd,null);k(this,rc,null);k(this,Pt,ue.NONE);k(this,be,new Set);k(this,Ms,null);k(this,ia,null);k(this,rd,null);k(this,od,this.blur.bind(this));k(this,ad,this.focus.bind(this));k(this,ld,this.copy.bind(this));k(this,cd,this.cut.bind(this));k(this,ud,this.paste.bind(this));k(this,hd,this.keydown.bind(this));k(this,dd,this.keyup.bind(this));k(this,fd,this.onEditingAction.bind(this));k(this,pd,this.onPageChanging.bind(this));k(this,gd,this.onScaleChanging.bind(this));k(this,md,this.onRotationChanging.bind(this));k(this,yd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,Lr,[0,0]);k(this,qi,null);k(this,Os,null);k(this,vd,null);this._signal=d(this,ec).signal,S(this,Os,e),S(this,vd,t),S(this,tc,i),this._eventBus=s,this._eventBus._on("editingaction",d(this,fd)),this._eventBus._on("pagechanging",d(this,pd)),this._eventBus._on("scalechanging",d(this,gd)),this._eventBus._on("rotationchanging",d(this,md)),A(this,H,UC).call(this),A(this,H,GC).call(this),A(this,H,sb).call(this),S(this,Ls,r.annotationStorage),S(this,nd,r.filterFactory),S(this,ia,o),S(this,sc,a||null),S(this,td,l),S(this,rc,c||null),this.viewParameters={realScale:go.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ul.prototype,t=o=>d(o,Os).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new Hf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&d(o,Os).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&d(o,Os).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,i;(e=d(this,ec))==null||e.abort(),S(this,ec,null),this._signal=null,this._eventBus._off("editingaction",d(this,fd)),this._eventBus._off("pagechanging",d(this,pd)),this._eventBus._off("scalechanging",d(this,gd)),this._eventBus._off("rotationchanging",d(this,md));for(const s of d(this,Tt).values())s.destroy();d(this,Tt).clear(),d(this,ut).clear(),d(this,ta).clear(),S(this,Mn,null),d(this,be).clear(),d(this,gi).destroy(),(t=d(this,tc))==null||t.destroy(),(i=d(this,Xi))==null||i.hide(),S(this,Xi,null),d(this,Gi)&&(clearTimeout(d(this,Gi)),S(this,Gi,null)),d(this,qi)&&(clearTimeout(d(this,qi)),S(this,qi,null))}async mlGuess(e){var t;return((t=d(this,rc))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!d(this,rc)}get hcmFilter(){return de(this,"hcmFilter",d(this,ia)?d(this,nd).addHCMFilter(d(this,ia).foreground,d(this,ia).background):"none")}get direction(){return de(this,"direction",getComputedStyle(d(this,Os)).direction)}get highlightColors(){return de(this,"highlightColors",d(this,sc)?new Map(d(this,sc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,sd,e)}editAltText(e){var t;(t=d(this,tc))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){S(this,ic,e-1)}focusMainContainer(){d(this,Os).focus()}findParent(e,t){for(const i of d(this,Tt).values()){const{x:s,y:r,width:o,height:a}=i.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=r&&t<=r+a)return i}return null}disableUserSelect(e=!1){d(this,vd).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,ta).add(e)}removeShouldRescale(e){d(this,ta).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*go.PDF_TO_CSS_UNITS;for(const t of d(this,ta))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o}=t,a=t.toString(),c=A(this,H,eg).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){t.empty(),d(this,Pt)===ue.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ue.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of d(this,Tt).values())if(h.hasTextLayer(c)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&d(this,Ls)&&!d(this,Ls).has(e.id)&&d(this,Ls).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,d(this,Pr)&&(S(this,Pr,!1),A(this,H,tg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of d(this,be))if(t.div.contains(e)){S(this,na,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!d(this,na))return;const[e,t]=d(this,na);S(this,na,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,H,sb).call(this),A(this,H,rb).call(this)}removeEditListeners(){A(this,H,$C).call(this),A(this,H,ob).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of d(this,mi))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of d(this,mi))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=d(this,Mn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of d(this,be)){const r=s.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of d(this,mi))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){ne(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of i){const c=s.deserialize(l);if(!c)return;r.push(c)}const o=()=>{for(const l of r)A(this,H,ab).call(this,l);A(this,H,lb).call(this,r)},a=()=>{for(const l of r)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){ne(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Pt)!==ue.NONE&&!this.isEditorHandlingKeyboard&&Ul._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,Pr)&&(S(this,Pr,!1),A(this,H,tg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,H,WC).call(this),A(this,H,rb).call(this),A(this,H,Qt).call(this,{isEditing:d(this,Pt)!==ue.NONE,isEmpty:A(this,H,Hu).call(this),hasSomethingToUndo:d(this,gi).hasSomethingToUndo(),hasSomethingToRedo:d(this,gi).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,H,VC).call(this),A(this,H,ob).call(this),A(this,H,Qt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,mi)){S(this,mi,e);for(const t of d(this,mi))A(this,H,xr).call(this,t.defaultPropertiesToUpdate)}}getId(){return d(this,Pm).id}get currentLayer(){return d(this,Tt).get(d(this,ic))}getLayer(e){return d(this,Tt).get(e)}get currentPageIndex(){return d(this,ic)}addLayer(e){d(this,Tt).set(e.pageIndex,e),d(this,Rr)?e.enable():e.disable()}removeLayer(e){d(this,Tt).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(d(this,Pt)!==e){if(S(this,Pt,e),e===ue.NONE){this.setEditingState(!1),A(this,H,qC).call(this);return}this.setEditingState(!0),A(this,H,XC).call(this),this.unselectAll();for(const s of d(this,Tt).values())s.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const s of d(this,ut).values())if(s.annotationElementId===t){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==d(this,Pt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(d(this,mi)){switch(e){case ee.CREATE:this.currentLayer.addNewEditor();return;case ee.HIGHLIGHT_DEFAULT_COLOR:(i=d(this,sd))==null||i.updateColor(t);break;case ee.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,rd)||S(this,rd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of d(this,be))s.updateParams(e,t);for(const s of d(this,mi))s.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var r;for(const o of d(this,ut).values())o.editorType===e&&o.show(t);(((r=d(this,rd))==null?void 0:r.get(ee.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,H,xr).call(this,[[ee.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(d(this,id)!==e){S(this,id,e);for(const t of d(this,Tt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of d(this,ut).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return d(this,ut).get(e)}addEditor(e){d(this,ut).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(d(this,Gi)&&clearTimeout(d(this,Gi)),S(this,Gi,setTimeout(()=>{this.focusMainContainer(),S(this,Gi,null)},0))),d(this,ut).delete(e.id),this.unselect(e),(!e.annotationElementId||!d(this,ea).has(e.annotationElementId))&&((t=d(this,Ls))==null||t.remove(e.id))}addDeletedAnnotationElement(e){d(this,ea).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,ea).has(e)}removeDeletedAnnotationElement(e){d(this,ea).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,Mn)!==e&&(S(this,Mn,e),e&&A(this,H,xr).call(this,e.propertiesToUpdate))}updateUI(e){d(this,H,YC)===e&&A(this,H,xr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(d(this,be).has(e)){d(this,be).delete(e),e.unselect(),A(this,H,Qt).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,be).add(e),e.select(),A(this,H,xr).call(this,e.propertiesToUpdate),A(this,H,Qt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of d(this,be))t!==e&&t.unselect();d(this,be).clear(),d(this,be).add(e),e.select(),A(this,H,xr).call(this,e.propertiesToUpdate),A(this,H,Qt).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,be).has(e)}get firstSelectedEditor(){return d(this,be).values().next().value}unselect(e){e.unselect(),d(this,be).delete(e),A(this,H,Qt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,be).size!==0}get isEnterHandled(){return d(this,be).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,gi).undo(),A(this,H,Qt).call(this,{hasSomethingToUndo:d(this,gi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,H,Hu).call(this)})}redo(){d(this,gi).redo(),A(this,H,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,gi).hasSomethingToRedo(),isEmpty:A(this,H,Hu).call(this)})}addCommands(e){d(this,gi).add(e),A(this,H,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,H,Hu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...d(this,be)],t=()=>{for(const s of e)s.remove()},i=()=>{for(const s of e)A(this,H,ab).call(this,s)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=d(this,Mn))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,Mn)||this.hasSelection}selectAll(){for(const e of d(this,be))e.commit();A(this,H,lb).call(this,d(this,ut).values())}unselectAll(){if(!(d(this,Mn)&&(d(this,Mn).commitOrRemove(),d(this,Pt)!==ue.NONE))&&this.hasSelection){for(const e of d(this,be))e.unselect();d(this,be).clear(),A(this,H,Qt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,Lr)[0]+=e,d(this,Lr)[1]+=t;const[s,r]=d(this,Lr),o=[...d(this,be)],a=1e3;d(this,qi)&&clearTimeout(d(this,qi)),S(this,qi,setTimeout(()=>{S(this,qi,null),d(this,Lr)[0]=d(this,Lr)[1]=0,this.addCommands({cmd:()=>{for(const l of o)d(this,ut).has(l.id)&&l.translateInPage(s,r)},undo:()=>{for(const l of o)d(this,ut).has(l.id)&&l.translateInPage(-s,-r)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,$i,new Map);for(const e of d(this,be))d(this,$i).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,$i))return!1;this.disableUserSelect(!1);const e=d(this,$i);S(this,$i,null);let t=!1;for(const[{x:s,y:r,pageIndex:o},a]of e)a.newX=s,a.newY=r,a.newPageIndex=o,t||(t=s!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(s,r,o,a)=>{if(d(this,ut).has(s.id)){const l=d(this,Tt).get(a);l?s._setParentAndPosition(l,r,o):(s.pageIndex=a,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:a}]of e)i(s,r,o,a)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:a}]of e)i(s,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(d(this,$i))for(const i of d(this,$i).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,be).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,Mn)===e}getActive(){return d(this,Mn)}getMode(){return d(this,Pt)}get imageManager(){return de(this,"imageManager",new tb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,f)=>({x:(u-s)/o,y:1-(c+h-i)/r,width:f/o,height:h/r});break;case"180":a=(c,u,h,f)=>({x:1-(c+h-i)/r,y:1-(u+f-s)/o,width:h/r,height:f/o});break;case"270":a=(c,u,h,f)=>({x:1-(u+f-s)/o,y:(c-i)/r,width:f/o,height:h/r});break;default:a=(c,u,h,f)=>({x:(c-i)/r,y:(u-s)/o,width:h/r,height:f/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:p,width:g,height:m}of h.getClientRects())g===0||m===0||l.push(a(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(d(this,nc)||S(this,nc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=d(this,nc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=d(this,nc))==null?void 0:s.get(e.data.id);if(!t)return;const i=d(this,Ls).getRawValue(t);i&&(d(this,Pt)===ue.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};ec=new WeakMap,Mn=new WeakMap,ut=new WeakMap,Tt=new WeakMap,tc=new WeakMap,Ls=new WeakMap,nc=new WeakMap,gi=new WeakMap,ic=new WeakMap,ea=new WeakMap,$i=new WeakMap,mi=new WeakMap,ta=new WeakMap,td=new WeakMap,nd=new WeakMap,Gi=new WeakMap,sc=new WeakMap,Pr=new WeakMap,Xi=new WeakMap,Pm=new WeakMap,Rr=new WeakMap,id=new WeakMap,na=new WeakMap,sd=new WeakMap,rc=new WeakMap,Pt=new WeakMap,be=new WeakMap,Ms=new WeakMap,ia=new WeakMap,rd=new WeakMap,od=new WeakMap,ad=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,pd=new WeakMap,gd=new WeakMap,md=new WeakMap,yd=new WeakMap,Lr=new WeakMap,qi=new WeakMap,Os=new WeakMap,vd=new WeakMap,H=new WeakSet,eg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},HC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=A(this,H,eg).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(d(this,Xi)||S(this,Xi,new yF(this)),d(this,Xi).show(i,s,this.direction==="ltr"))},BC=function(){var r,o,a;const e=document.getSelection();if(!e||e.isCollapsed){d(this,Ms)&&((r=d(this,Xi))==null||r.hide(),S(this,Ms,null),A(this,H,Qt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===d(this,Ms))return;if(!A(this,H,eg).call(this,e).closest(".textLayer")){d(this,Ms)&&((o=d(this,Xi))==null||o.hide(),S(this,Ms,null),A(this,H,Qt).call(this,{hasSelectedText:!1}));return}if((a=d(this,Xi))==null||a.hide(),S(this,Ms,t),A(this,H,Qt).call(this,{hasSelectedText:!0}),!(d(this,Pt)!==ue.HIGHLIGHT&&d(this,Pt)!==ue.NONE)&&(d(this,Pt)===ue.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Pr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),u.type==="pointerup"&&A(this,H,tg).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},tg=function(e=""){d(this,Pt)===ue.HIGHLIGHT?this.highlightSelection(e):d(this,td)&&A(this,H,HC).call(this)},UC=function(){document.addEventListener("selectionchange",A(this,H,BC).bind(this),{signal:this._signal})},WC=function(){const e=this._signal;window.addEventListener("focus",d(this,ad),{signal:e}),window.addEventListener("blur",d(this,od),{signal:e})},VC=function(){window.removeEventListener("focus",d(this,ad)),window.removeEventListener("blur",d(this,od))},sb=function(){const e=this._signal;window.addEventListener("keydown",d(this,hd),{signal:e}),window.addEventListener("keyup",d(this,dd),{signal:e})},$C=function(){window.removeEventListener("keydown",d(this,hd)),window.removeEventListener("keyup",d(this,dd))},rb=function(){const e=this._signal;document.addEventListener("copy",d(this,ld),{signal:e}),document.addEventListener("cut",d(this,cd),{signal:e}),document.addEventListener("paste",d(this,ud),{signal:e})},ob=function(){document.removeEventListener("copy",d(this,ld)),document.removeEventListener("cut",d(this,cd)),document.removeEventListener("paste",d(this,ud))},GC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Qt=function(e){Object.entries(e).some(([i,s])=>d(this,yd)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,yd),e)}),d(this,Pt)===ue.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,H,xr).call(this,[[ee.HIGHLIGHT_FREE,!0]]))},xr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},XC=function(){if(!d(this,Rr)){S(this,Rr,!0);for(const e of d(this,Tt).values())e.enable();for(const e of d(this,ut).values())e.enable()}},qC=function(){if(this.unselectAll(),d(this,Rr)){S(this,Rr,!1);for(const e of d(this,Tt).values())e.disable();for(const e of d(this,ut).values())e.disable()}},ab=function(e){const t=d(this,Tt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},YC=function(){let e=null;for(e of d(this,be));return e},Hu=function(){if(d(this,ut).size===0)return!0;if(d(this,ut).size===1)for(const e of d(this,ut).values())return e.isEmpty();return!1},lb=function(e){for(const t of d(this,be))t.unselect();d(this,be).clear();for(const t of e)t.isEmpty()||(d(this,be).add(t),t.select());A(this,H,Qt).call(this,{hasSelectedEditor:this.hasSelection})},I(Ul,"TRANSLATE_SMALL",1),I(Ul,"TRANSLATE_BIG",10);let tl=Ul;var Ds,Ns,yi,Is,On,oc,vi,bd,cb;const Es=class Es{constructor(e){k(this,bd);k(this,Ds,"");k(this,Ns,!1);k(this,yi,null);k(this,Is,null);k(this,On,null);k(this,oc,!1);k(this,vi,null);S(this,vi,e)}static initialize(e){Es._l10nPromise||(Es._l10nPromise=e)}async render(){const e=S(this,yi,document.createElement("button"));e.className="altText";const t=await Es._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=d(this,vi)._uiManager._signal;e.addEventListener("contextmenu",kn,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),d(this,vi)._uiManager.editAltText(d(this,vi))};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(S(this,oc,!0),s(r))},{signal:i}),await A(this,bd,cb).call(this),e}finish(){d(this,yi)&&(d(this,yi).focus({focusVisible:d(this,oc)}),S(this,oc,!1))}isEmpty(){return!d(this,Ds)&&!d(this,Ns)}get data(){return{altText:d(this,Ds),decorative:d(this,Ns)}}set data({altText:e,decorative:t}){d(this,Ds)===e&&d(this,Ns)===t||(S(this,Ds,e),S(this,Ns,t),A(this,bd,cb).call(this))}toggle(e=!1){d(this,yi)&&(!e&&d(this,On)&&(clearTimeout(d(this,On)),S(this,On,null)),d(this,yi).disabled=!e)}destroy(){var e;(e=d(this,yi))==null||e.remove(),S(this,yi,null),S(this,Is,null)}};Ds=new WeakMap,Ns=new WeakMap,yi=new WeakMap,Is=new WeakMap,On=new WeakMap,oc=new WeakMap,vi=new WeakMap,bd=new WeakSet,cb=async function(){var s;const e=d(this,yi);if(!e)return;if(!d(this,Ds)&&!d(this,Ns)){e.classList.remove("done"),(s=d(this,Is))==null||s.remove();return}e.classList.add("done"),Es._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{e.setAttribute("aria-label",r)});let t=d(this,Is);if(!t){S(this,Is,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const r=t.id=`alt-text-tooltip-${d(this,vi).id}`;e.setAttribute("aria-describedby",r);const o=100,a=d(this,vi)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(d(this,On)),S(this,On,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,On,setTimeout(()=>{S(this,On,null),d(this,Is).classList.add("show"),d(this,vi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;d(this,On)&&(clearTimeout(d(this,On)),S(this,On,null)),(l=d(this,Is))==null||l.classList.remove("show")},{signal:a})}t.innerText=d(this,Ns)?await Es._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):d(this,Ds),t.parentNode||e.append(t);const i=d(this,vi).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},I(Es,"_l10nPromise",null);let am=Es;var sa,bi,Wt,ac,ra,Rt,oa,lc,cc,Vt,xd,aa,Mr,wd,la,js,Yi,uc,hc,Zn,_d,Rm,se,ub,Sd,hb,db,KC,ZC,fb,pb,gb,JC,QC,eT,tT,mb,Bu;const Pe=class Pe{constructor(e){k(this,se);k(this,sa,null);k(this,bi,null);k(this,Wt,null);k(this,ac,!1);k(this,ra,!1);k(this,Rt,null);k(this,oa,null);k(this,lc,this.focusin.bind(this));k(this,cc,this.focusout.bind(this));k(this,Vt,null);k(this,xd,"");k(this,aa,!1);k(this,Mr,null);k(this,wd,!1);k(this,la,!1);k(this,js,!1);k(this,Yi,null);k(this,uc,0);k(this,hc,0);k(this,Zn,null);I(this,"_initialOptions",Object.create(null));I(this,"_isVisible",!0);I(this,"_uiManager",null);I(this,"_focusEventsAllowed",!0);I(this,"_l10nPromise",null);k(this,_d,!1);k(this,Rm,Pe._zIndex++);this.constructor===Pe&&Ce("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Pe.prototype._resizeWithKeyboard,t=tl.TRANSLATE_SMALL,i=tl.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new Hf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wF({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Pe._l10nPromise||(Pe._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,e.get(r.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const r of i.strings)Pe._l10nPromise.set(r,e.get(r));if(Pe._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Pe._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ce("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,_d)}set _isDraggable(e){var t;S(this,_d,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Rm)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,se,Bu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,aa)?S(this,aa,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){A(this,se,ub).call(this,this.parentDimensions,e,t)}translateInPage(e,t){d(this,Mr)||S(this,Mr,[this.x,this.y]),A(this,se,ub).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){d(this,Mr)||S(this,Mr,[this.x,this.y]);const[i,s]=this.parentDimensions;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[a,l]=this.getBaseTranslation();r+=a,o+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,Mr)&&(d(this,Mr)[0]!==this.x||d(this,Mr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Pe,s=i/e,r=i/t;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:s,y:r,width:o,height:a}=this;if(o*=t,a*=i,s*=t,r*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-o,s)),r=Math.max(0,Math.min(i-a,r));break;case 90:s=Math.max(0,Math.min(t-a,s)),r=Math.min(i,Math.max(o,r));break;case 180:s=Math.min(t,Math.max(o,s)),r=Math.min(i,Math.max(a,r));break;case 270:s=Math.min(t,Math.max(a,s)),r=Math.max(0,Math.min(i-o,r));break}this.x=s/=t,this.y=r/=i;const[l,c]=this.getBaseTranslation();s+=l,r+=c;const{style:u}=this.div;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return A(i=Pe,Sd,hb).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return A(i=Pe,Sd,hb).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,s=t*e,r=i*e;return xn.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(e,t){const[i,s]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,d(this,ra)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),r=!d(this,ra)&&t.endsWith("%");if(s&&r)return;const[o,a]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!d(this,ra)&&!r&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=d(this,Wt))==null||e.finish()}async addEditToolbar(){return d(this,Vt)||d(this,la)?d(this,Vt):(S(this,Vt,new Qv(this)),this.div.append(d(this,Vt).render()),d(this,Wt)&&d(this,Vt).addAltTextButton(await d(this,Wt).render()),d(this,Vt))}removeEditToolbar(){var e;d(this,Vt)&&(d(this,Vt).remove(),S(this,Vt,null),(e=d(this,Wt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,Wt)||(am.initialize(Pe._l10nPromise),S(this,Wt,new am(this)),d(this,sa)&&(d(this,Wt).data=d(this,sa),S(this,sa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=d(this,Wt))==null?void 0:e.data}set altTextData(e){d(this,Wt)&&(d(this,Wt).data=e)}hasAltText(){var e;return!((e=d(this,Wt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,ac)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",d(this,lc),{signal:e}),this.div.addEventListener("focusout",d(this,cc),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),om(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=xn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(S(this,aa,!0),this._isDraggable){A(this,se,JC).call(this,e);return}A(this,se,gb).call(this,e)}moveInDOM(){d(this,Yi)&&clearTimeout(d(this,Yi)),S(this,Yi,setTimeout(()=>{var e;S(this,Yi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/s,u=t/s,h=this.x*r,f=this.y*o,p=this.width*r,g=this.height*o;switch(i){case 0:return[h+c+a,o-f-u-g+l,h+c+p+a,o-f-u+l];case 90:return[h+u+a,o-f+c+l,h+u+g+a,o-f+c+p+l];case 180:return[h-c-p+a,o-f+u+l,h-c+a,o-f+u+g+l];case 270:return[h-u-g+a,o-f-c-p+l,h-u+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,r,o]=e,a=r-i,l=o-s;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-s,l,a];case 180:return[r,t-s,a,l];case 270:return[r,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,la,!0)}disableEditMode(){S(this,la,!1)}isInEditMode(){return d(this,la)}shouldGetKeyboardEvents(){return d(this,js)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",d(this,lc),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",d(this,cc),{signal:e})}rotate(e){}serialize(e=!1,t=null){Ce("An editor must be serializable")}static deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,S(s,sa,e.accessibilityData);const[r,o]=s.pageDimensions,[a,l,c,u]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/r,s.y=l/o,s.width=c/r,s.height=u/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",d(this,lc)),this.div.removeEventListener("focusout",d(this,cc)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Yi)&&(clearTimeout(d(this,Yi)),S(this,Yi,null)),A(this,se,Bu).call(this),this.removeEditToolbar(),d(this,Zn)){for(const e of d(this,Zn).values())clearTimeout(e);S(this,Zn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,se,KC).call(this),d(this,Rt).classList.remove("hidden"),om(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,oa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=d(this,Rt).children;if(!d(this,bi)){S(this,bi,Array.from(t));const o=A(this,se,QC).bind(this),a=A(this,se,eT).bind(this),l=this._uiManager._signal;for(const c of d(this,bi)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",A(this,se,tT).bind(this,u),{signal:l}),Pe._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>c.setAttribute("aria-label",h))}}const i=d(this,bi)[0];let s=0;for(const o of t){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(d(this,bi).length/4);if(r!==s){if(r<s)for(let a=0;a<s-r;a++)d(this,Rt).append(d(this,Rt).firstChild);else if(r>s)for(let a=0;a<r-s;a++)d(this,Rt).firstChild.before(d(this,Rt).lastChild);let o=0;for(const a of t){const c=d(this,bi)[o++].getAttribute("data-resizer-name");Pe._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}A(this,se,mb).call(this,0),S(this,js,!0),d(this,Rt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){d(this,js)&&A(this,se,pb).call(this,d(this,xd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,se,Bu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!d(this,Vt)){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=d(this,Vt))==null||s.show())});return}(t=d(this,Vt))==null||t.show()}unselect(){var e,t,i,s;(e=d(this,Rt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=d(this,Vt))==null||s.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,wd)}set isEditing(e){S(this,wd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){S(this,ra,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){d(this,Zn)||S(this,Zn,new Map);const{action:i}=e;let s=d(this,Zn).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),d(this,Zn).delete(i),d(this,Zn).size===0&&S(this,Zn,null)},Pe._telemetryTimeout),d(this,Zn).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,ac,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,ac,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};sa=new WeakMap,bi=new WeakMap,Wt=new WeakMap,ac=new WeakMap,ra=new WeakMap,Rt=new WeakMap,oa=new WeakMap,lc=new WeakMap,cc=new WeakMap,Vt=new WeakMap,xd=new WeakMap,aa=new WeakMap,Mr=new WeakMap,wd=new WeakMap,la=new WeakMap,js=new WeakMap,Yi=new WeakMap,uc=new WeakMap,hc=new WeakMap,Zn=new WeakMap,_d=new WeakMap,Rm=new WeakMap,se=new WeakSet,ub=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this.fixAndSetPosition()},Sd=new WeakSet,hb=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},db=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},KC=function(){if(d(this,Rt))return;S(this,Rt,document.createElement("div")),d(this,Rt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");d(this,Rt).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",A(this,se,ZC).bind(this,i),{signal:t}),s.addEventListener("contextmenu",kn,{signal:t}),s.tabIndex=-1}this.div.prepend(d(this,Rt))},ZC=function(e,t){var m;t.preventDefault();const{isMac:i}=xn.platform;if(t.button!==0||t.ctrlKey&&i)return;(m=d(this,Wt))==null||m.toggle(!1);const s=A(this,se,pb).bind(this,e),r=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,a),window.addEventListener("contextmenu",kn,{signal:o});const l=this.x,c=this.y,u=this.width,h=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var b;this.parent.togglePointerEvents(!0),(b=d(this,Wt))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",s,a),window.removeEventListener("contextmenu",kn),this.parent.div.style.cursor=f,this.div.style.cursor=p,A(this,se,fb).call(this,l,c,u,h)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},fb=function(e,t,i,s){const r=this.x,o=this.y,a=this.width,l=this.height;r===e&&o===t&&a===i&&l===s||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=r,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*i,u*s),this.fixAndSetPosition()},mustExec:!0})},pb=function(e,t){const[i,s]=this.parentDimensions,r=this.x,o=this.y,a=this.width,l=this.height,c=Pe.MIN_SIZE/i,u=Pe.MIN_SIZE/s,h=F=>Math.round(F*1e4)/1e4,f=A(this,se,db).call(this,this.rotation),p=(F,D)=>[f[0]*F+f[2]*D,f[1]*F+f[3]*D],g=A(this,se,db).call(this,360-this.rotation),m=(F,D)=>[g[0]*F+g[2]*D,g[1]*F+g[3]*D];let b,y,x=!1,w=!1;switch(e){case"topLeft":x=!0,b=(F,D)=>[0,0],y=(F,D)=>[F,D];break;case"topMiddle":b=(F,D)=>[F/2,0],y=(F,D)=>[F/2,D];break;case"topRight":x=!0,b=(F,D)=>[F,0],y=(F,D)=>[0,D];break;case"middleRight":w=!0,b=(F,D)=>[F,D/2],y=(F,D)=>[0,D/2];break;case"bottomRight":x=!0,b=(F,D)=>[F,D],y=(F,D)=>[0,0];break;case"bottomMiddle":b=(F,D)=>[F/2,D],y=(F,D)=>[F/2,0];break;case"bottomLeft":x=!0,b=(F,D)=>[0,D],y=(F,D)=>[F,0];break;case"middleLeft":w=!0,b=(F,D)=>[0,D/2],y=(F,D)=>[F,D/2];break}const _=b(a,l),E=y(a,l);let C=p(...E);const T=h(r+C[0]),P=h(o+C[1]);let L=1,M=1,[N,z]=this.screenToPageTranslation(t.movementX,t.movementY);if([N,z]=m(N/i,z/s),x){const F=Math.hypot(a,l);L=M=Math.max(Math.min(Math.hypot(E[0]-_[0]-N,E[1]-_[1]-z)/F,1/a,1/l),c/a,u/l)}else w?L=Math.max(c,Math.min(1,Math.abs(E[0]-_[0]-N)))/a:M=Math.max(u,Math.min(1,Math.abs(E[1]-_[1]-z)))/l;const $=h(a*L),G=h(l*M);C=p(...y($,G));const W=T-C[0],q=P-C[1];this.width=$,this.height=G,this.x=W,this.y=q,this.setDims(i*$,s*G),this.fixAndSetPosition()},gb=function(e){const{isMac:t}=xn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},JC=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,s;const r=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:r},S(this,uc,e.clientX),S(this,hc,e.clientY),s=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-d(this,uc),c-d(this,hc));S(this,uc,l),S(this,hc,c),this._uiManager.dragSelectedEditors(u,h)},window.addEventListener("pointermove",s,i));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,i)),S(this,aa,!1),this._uiManager.endDragSession()||A(this,se,gb).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},QC=function(e){Pe._resizerKeyboardManager.exec(this,e)},eT=function(e){var t;d(this,js)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==d(this,Rt)&&A(this,se,Bu).call(this)},tT=function(e){S(this,xd,d(this,js)?e:"")},mb=function(e){if(d(this,bi))for(const t of d(this,bi))t.tabIndex=e},Bu=function(){if(S(this,js,!1),A(this,se,mb).call(this,-1),d(this,oa)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=d(this,oa);A(this,se,fb).call(this,e,t,i,s),S(this,oa,null)}},k(Pe,Sd),I(Pe,"_borderLineWidth",-1),I(Pe,"_colorManager",new ib),I(Pe,"_zIndex",1),I(Pe,"_telemetryTimeout",1e3);let we=Pe;class wF extends we{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const dS=3285377520,Xn=4294901760,Hi=65535;class nT{constructor(e){this.h1=e?e&4294967295:dS,this.h2=e?e&4294967295:dS}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,b=e.length;m<b;m++){const y=e.charCodeAt(m);y<=255?t[i++]=y:(t[i++]=y>>>8,t[i++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,f=461845907,p=h&Hi,g=f&Hi;for(let m=0;m<s;m++)m&1?(a=o[m],a=a*h&Xn|a*p&Hi,a=a<<15|a>>>17,a=a*f&Xn|a*g&Hi,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[m],l=l*h&Xn|l*p&Hi,l=l<<15|l>>>17,l=l*f&Xn|l*g&Hi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,r){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*h&Xn|a*p&Hi,a=a<<15|a>>>17,a=a*f&Xn|a*g&Hi,s&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xn|e*36045&Hi,t=t*4283543511&Xn|((t<<16|e>>>16)*2950163797&Xn)>>>16,e^=t>>>1,e=e*444984403&Xn|e*60499&Hi,t=t*3301882366&Xn|((t<<16|e>>>16)*3120437893&Xn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const yb=Object.freeze({map:null,hash:"",transfer:void 0});var ca,Lt,Lm,iT;class z1{constructor(){k(this,Lm);k(this,ca,!1);k(this,Lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=d(this,Lt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return d(this,Lt).get(e)}remove(e){if(d(this,Lt).delete(e),d(this,Lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of d(this,Lt).values())if(t instanceof we)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=d(this,Lt).get(e);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(t))i[r]!==o&&(s=!0,i[r]=o);else s=!0,d(this,Lt).set(e,t);s&&A(this,Lm,iT).call(this),t instanceof we&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return d(this,Lt).has(e)}getAll(){return d(this,Lt).size>0?M1(d(this,Lt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return d(this,Lt).size}resetModified(){d(this,ca)&&(S(this,ca,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new sT(this)}get serializable(){if(d(this,Lt).size===0)return yb;const e=new Map,t=new nT,i=[],s=Object.create(null);let r=!1;for(const[o,a]of d(this,Lt)){const l=a instanceof we?a.serialize(!1,s):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:yb}get editorStats(){let e=null;const t=new Map;for(const i of d(this,Lt).values()){if(!(i instanceof we))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[r]||(e[r]=new Map);for(const[a,l]of Object.entries(s)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}}ca=new WeakMap,Lt=new WeakMap,Lm=new WeakSet,iT=function(){d(this,ca)||(S(this,ca,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ed;class sT extends z1{constructor(t){super();k(this,Ed);const{map:i,hash:s,transfer:r}=t.serializable,o=structuredClone(i,r?{transfer:r}:null);S(this,Ed,{map:o,hash:s,transfer:r})}get print(){Ce("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,Ed)}}Ed=new WeakMap;var dc;class _F{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){k(this,dc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,dc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||d(this,dc).has(e.loadedName))){if(mt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:r}=e,o=new FontFace(i,s,r);this.addNativeFontFace(o);try{await o.load(),d(this,dc).add(i),t==null||t(e)}catch{ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ce("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw ne(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Yt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),de(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(mt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(_,E){return _.charCodeAt(E)<<24|_.charCodeAt(E+1)<<16|_.charCodeAt(E+2)<<8|_.charCodeAt(E+3)&255}function s(_,E,C,T){const P=_.substring(0,E),L=_.substring(E+C);return P+T+L}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(_,E){if(++c>30){ne("Load test font never loaded."),E();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(u.bind(null,_,E))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const g=16,m=1482184792;let b=i(f,g);for(r=0,o=h.length-3;r<o;r+=4)b=b-m+i(h,r)|0;r<h.length&&(b=b-m+i(h+"XXX",r)|0),f=s(f,g,4,rF(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const _ of[e.loadedName,h]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=_,w.append(E)}this._document.body.append(w),u(h,()=>{w.remove(),t.complete()})}}dc=new WeakMap;class SF{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=AC(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(r){ne(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(r,o){};const s=[];for(let r=0,o=i.length;r<o;)switch(i[r++]){case ys.BEZIER_CURVE_TO:{const[a,l,c,u,h,f]=i.slice(r,r+6);s.push(p=>p.bezierCurveTo(a,l,c,u,h,f)),r+=6}break;case ys.MOVE_TO:{const[a,l]=i.slice(r,r+2);s.push(c=>c.moveTo(a,l)),r+=2}break;case ys.LINE_TO:{const[a,l]=i.slice(r,r+2);s.push(c=>c.lineTo(a,l)),r+=2}break;case ys.QUADRATIC_CURVE_TO:{const[a,l,c,u]=i.slice(r,r+4);s.push(h=>h.quadraticCurveTo(a,l,c,u)),r+=4}break;case ys.RESTORE:s.push(a=>a.restore());break;case ys.SAVE:s.push(a=>a.save());break;case ys.SCALE:mt(s.length===2,"Scale command is only valid at the third position.");break;case ys.TRANSFORM:{const[a,l,c,u,h,f]=i.slice(r,r+6);s.push(p=>p.transform(a,l,c,u,h,f)),r+=6}break;case ys.TRANSLATE:{const[a,l]=i.slice(r,r+2);s.push(c=>c.translate(a,l)),r+=2}break}return this.compiledGlyphs[t]=function(o,a){s[0](o),s[1](o),o.scale(a,-a);for(let l=2,c=s.length;l<c;l++)s[l](o)}}}if(Yt){var vb=Promise.withResolvers(),fh=null;(async()=>{const e=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,o;return new Map(Object.entries({fs:e,http:t,https:i,url:s,canvas:r,path2d:o}))})().then(e=>{fh=e,vb.resolve()},e=>{ne(`loadPackages: ${e}`),fh=new Map,vb.resolve()})}class gs{static get promise(){return vb.promise}static get(e){return fh==null?void 0:fh.get(e)}}const rT=function(n){return gs.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class EF extends y0{}class AF extends rm{_createCanvas(e,t){return gs.get("canvas").createCanvas(e,t)}}class kF extends v0{_fetchData(e,t){return rT(e).then(i=>({cMapData:i,compressionType:t}))}}class CF extends b0{_fetchData(e){return rT(e)}}const sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function bb(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}class Bf{constructor(){this.constructor===Bf&&Ce("Cannot initialize BaseShadingPattern.")}getPattern(){Ce("Abstract method `getPattern` called.")}}class TF extends Bf{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let r;if(s===sn.STROKE||s===sn.FILL){const o=t.current.getClippedPathBoundingBox(s,We(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=Y.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),bb(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(i);r.setTransform(h)}else bb(e,this._bbox),r=this._createGradient(e);return r}}function Sy(n,e,t,i,s,r,o,a){const l=e.coords,c=e.colors,u=n.data,h=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f),l[i+1]>l[s+1]&&(f=i,i=s,s=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY,y=(l[s]+e.offsetX)*e.scaleX,x=(l[s+1]+e.offsetY)*e.scaleY;if(g>=x)return;const w=c[r],_=c[r+1],E=c[r+2],C=c[o],T=c[o+1],P=c[o+2],L=c[a],M=c[a+1],N=c[a+2],z=Math.round(g),$=Math.round(x);let G,W,q,F,D,U,K,ae;for(let J=z;J<=$;J++){if(J<b){const ve=J<g?0:(g-J)/(g-b);G=p-(p-m)*ve,W=w-(w-C)*ve,q=_-(_-T)*ve,F=E-(E-P)*ve}else{let ve;J>x?ve=1:b===x?ve=0:ve=(b-J)/(b-x),G=m-(m-y)*ve,W=C-(C-L)*ve,q=T-(T-M)*ve,F=P-(P-N)*ve}let ce;J<g?ce=0:J>x?ce=1:ce=(g-J)/(g-x),D=p-(p-y)*ce,U=w-(w-L)*ce,K=_-(_-M)*ce,ae=E-(E-N)*ce;const Ee=Math.round(Math.min(G,D)),Be=Math.round(Math.max(G,D));let me=h*J+Ee*4;for(let ve=Ee;ve<=Be;ve++)ce=(G-ve)/(G-D),ce<0?ce=0:ce>1&&(ce=1),u[me++]=W-(W-U)*ce|0,u[me++]=q-(q-K)*ce|0,u[me++]=F-(F-ae)*ce|0,u[me++]=255}}function PF(n,e,t){const i=e.coords,s=e.colors;let r,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(r=0;r<l;r++){let u=r*a;for(let h=0;h<c;h++,u++)Sy(n,t,i[u],i[u+1],i[u+a],s[u],s[u+1],s[u+a]),Sy(n,t,i[u+a+1],i[u+1],i[u+a],s[u+a+1],s[u+1],s[u+a])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)Sy(n,t,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class RF extends Bf{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/h,g=u/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},b=h+2*2,y=f+2*2,x=i.getCanvas("mesh",b,y,!1),w=x.context,_=w.createImageData(h,f);if(t){const C=_.data;for(let T=0,P=C.length;T<P;T+=4)C[T]=t[0],C[T+1]=t[1],C[T+2]=t[2],C[T+3]=255}for(const C of this._figures)PF(_,C,m);return w.putImageData(_,2,2),{canvas:x.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,s){bb(e,this._bbox);let r;if(s===sn.SHADING)r=Y.singularValueDecompose2dScale(We(e));else if(r=Y.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Y.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}const o=this._createMeshCanvas(r,s===sn.SHADING?null:this._background,t.cachedCanvases);return s!==sn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class LF extends Bf{getPattern(){return"hotpink"}}function MF(n){switch(n[0]){case"RadialAxial":return new TF(n);case"Mesh":return new RF(n);case"Dummy":return new LF}throw new Error(`Unknown IR type: ${n[0]}`)}const fS={COLORED:1,UNCOLORED:2},Mm=class Mm{constructor(e,t,i,s,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,s=this.xstep,r=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;p0("TilingType: "+a);const u=i[0],h=i[1],f=i[2],p=i[3],g=Y.singularValueDecompose2dScale(this.matrix),m=Y.singularValueDecompose2dScale(this.baseTransform),b=[g[0]*m[0],g[1]*m[1]],y=this.getSizeAndScale(s,this.ctx.canvas.width,b[0]),x=this.getSizeAndScale(r,this.ctx.canvas.height,b[1]),w=e.cachedCanvases.getCanvas("pattern",y.size,x.size,!0),_=w.context,E=c.createCanvasGraphics(_);E.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(E,o,l);let C=u,T=h,P=f,L=p;return u<0&&(C=0,P+=Math.abs(u)),h<0&&(T=0,L+=Math.abs(h)),_.translate(-(y.scale*C),-(x.scale*T)),E.transform(y.scale,0,0,x.scale,0,0),_.save(),this.clipBbox(E,C,T,P,L),E.baseTransform=We(E.ctx),E.executeOperatorList(t),E.endDrawing(),{canvas:w.canvas,scaleX:y.scale,scaleY:x.scale,offsetX:C,offsetY:T}}getSizeAndScale(e,t,i){e=Math.abs(e);const s=Math.max(Mm.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,t,i,s,r){const o=s-t,a=r-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(We(e.ctx),[t,i,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,r=e.current;switch(t){case fS.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case fS.UNCOLORED:const a=Y.makeHexColor(i[0],i[1],i[2]);s.fillStyle=a,s.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new sF(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,s){let r=i;s!==sn.SHADING&&(r=Y.transform(r,t.baseTransform),this.matrix&&(r=Y.transform(r,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};I(Mm,"MAX_PATTERN_SIZE",3e3);let xb=Mm;function OF({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=xn.isLittleEndian?4278190080:255,[l,c]=o?[r,a]:[a,r],u=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<s;g++){for(const b=e+u;e<b;e++){const y=e<f?n[e]:255;t[p++]=y&128?c:l,t[p++]=y&64?c:l,t[p++]=y&32?c:l,t[p++]=y&16?c:l,t[p++]=y&8?c:l,t[p++]=y&4?c:l,t[p++]=y&2?c:l,t[p++]=y&1?c:l}if(h===0)continue;const m=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=m&1<<7-b?c:l}return{srcPos:e,destPos:p}}const pS=16,gS=100,DF=15,mS=10,yS=1e3,mn=16;function NF(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,r,o,a,l){e.transform(i,s,r,o,a,l),this.__originalTransform(i,s,r,o,a,l)},n.setTransform=function(i,s,r,o,a,l){e.setTransform(i,s,r,o,a,l),this.__originalSetTransform(i,s,r,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,r,o,a){e.bezierCurveTo(t,i,s,r,o,a),this.__originalBezierCurveTo(t,i,s,r,o,a)},n.rect=function(t,i,s,r){e.rect(t,i,s,r),this.__originalRect(t,i,s,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class IF{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function pp(n,e,t,i,s,r,o,a,l,c){const[u,h,f,p,g,m]=We(n);if(h===0&&f===0){const x=o*u+g,w=Math.round(x),_=a*p+m,E=Math.round(_),C=(o+l)*u+g,T=Math.abs(Math.round(C)-w)||1,P=(a+c)*p+m,L=Math.abs(Math.round(P)-E)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),w,E),n.drawImage(e,t,i,s,r,0,0,T,L),n.setTransform(u,h,f,p,g,m),[T,L]}if(u===0&&p===0){const x=a*f+g,w=Math.round(x),_=o*h+m,E=Math.round(_),C=(a+c)*f+g,T=Math.abs(Math.round(C)-w)||1,P=(o+l)*h+m,L=Math.abs(Math.round(P)-E)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,w,E),n.drawImage(e,t,i,s,r,0,0,L,T),n.setTransform(u,h,f,p,g,m),[L,T]}n.drawImage(e,t,i,s,r,o,a,l,c);const b=Math.hypot(u,h),y=Math.hypot(f,p);return[b*l,y*c]}function jF(n){const{width:e,height:t}=n;if(e>yS||t>yS)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let o=new Uint8Array(r*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),f=0;for(const y of n.data){let x=128;for(;x>0;)h[f++]=y&x?0:255,x>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*u,c=a*r,h[f-u]!==h[f]&&(o[c]=h[f]?1:8,++p);let y=(h[f]?4:0)+(h[f-u]?8:0);for(l=1;l<e;l++)y=(y>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0),s[y]&&(o[c+l]=s[y],++p),f++;if(h[f-u]!==h[f]&&(o[c+l]=h[f]?2:4,++p),p>i)return null}for(f=u*(t-1),c=a*r,h[f]!==0&&(o[c]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[c+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[c+l]=4,++p),p>i)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=new Path2D;for(a=0;p&&a<=t;a++){let y=a*r;const x=y+e;for(;y<x&&!o[y];)y++;if(y===x)continue;m.moveTo(y%r,a);const w=y;let _=o[y];do{const E=g[_];do y+=E;while(!o[y]);const C=o[y];C!==5&&C!==10?(_=C,o[y]=0):(_=C&51*_>>4,o[y]&=_>>2|_<<2),m.lineTo(y%r,y/r|0),o[y]||--p}while(w!==y);--a}return h=null,o=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(m),y.beginPath(),y.restore()}}class vS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=SC,this.textMatrixScale=1,this.fontMatrix=Gv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=Y.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=Y.applyTransform(t,e),s=Y.applyTransform(t.slice(2),e),r=Y.applyTransform([t[0],t[3]],e),o=Y.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],r[0],o[0]),this.minY=Math.min(this.minY,i[1],s[1],r[1],o[1]),this.maxX=Math.max(this.maxX,i[0],s[0],r[0],o[0]),this.maxY=Math.max(this.maxY,i[1],s[1],r[1],o[1])}updateScalingPathMinMax(e,t){Y.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,r,o,a,l,c,u){const h=Y.bezierBoundingBox(t,i,s,r,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=sn.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===sn.STROKE){t||Ce("Stroke bounding box must include transform.");const s=Y.singularValueDecompose2dScale(t),r=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const e=Y.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=sn.FILL,t=null){return Y.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function bS(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%mn,r=(t-s)/mn,o=s===0?r:r+1,a=n.createImageData(i,mn);let l=0,c;const u=e.data,h=a.data;let f,p,g,m;if(e.kind===Kp.GRAYSCALE_1BPP){const b=u.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),x=y.length,w=i+7>>3,_=4294967295,E=xn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<r?mn:s,c=0,p=0;p<g;p++){const C=b-l;let T=0;const P=C>w?i:C*8-7,L=P&-8;let M=0,N=0;for(;T<L;T+=8)N=u[l++],y[c++]=N&128?_:E,y[c++]=N&64?_:E,y[c++]=N&32?_:E,y[c++]=N&16?_:E,y[c++]=N&8?_:E,y[c++]=N&4?_:E,y[c++]=N&2?_:E,y[c++]=N&1?_:E;for(;T<P;T++)M===0&&(N=u[l++],M=128),y[c++]=N&M?_:E,M>>=1}for(;c<x;)y[c++]=0;n.putImageData(a,0,f*mn)}}else if(e.kind===Kp.RGBA_32BPP){for(p=0,m=i*mn*4,f=0;f<r;f++)h.set(u.subarray(l,l+m)),l+=m,n.putImageData(a,0,p),p+=mn;f<o&&(m=i*s*4,h.set(u.subarray(l,l+m)),n.putImageData(a,0,p))}else if(e.kind===Kp.RGB_24BPP)for(g=mn,m=i*g,f=0;f<o;f++){for(f>=r&&(g=s,m=i*g),c=0,p=m;p--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;n.putImageData(a,0,f*mn)}else throw new Error(`bad image kind: ${e.kind}`)}function xS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%mn,r=(t-s)/mn,o=s===0?r:r+1,a=n.createImageData(i,mn);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const f=h<r?mn:s;({srcPos:l}=OF({src:c,srcPos:l,dest:u,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,h*mn)}}function Au(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function gp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Yt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function wS(n,e){if(e)return!0;const t=Y.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*go.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const FF=["butt","round","square"],zF=["miter","round","bevel"],HF={},_S={};var vo,wb,_b;const gw=class gw{constructor(e,t,i,s,r,{optionalContentConfig:o,markedContentStack:a=null},l,c){k(this,vo);this.ctx=e,this.current=new vS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new IF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...We(this.compositeCtx))}this.ctx.save(),gp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=We(this.ctx)}executeOperatorList(e,t,i,s){const r=e.argsArray,o=e.fnArray;let a=t||0;const l=r.length;if(l===a)return a;const c=l-a>mS&&typeof i=="function",u=c?Date.now()+DF:0;let h=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(s!==void 0&&a===s.nextBreakPoint)return s.breakIt(a,i),a;if(g=o[a],g!==pi.dependency)this[g].apply(this,r[a]);else for(const m of r[a]){const b=m.startsWith("g_")?f:p;if(!b.has(m))return b.get(m,i),a}if(a++,a===l)return a;if(c&&++h>mS){if(Date.now()>u)return i(),a;h=0}}}endDrawing(){A(this,vo,wb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,vo,_b).call(this)}_scaleImage(e,t){const i=e.width,s=e.height;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=s,c="prescale1",u,h;for(;r>2&&a>1||o>2&&l>1;){let f=a,p=l;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),h=u.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=u.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,o=this.current.patternFill,a=We(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),r]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const L=l.get(c);if(L&&!o){const M=Math.round(Math.min(a[0],a[2])+a[4]),N=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:M,offsetY:N}}u=L}u||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),xS(h.context,e));let f=Y.transform(a,[1/i,0,0,-1/s,0,0]);f=Y.transform(f,[1,0,0,1,0,-s]);const[p,g,m,b]=Y.getAxialAlignedBoundingBox([0,0,i,s],f),y=Math.round(m-p)||1,x=Math.round(b-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",y,x),_=w.context,E=p,C=g;_.translate(-E,-C),_.transform(...f),u||(u=this._scaleImage(h.canvas,vs(_)),u=u.img,l&&o&&l.set(c,u)),_.imageSmoothingEnabled=wS(We(_),e.interpolate),pp(_,u,0,0,u.width,u.height,0,0,i,s),_.globalCompositeOperation="source-in";const T=Y.transform(vs(_),[1,0,0,1,-E,-C]);return _.fillStyle=o?r.getPattern(t,this,T,sn.FILL):r,_.fillRect(0,0,i,s),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(E),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=FF[e]}setLineJoin(e){this.ctx.lineJoin=zF[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...We(this.suspendedCtx)),Au(this.suspendedCtx,r),NF(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Au(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const r=s[0],o=s[1],a=s[2]-r,l=s[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,r,o,a,l,c,u,h){let f=e.canvas,p=l-u,g=c-h;if(o){if(p<0||g<0||p+i>f.width||g+s>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,s),y=b.context;y.drawImage(f,-p,-g),o.some(x=>x!==0)&&(y.globalCompositeOperation="destination-atop",y.fillStyle=Y.makeHexColor(...o),y.fillRect(0,0,i,s),y.globalCompositeOperation="source-over"),f=b.canvas,p=g=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,i,s),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=Y.makeHexColor(...o),e.fillRect(p,g,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,c,i,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,s,l,c,i,s),t.restore()}save(){this.inSMaskMode?(Au(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Au(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,r,o){this.ctx.transform(e,t,i,s,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const s=this.ctx,r=this.current;let o=r.x,a=r.y,l,c;const u=We(s),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,f=h?i.slice(0):null;for(let p=0,g=0,m=e.length;p<m;p++)switch(e[p]|0){case pi.rectangle:o=t[g++],a=t[g++];const b=t[g++],y=t[g++],x=o+b,w=a+y;s.moveTo(o,a),b===0||y===0?s.lineTo(x,w):(s.lineTo(x,a),s.lineTo(x,w),s.lineTo(o,w)),h||r.updateRectMinMax(u,[o,a,x,w]),s.closePath();break;case pi.moveTo:o=t[g++],a=t[g++],s.moveTo(o,a),h||r.updatePathMinMax(u,o,a);break;case pi.lineTo:o=t[g++],a=t[g++],s.lineTo(o,a),h||r.updatePathMinMax(u,o,a);break;case pi.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],s.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),r.updateCurvePathMinMax(u,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case pi.curveTo2:l=o,c=a,s.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),r.updateCurvePathMinMax(u,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case pi.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],s.bezierCurveTo(t[g],t[g+1],o,a,o,a),r.updateCurvePathMinMax(u,l,c,t[g],t[g+1],o,a,o,a,f),g+=4;break;case pi.closePath:s.closePath();break}h&&r.updateScalingPathMinMax(u,f),r.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,vs(t),sn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,vs(t),sn.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=HF}eoClip(){this.pendingClip=_S}beginText(){this.current.textMatrix=SC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||Gv,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ne("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((u=i.systemFontInfo)==null?void 0:u.css)||`"${r}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=t;t<pS?c=pS:t>gS&&(c=gS),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,r,o){this.current.textMatrix=[e,t,i,s,r,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s){const r=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&Bt.FILL_STROKE_MASK,h=!!(l&Bt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(r.save(),r.translate(t,i),r.beginPath(),p(r,c),s&&r.setTransform(...s),(u===Bt.FILL||u===Bt.FILL_STROKE)&&r.fill(),(u===Bt.STROKE||u===Bt.FILL_STROKE)&&r.stroke(),r.restore()):((u===Bt.FILL||u===Bt.FILL_STROKE)&&r.fillText(e,t,i),(u===Bt.STROKE||u===Bt.FILL_STROKE)&&r.strokeText(e,t,i)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:We(r),x:t,y:i,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return de(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const r=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,m=s*t.fontMatrix[0],b=t.textRenderingMode===Bt.FILL&&!i.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),c>0?r.scale(u,-1):r.scale(u,1);let y;if(t.patternFill){r.save();const C=t.fillColor.getPattern(r,this,vs(r),sn.FILL);y=We(r),r.restore(),r.fillStyle=C}let x=t.lineWidth;const w=t.textMatrixScale;if(w===0||x===0){const C=t.textRenderingMode&Bt.FILL_STROKE_MASK;(C===Bt.STROKE||C===Bt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=w;if(o!==1&&(r.scale(o,o),x/=o),r.lineWidth=x,i.isInvalidPDFjsFont){const C=[];let T=0;for(const P of e)C.push(P.unicode),T+=P.width;r.fillText(C.join(""),0,0),t.x+=T*m*u,r.restore(),this.compose();return}let _=0,E;for(E=0;E<h;++E){const C=e[E];if(typeof C=="number"){_+=p*C*s/1e3;continue}let T=!1;const P=(C.isSpace?l:0)+a,L=C.fontChar,M=C.accent;let N,z,$=C.width;if(f){const W=C.vmetric||g,q=-(C.vmetric?W[1]:$*.5)*m,F=W[2]*m;$=W?-W[0]:$,N=q/o,z=(_+F)/o}else N=_/o,z=0;if(i.remeasure&&$>0){const W=r.measureText(L).width*1e3/s*o;if($<W&&this.isFontSubpixelAAEnabled){const q=$/W;T=!0,r.save(),r.scale(q,1),N/=q}else $!==W&&(N+=($-W)/2e3*s/o)}if(this.contentVisible&&(C.isInFont||i.missingFile)){if(b&&!M)r.fillText(L,N,z);else if(this.paintChar(L,N,z,y),M){const W=N+s*M.offset.x/o,q=z-s*M.offset.y/o;this.paintChar(M.fontChar,W,q,y)}}const G=f?$*m-P*c:$*m+P*c;_+=G,T&&r.restore()}f?t.y-=_:t.x+=_*u,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,r=i.fontSize,o=i.fontDirection,a=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,h=i.fontMatrix||Gv,f=e.length,p=i.textRenderingMode===Bt.INVISIBLE;let g,m,b,y;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,o),g=0;g<f;++g){if(m=e[g],typeof m=="number"){y=a*m*r/1e3,this.ctx.translate(y,0),i.x+=y*u;continue}const x=(m.isSpace?c:0)+l,w=s.charProcOperatorList[m.operatorListId];if(!w){ne(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(r,r),t.transform(...h),this.executeOperatorList(w),this.restore()),b=Y.applyTransform([m.width,0],h)[0]*r+x,t.translate(b,0),i.x+=b*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,r,o){this.ctx.rect(i,s,r-i,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],s=this.baseTransform||We(this.ctx),r={createCanvasGraphics:o=>new gw(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new xb(e,i,this.ctx,r,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const s=Y.makeHexColor(e,t,i);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(e,t,i){const s=Y.makeHexColor(e,t,i);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=MF(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,vs(t),sn.SHADING);const s=vs(t);if(s){const{width:r,height:o}=t.canvas,[a,l,c,u]=Y.getAxialAlignedBoundingBox([0,0,r,o],s);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ce("Should not call beginInlineImage")}beginImageData(){Ce("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=We(this.ctx),t)){const i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(We(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||p0("TODO: Support non-isolated groups."),e.knockout&&ne("Knockout groups not supported.");const i=We(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Y.getAxialAlignedBoundingBox(e.bbox,We(t));const r=[0,0,t.canvas.width,t.canvas.height];s=Y.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),a=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-o,1),c=Math.max(Math.ceil(s[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),f=h.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Au(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=We(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=Y.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,i,s,r){if(A(this,vo,wb).call(this),gp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=Y.singularValueDecompose2dScale(We(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),gp(this.ctx)}else gp(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new vS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,vo,_b).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=jF(e)),s.compiled)){s.compiled(i);return}const r=this._createMaskCanvas(e),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,r,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=We(a);a.transform(t,i,s,r,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const f=Y.transform(l,[t,i,s,r,o[u],o[u+1]]),[p,g]=Y.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of e){const{data:o,width:a,height:l,transform:c}=r,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const f=this.getObject(o,r);xS(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?i.getPattern(h,this,vs(t),sn.FILL):i,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),pp(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){ne("Dependent image isn't ready yet");return}const o=r.width,a=r.height,l=[];for(let c=0,u=s.length;c<u;c+=2)l.push({transform:[t,0,0,i,s[c],s[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;if(this.save(),!Yt){const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none")}s.scale(1/t,-1/i);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;bS(l,e),r=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(r,vs(s));s.imageSmoothingEnabled=wS(We(s),e.interpolate),pp(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const r=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,o).context;bS(l,e),s=this.applyTransferMapsToCanvas(l)}for(const r of t)i.save(),i.transform(...r.transform),i.scale(1,-1),pp(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===_S?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=We(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:r}=this.ctx.getTransform();let o,a;if(i===0&&s===0){const l=Math.abs(t),c=Math.abs(r);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*r-i*s),c=Math.hypot(t,i),u=Math.hypot(s,r);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,r]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&r===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,r),o.length>0){const a=Math.max(s,r);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};vo=new WeakSet,wb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},_b=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Yl=gw;for(const n in pi)Yl.prototype[n]!==void 0&&(Yl.prototype[pi[n]]=Yl.prototype[n]);var Ad,kd;class sr{static get workerPort(){return d(this,Ad)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,Ad,e)}static get workerSrc(){return d(this,kd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,kd,e)}}Ad=new WeakMap,kd=new WeakMap,k(sr,Ad,null),k(sr,kd,"");const mp={UNKNOWN:0,DATA:1,ERROR:2},rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Tn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ce('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new fl(n.message);case"MissingPDFException":return new dl(n.message);case"PasswordException":return new qv(n.message,n.code);case"UnexpectedResponseException":return new g0(n.message,n.status);case"UnknownErrorException":return new Yv(n.message,n.details);default:return new Yv(n.message,n.toString())}}var fs,oT,aT,ng;class Uu{constructor(e,t,i){k(this,fs);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){A(this,fs,aT).call(this,r);return}if(r.callback){const a=r.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],r.callback===mp.DATA)l.resolve(r.data);else if(r.callback===mp.ERROR)l.reject(Tn(r.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[r.action];if(!o)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const a=this.sourceName,l=r.sourceName;new Promise(function(c){c(o(r.data))}).then(function(c){i.postMessage({sourceName:a,targetName:l,callback:mp.DATA,callbackId:r.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:l,callback:mp.ERROR,callbackId:r.callbackId,reason:Tn(c)})});return}if(r.streamId){A(this,fs,oT).call(this,r);return}o(r.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,i,s){const r=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:r,data:t,desiredSize:c.desiredSize},s),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:rt.PULL,streamId:r,desiredSize:c.desiredSize}),u.promise},cancel:c=>{mt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:rt.CANCEL,streamId:r,reason:Tn(c)}),u.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}fs=new WeakSet,oT=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:rt.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){mt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:rt.ERROR,streamId:t,reason:Tn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.START_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:rt.START_COMPLETE,streamId:t,reason:Tn(c)})})},aT=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Tn(e.reason));break;case rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Tn(e.reason));break;case rt.PULL:if(!a){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,reason:Tn(l)})});break;case rt.ENQUEUE:if(mt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case rt.CLOSE:if(mt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,fs,ng).call(this,o,t);break;case rt.ERROR:mt(o,"error should have stream controller"),o.controller.error(Tn(e.reason)),A(this,fs,ng).call(this,o,t);break;case rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Tn(e.reason)),A(this,fs,ng).call(this,o,t);break;case rt.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Tn(e.reason)))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:i,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,reason:Tn(l)})}),a.sinkCapability.reject(Tn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ng=async function(e,t){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var ua,Cd;class BF{constructor({parsedData:e,rawData:t}){k(this,ua);k(this,Cd);S(this,ua,e),S(this,Cd,t)}getRaw(){return d(this,Cd)}get(e){return d(this,ua).get(e)??null}getAll(){return M1(d(this,ua))}has(e){return d(this,ua).has(e)}}ua=new WeakMap,Cd=new WeakMap;const wr=Symbol("INTERNAL");var Td,Pd,Rd,fc;class UF{constructor(e,{name:t,intent:i,usage:s}){k(this,Td,!1);k(this,Pd,!1);k(this,Rd,!1);k(this,fc,!0);S(this,Td,!!(e&ei.DISPLAY)),S(this,Pd,!!(e&ei.PRINT)),this.name=t,this.intent=i,this.usage=s}get visible(){if(d(this,Rd))return d(this,fc);if(!d(this,fc))return!1;const{print:e,view:t}=this.usage;return d(this,Td)?(t==null?void 0:t.viewState)!=="OFF":d(this,Pd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==wr&&Ce("Internal method `_setVisible` called."),S(this,Rd,i),S(this,fc,t)}}Td=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,fc=new WeakMap;var Or,Ae,pc,gc,Ld,Sb;class WF{constructor(e,t=ei.DISPLAY){k(this,Ld);k(this,Or,null);k(this,Ae,new Map);k(this,pc,null);k(this,gc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,gc,e.order);for(const i of e.groups)d(this,Ae).set(i.id,new UF(t,i));if(e.baseState==="OFF")for(const i of d(this,Ae).values())i._setVisible(wr,!1);for(const i of e.on)d(this,Ae).get(i)._setVisible(wr,!0);for(const i of e.off)d(this,Ae).get(i)._setVisible(wr,!1);S(this,pc,this.getHash())}}isVisible(e){if(d(this,Ae).size===0)return!0;if(!e)return p0("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,Ae).has(e.id)?d(this,Ae).get(e.id).visible:(ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Ld,Sb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!d(this,Ae).has(t))return ne(`Optional content group not found: ${t}`),!0;if(d(this,Ae).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!d(this,Ae).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!d(this,Ae).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!d(this,Ae).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!d(this,Ae).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!d(this,Ae).has(t))return ne(`Optional content group not found: ${t}`),!0;if(d(this,Ae).get(t).visible)return!1}return!0}return ne(`Unknown optional content policy ${e.policy}.`),!0}return ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=d(this,Ae).get(e);if(!i){ne(`Optional content group not found: ${e}`);return}i._setVisible(wr,!!t,!0),S(this,Or,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=d(this,Ae).get(s);if(r)switch(i){case"ON":r._setVisible(wr,!0);break;case"OFF":r._setVisible(wr,!1);break;case"Toggle":r._setVisible(wr,!r.visible);break}}S(this,Or,null)}get hasInitialVisibility(){return d(this,pc)===null||this.getHash()===d(this,pc)}getOrder(){return d(this,Ae).size?d(this,gc)?d(this,gc).slice():[...d(this,Ae).keys()]:null}getGroups(){return d(this,Ae).size>0?M1(d(this,Ae)):null}getGroup(e){return d(this,Ae).get(e)||null}getHash(){if(d(this,Or)!==null)return d(this,Or);const e=new nT;for(const[t,i]of d(this,Ae))e.update(`${t}:${i.visible}`);return S(this,Or,e.hexdigest())}}Or=new WeakMap,Ae=new WeakMap,pc=new WeakMap,gc=new WeakMap,Ld=new WeakSet,Sb=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const r=e[s];let o;if(Array.isArray(r))o=A(this,Ld,Sb).call(this,r);else if(d(this,Ae).has(r))o=d(this,Ae).get(r).visible;else return ne(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class VF{constructor(e,{disableRange:t=!1,disableStream:i=!1}){mt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});mt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,r;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new $F(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new GF(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class $F{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=j1(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GF{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XF(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),r(u)}if(t=o(n),t){const u=c(t);return r(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),r(u)}function i(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),p=m0(h);h=f.decode(p),e=!1}catch{}}return h}function r(u){return e&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),e&&(u=s("iso-8859-1",u))),u}function o(u){const h=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,b,y]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[b,y]}const g=[];for(let m=0;m<h.length&&m in h;++m){let[b,y]=h[m];y=a(y),b&&(y=unescape(y),m===0&&(y=l(y))),g.push(y)}return g.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),g=u.slice(h+1).replace(/^[^']*'/,"");return s(f,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),s(f,g);try{g=atob(g)}catch{}return s(f,g)})}return""}function H1({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function B1(n){const e=n("Content-Disposition");if(e){let t=XF(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(j1(t))return t}return null}function w0(n,e){return n===404||n===0&&e.startsWith("file:")?new dl('Missing PDF "'+e+'".'):new g0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function lT(n){return n===200||n===206}function cT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function uT(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function hT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ne(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class SS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qF(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new YF(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class qF{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=uT(this._stream.httpHeaders);const i=t.url;fetch(i,cT(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!lT(s.status))throw w0(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=l=>s.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=H1({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=B1(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class YF{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=uT(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const r=s.url;fetch(r,cT(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!lT(o.status))throw w0(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:hT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Ey=200,Ay=206;function KF(n){const e=n.response;return typeof e!="string"?e:m0(e).buffer}class ZF{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const s={begin:e,end:t};for(const r in i)s[r]=i[r];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const o=this.httpHeaders[r];o!==void 0&&t.setRequestHeader(r,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Ay):s.expectedStatus=Ey,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){var l,c,u;const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,s.status);return}const r=s.status||Ey;if(!(r===Ey&&i.expectedStatus===Ay)&&r!==i.expectedStatus){(c=i.onError)==null||c.call(i,s.status);return}const a=KF(s);if(r===Ay){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(u=i.onError)==null||u.call(i,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class JF{constructor(e){this._source=e,this._manager=new ZF(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new QF(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new e3(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class QF{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:s,suggestedLength:r}=H1({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=B1(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=w0(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e3{constructor(e,t,i){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=w0(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dT=/^file:\/\/\/[a-zA-Z]:\//;function t3(n){const e=gs.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class n3{constructor(e){this.source=e,this.url=t3(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new r3(this):new i3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new o3(this,e,t):new s3(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class fT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lm(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class i3 extends fT{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const a=new dl(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:r,suggestedLength:o}=H1({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=o||this._contentLength,this._filename=B1(s)};if(this._request=null,this._url.protocol==="http:"){const i=gs.get("http");this._request=i.request(lm(this._url,e.httpHeaders),t)}else{const i=gs.get("https");this._request=i.request(lm(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class s3 extends pT{constructor(e,t,i){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const o=e.httpHeaders[r];o!==void 0&&(this._httpHeaders[r]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const s=r=>{if(r.statusCode===404){const o=new dl(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=gs.get("http");this._request=r.request(lm(this._url,this._httpHeaders),s)}else{const r=gs.get("https");this._request=r.request(lm(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class r3 extends fT{constructor(e){super(e);let t=decodeURIComponent(this._url.path);dT.test(this._url.href)&&(t=t.replace(/^\//,""));const i=gs.get("fs");i.promises.lstat(t).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new dl(`Missing PDF "${t}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class o3 extends pT{constructor(e,t,i){super(e);let s=decodeURIComponent(this._url.path);dT.test(this._url.href)&&(s=s.replace(/^\//,""));const r=gs.get("fs");this._setReadableStream(r.createReadStream(s,{start:t,end:i-1}))}}const a3=1e5,dn=30,l3=.8;var hA,Dr,gn,Md,Od,ha,Fs,Dd,Nd,da,mc,yc,Nr,vc,Id,bc,fa,jd,Fd,pt,pa,ga,Ir,xc,dr,gT,mT,Eb,ps,ig,yT,vT;let cm=(pt=class{constructor({textContentSource:e,container:t,viewport:i}){k(this,dr);k(this,Dr,Promise.withResolvers());k(this,gn,null);k(this,Md,!1);k(this,Od,!!((hA=globalThis.FontInspector)!=null&&hA.enabled));k(this,ha,null);k(this,Fs,null);k(this,Dd,0);k(this,Nd,0);k(this,da,null);k(this,mc,null);k(this,yc,0);k(this,Nr,0);k(this,vc,Object.create(null));k(this,Id,[]);k(this,bc,null);k(this,fa,[]);k(this,jd,new WeakMap);k(this,Fd,null);var l;if(e instanceof ReadableStream)S(this,bc,e);else if(typeof e=="object")S(this,bc,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,gn,S(this,mc,t)),S(this,Nr,i.scale*(globalThis.devicePixelRatio||1)),S(this,yc,i.rotation),S(this,Fs,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:a}=i.rawDims;S(this,Fd,[1,0,0,-1,-o,a+r]),S(this,Nd,s),S(this,Dd,r),A(l=pt,ps,yT).call(l),el(t,i),d(this,Dr).promise.catch(()=>{}).then(()=>{d(pt,xc).delete(this),S(this,Fs,null),S(this,vc,null)})}render(){const e=()=>{d(this,da).read().then(({value:t,done:i})=>{if(i){d(this,Dr).resolve();return}d(this,ha)??S(this,ha,t.lang),Object.assign(d(this,vc),t.styles),A(this,dr,gT).call(this,t.items),e()},d(this,Dr).reject)};return S(this,da,d(this,bc).getReader()),d(pt,xc).add(this),e(),d(this,Dr).promise}update({viewport:e,onBefore:t=null}){var r;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==d(this,yc)&&(t==null||t(),S(this,yc,s),el(d(this,mc),{rotation:s})),i!==d(this,Nr)){t==null||t(),S(this,Nr,i);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(r=pt,ps,ig).call(r,d(this,ha))};for(const a of d(this,fa))o.properties=d(this,jd).get(a),o.div=a,A(this,dr,Eb).call(this,o)}}cancel(){var t;const e=new fl("TextLayer task cancelled.");(t=d(this,da))==null||t.cancel(e).catch(()=>{}),S(this,da,null),d(this,Dr).reject(e)}get textDivs(){return d(this,fa)}get textContentItemsStr(){return d(this,Id)}static cleanup(){if(!(d(this,xc).size>0)){d(this,pa).clear();for(const{canvas:e}of d(this,ga).values())e.remove();d(this,ga).clear()}}},Dr=new WeakMap,gn=new WeakMap,Md=new WeakMap,Od=new WeakMap,ha=new WeakMap,Fs=new WeakMap,Dd=new WeakMap,Nd=new WeakMap,da=new WeakMap,mc=new WeakMap,yc=new WeakMap,Nr=new WeakMap,vc=new WeakMap,Id=new WeakMap,bc=new WeakMap,fa=new WeakMap,jd=new WeakMap,Fd=new WeakMap,pa=new WeakMap,ga=new WeakMap,Ir=new WeakMap,xc=new WeakMap,dr=new WeakSet,gT=function(e){var s,r;if(d(this,Md))return;(r=d(this,Fs)).ctx??(r.ctx=A(s=pt,ps,ig).call(s,d(this,ha)));const t=d(this,fa),i=d(this,Id);for(const o of e){if(t.length>a3){ne("Ignoring additional textDivs for performance reasons."),S(this,Md,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=d(this,gn);S(this,gn,document.createElement("span")),d(this,gn).classList.add("markedContent"),o.id!==null&&d(this,gn).setAttribute("id",`${o.id}`),a.append(d(this,gn))}else o.type==="endMarkedContent"&&S(this,gn,d(this,gn).parentNode);continue}i.push(o.str),A(this,dr,mT).call(this,o)}},mT=function(e){var m;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,fa).push(t);const s=Y.transform(d(this,Fd),e.transform);let r=Math.atan2(s[1],s[0]);const o=d(this,vc)[e.fontName];o.vertical&&(r+=Math.PI/2);const a=d(this,Od)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(s[2],s[3]),c=l*A(m=pt,ps,vT).call(m,a,d(this,ha));let u,h;r===0?(u=s[4],h=s[5]-c):(u=s[4]+c*Math.sin(r),h=s[5]-c*Math.cos(r));const f="calc(var(--scale-factor)*",p=t.style;d(this,gn)===d(this,mc)?(p.left=`${(100*u/d(this,Nd)).toFixed(2)}%`,p.top=`${(100*h/d(this,Dd)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(d(pt,Ir)*l).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,d(this,Od)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?e.height:e.width),d(this,jd).set(t,i),d(this,Fs).div=t,d(this,Fs).properties=i,A(this,dr,Eb).call(this,d(this,Fs)),i.hasText&&d(this,gn).append(t),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),d(this,gn).append(b)}},Eb=function(e){const{div:t,properties:i,ctx:s,prevFontSize:r,prevFontFamily:o}=e,{style:a}=t;let l="";if(d(pt,Ir)>1&&(l=`scale(${1/d(pt,Ir)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=i;(r!==h||o!==c)&&(s.font=`${h*d(this,Nr)}px ${c}`,e.prevFontSize=h,e.prevFontFamily=c);const{width:f}=s.measureText(t.textContent);f>0&&(l=`scaleX(${u*d(this,Nr)/f}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)},ps=new WeakSet,ig=function(e=null){let t=d(this,ga).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,ga).set(e,t)}return t},yT=function(){if(d(this,Ir)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),S(this,Ir,e.getBoundingClientRect().height),e.remove()},vT=function(e,t){const i=d(this,pa).get(e);if(i)return i;const s=A(this,ps,ig).call(this,t),r=s.font;s.canvas.width=s.canvas.height=dn,s.font=`${dn}px ${e}`;const o=s.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return d(this,pa).set(e,h),s.canvas.width=s.canvas.height=0,s.font=r,h}s.strokeStyle="red",s.clearRect(0,0,dn,dn),s.strokeText("g",0,0);let c=s.getImageData(0,0,dn,dn).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/dn);break}s.clearRect(0,0,dn,dn),s.strokeText("A",0,dn),c=s.getImageData(0,0,dn,dn).data,a=0;for(let h=0,f=c.length;h<f;h+=4)if(c[h]>0){a=dn-Math.floor(h/4/dn);break}s.canvas.width=s.canvas.height=0,s.font=r;const u=a?a/(a+l):l3;return d(this,pa).set(e,u),u},k(pt,ps),k(pt,pa,new Map),k(pt,ga,new Map),k(pt,Ir,null),k(pt,xc,new Set),pt);function c3(){RC("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],s=Object.keys(i);s.length>0&&ne("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new cm({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=r;return{promise:r.render(),textDivs:o,textContentItemsStr:a}}function u3(){RC("`updateTextLayer`, please use `TextLayer` instead.")}class Bh{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(r){var l;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(Bh.shouldBuildText(a))(l=r==null?void 0:r.attributes)!=null&&l.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const c of r.children)s(c)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const h3=65536,d3=100,f3=5e3,p3=Yt?AF:dF,g3=Yt?kF:TC,m3=Yt?EF:hF,y3=Yt?CF:PC;function v3(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Ab,{docId:t}=e,i=n.url?b3(n.url):null,s=n.data?x3(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof bT?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:h3;let u=n.worker instanceof Kl?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!I1(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,m=n.CMapReaderFactory||g3,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,y=n.StandardFontDataFactory||y3,x=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,E=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Yt,C=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:Yt,P=n.fontExtraProperties===!0,L=n.enableXfa===!0,M=n.ownerDocument||globalThis.document,N=n.disableRange===!0,z=n.disableStream===!0,$=n.disableAutoFetch===!0,G=n.pdfBug===!0,W=n.enableHWA===!0,q=l?l.length:n.length??NaN,F=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Yt&&!T,D=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===TC&&y===PC&&p&&b&&zu(p,document.baseURI)&&zu(b,document.baseURI),U=n.canvasFactory||new p3({ownerDocument:M,enableHWA:W}),K=n.filterFactory||new m3({docId:t,ownerDocument:M}),ae=null;eF(h);const J={canvasFactory:U,filterFactory:K};if(D||(J.cMapReaderFactory=new m({baseUrl:p,isCompressed:g}),J.standardFontDataFactory=new y({baseUrl:b})),!u){const Be={verbosity:h,port:sr.workerPort};u=Be.port?Kl.fromPort(Be):new Kl(Be),e._worker=u}const ce={docId:t,apiVersion:"4.4.168",data:s,password:a,disableAutoFetch:$,rangeChunkSize:c,length:q,docBaseUrl:f,enableXfa:L,evaluatorOptions:{maxImageSize:w,disableFontFace:T,ignoreErrors:x,isEvalSupported:_,isOffscreenCanvasSupported:E,canvasMaxAreaInBytes:C,fontExtraProperties:P,useSystemFonts:F,cMapUrl:D?p:null,standardFontDataUrl:D?b:null}},Ee={disableFontFace:T,fontExtraProperties:P,ownerDocument:M,pdfBug:G,styleElement:ae,loadingParams:{disableAutoFetch:$,enableXfa:L}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Be=u.messageHandler.sendWithPromise("GetDocRequest",ce,s?[s.buffer]:null);let me;if(l)me=new VF(l,{disableRange:N,disableStream:z});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");me=(hn=>Yt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&zu(hn.url)?new SS(hn):new n3(hn):zu(hn.url)?new SS(hn):new JF(hn))({url:i,length:q,httpHeaders:r,withCredentials:o,rangeChunkSize:c,disableRange:N,disableStream:z})}return Be.then(ve=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const hn=new Uu(t,ve,u.port),Fi=new E3(hn,e,me,Ee,J);e._transport=Fi,hn.send("Ready",null)})}).catch(e._capability.reject),e}function b3(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Yt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function x3(n){if(Yt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return m0(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ES(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Om;const Dm=class Dm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Cn(Dm,Om)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Om=new WeakMap,k(Dm,Om,0);let Ab=Dm,bT=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ce("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class w3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var jr,zs,si,Cl,sg;class _3{constructor(e,t,i,s=!1){k(this,si);k(this,jr,null);k(this,zs,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new uS:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new xT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new zf({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=Cr.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var w,_;(w=this._stats)==null||w.time("Overall");const h=this._transport.getRenderingIntent(i,s,u),{renderingIntent:f,cacheKey:p}=h;S(this,zs,!1),A(this,si,sg).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(f&ei.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(h));const b=E=>{var C;g.renderTasks.delete(y),(this._maybeCleanupAfterRender||m)&&S(this,zs,!0),A(this,si,Cl).call(this,!m),E?(y.capability.reject(E),this._abortOperatorList({intentState:g,reason:E instanceof Error?E:new Error(E)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(C=globalThis.Stats)!=null&&C.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new Cb({callback:b,params:{canvasContext:e,viewport:t,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(y);const x=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([E,C])=>{var T;if(this.destroyed){b();return}if((T=this._stats)==null||T.time("Rendering"),!(C.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:E,optionalContentConfig:C}),y.operatorListChanged()}).catch(b),x}getOperatorList({intent:e="display",annotationMode:t=Cr.ENABLE,printAnnotationStorage:i=null}={}){var l;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const r=this._transport.getRenderingIntent(e,t,i,!0);let o=this._intentStates.get(r.cacheKey);o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Bh.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function r(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),r()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),S(this,zs,!1),A(this,si,sg).call(this),Promise.all(e)}cleanup(e=!1){S(this,zs,!0);const t=A(this,si,Cl).call(this,!1);return e&&t&&this._stats&&(this._stats=new uS),t}_startRenderPage(e,t){var s,r;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&A(this,si,Cl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:s,transfer:r}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s},r).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:u,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();A(this,si,Cl).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof N1){let s=d3;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new fl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}jr=new WeakMap,zs=new WeakMap,si=new WeakSet,Cl=function(e=!1){if(A(this,si,sg).call(this),!d(this,zs)||this.destroyed)return!1;if(e)return S(this,jr,setTimeout(()=>{S(this,jr,null),A(this,si,Cl).call(this,!1)},f3)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,zs,!1),!0},sg=function(){d(this,jr)&&(clearTimeout(d(this,jr)),S(this,jr,null))};var ma,Nm;class S3{constructor(){k(this,ma,new Set);k(this,Nm,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};d(this,Nm).then(()=>{for(const s of d(this,ma))s.call(this,i)})}addEventListener(e,t){d(this,ma).add(t)}removeEventListener(e,t){d(this,ma).delete(t)}terminate(){d(this,ma).clear()}}ma=new WeakMap,Nm=new WeakMap;const Ts={isWorkerDisabled:!1,fakeWorkerId:0};Yt&&(Ts.isWorkerDisabled=!0,sr.workerSrc||(sr.workerSrc="./pdf.worker.mjs")),Ts.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},Ts.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var ya,wc,rg,_c,og;const Pn=class Pn{constructor({name:e=null,port:t=null,verbosity:i=tF()}={}){k(this,wc);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=d(Pn,ya))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(d(Pn,ya)||S(Pn,ya,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Yt?Promise.all([gs.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Uu("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,wc,rg).call(this)}_initialize(){if(Ts.isWorkerDisabled||d(Pn,_c,og)){this._setupFakeWorker();return}let{workerSrc:e}=Pn;try{Ts.isSameOrigin(window.location.href,e)||(e=Ts.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Uu("main","worker",t),s=()=>{r.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),i.on("test",a=>{if(r.abort(),this.destroyed||!a){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,A(this,wc,rg).call(this)}),i.on("ready",a=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{p0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ts.isWorkerDisabled||(ne("Setting up fake worker."),Ts.isWorkerDisabled=!0),Pn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new S3;this._port=t;const i=`fake${Ts.fakeWorkerId++}`,s=new Uu(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new Uu(i,i+"_worker",t),A(this,wc,rg).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=d(Pn,ya))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=d(this,ya))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Pn(e)}static get workerSrc(){if(sr.workerSrc)return sr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>d(this,_c,og)?d(this,_c,og):(await import(this.workerSrc)).WorkerMessageHandler)())}};ya=new WeakMap,wc=new WeakSet,rg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},_c=new WeakSet,og=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(Pn,_c),k(Pn,ya);let Kl=Pn;var Hs,Ki,Sc,Ec,Zi,va,Wu;class E3{constructor(e,t,i,s,r){k(this,va);k(this,Hs,new Map);k(this,Ki,new Map);k(this,Sc,new Map);k(this,Ec,new Map);k(this,Zi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new xT,this.fontLoader=new _F({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new z1)}getRenderingIntent(e,t=Cr.ENABLE,i=null,s=!1){let r=ei.DISPLAY,o=yb;switch(e){case"any":r=ei.ANY;break;case"display":break;case"print":r=ei.PRINT;break;default:ne(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Cr.DISABLE:r+=ei.ANNOTATIONS_DISABLE;break;case Cr.ENABLE:break;case Cr.ENABLE_FORMS:r+=ei.ANNOTATIONS_FORMS;break;case Cr.ENABLE_STORAGE:r+=ei.ANNOTATIONS_STORAGE,o=(r&ei.PRINT&&i instanceof sT?i:this.annotationStorage).serializable;break;default:ne(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(r+=ei.OPLIST),{renderingIntent:r,cacheKey:`${r}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,Zi))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of d(this,Ki).values())e.push(s._destroy());d(this,Ki).clear(),d(this,Sc).clear(),d(this,Ec).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Hs).clear(),this.filterFactory.destroy(),cm.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new fl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{mt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}mt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var o;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),r.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(i,s)=>{mt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){s.close();return}mt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new w3(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new qv(i.message,i.code);break;case"InvalidPDFException":s=new EC(i.message);break;case"MissingPDFException":s=new dl(i.message);break;case"UnexpectedResponseException":s=new g0(i.message,i.status);break;case"UnknownErrorException":s=new Yv(i.message,i.details);break;default:Ce("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(S(this,Zi,Promise.withResolvers()),t.onPassword){const s=r=>{r instanceof Error?d(this,Zi).reject(r):d(this,Zi).resolve({password:r})};try{t.onPassword(s,i.code)}catch(r){d(this,Zi).reject(r)}}else d(this,Zi).reject(new qv(i.message,i.code));return d(this,Zi).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Ki).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const p=r.error;ne(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new SF(r,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:f}=r;mt(f,"The imageRef must be defined.");for(const p of d(this,Ki).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,o])=>{var l;if(this.destroyed)return;const a=d(this,Ki).get(s);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(r){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>Kj&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=d(this,Sc).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&d(this,Ec).set(r.refStr,e);const o=new _3(t,r,this,this._params.pdfBug);return d(this,Ki).set(t,o),o});return d(this,Sc).set(t,s),s}getPageIndex(e){return ES(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,va,Wu).call(this,"GetFieldObjects")}hasJSActions(){return A(this,va,Wu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,va,Wu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,va,Wu).call(this,"GetOptionalContentConfig").then(t=>new WF(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=d(this,Hs).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new BF(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return d(this,Hs).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of d(this,Ki).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,Hs).clear(),this.filterFactory.destroy(!0),cm.cleanup()}}cachedPageNumber(e){if(!ES(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Ec).get(t)??null}}Hs=new WeakMap,Ki=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,Zi=new WeakMap,va=new WeakSet,Wu=function(e,t=null){const i=d(this,Hs).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return d(this,Hs).set(e,s),s};const yp=Symbol("INITIAL_DATA");var xi,zd,kb;class xT{constructor(){k(this,zd);k(this,xi,Object.create(null))}get(e,t=null){if(t){const s=A(this,zd,kb).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=d(this,xi)[e];if(!i||i.data===yp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=d(this,xi)[e];return!!t&&t.data!==yp}resolve(e,t=null){const i=A(this,zd,kb).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in d(this,xi)){const{data:i}=d(this,xi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}S(this,xi,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,xi)){const{data:t}=d(this,xi)[e];t!==yp&&(yield[e,t])}}}xi=new WeakMap,zd=new WeakSet,kb=function(e){var t;return(t=d(this,xi))[e]||(t[e]={...Promise.withResolvers(),data:yp})};var Fr;class A3{constructor(e){k(this,Fr,null);S(this,Fr,e),this.onContinue=null}get promise(){return d(this,Fr).capability.promise}cancel(e=0){d(this,Fr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,Fr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=d(this,Fr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Fr=new WeakMap;var zr,ba;const Ho=class Ho{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null}){k(this,zr,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new A3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(d(Ho,ba).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Ho,ba).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:o}=this.params;this.gfx=new Yl(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,zr)&&(window.cancelAnimationFrame(d(this,zr)),S(this,zr,null)),d(Ho,ba).delete(this._canvas),this.callback(e||new N1(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,zr,window.requestAnimationFrame(()=>{S(this,zr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Ho,ba).delete(this._canvas),this.callback())))}};zr=new WeakMap,ba=new WeakMap,k(Ho,ba,new WeakSet);let Cb=Ho;const k3="4.4.168",C3="19fbc8998";function AS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ku(n){return Math.max(0,Math.min(255,255*n))}class kS{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ku(e),[e,e,e]}static G_HTML([e]){const t=AS(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ku)}static RGB_HTML(e){return`#${e.map(AS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[ku(1-Math.min(1,e+s)),ku(1-Math.min(1,i+s)),ku(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,r=1-t,o=1-i,a=Math.min(s,r,o);return["CMYK",s,r,o,a]}}class wT{static setupStorage(e,t,i,s,r){const o=s.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:r}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&r.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,f;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const a=r!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&Bh.shouldBuildText(s.name)&&c.push(p)}return{textDivs:c}}const u=[[s,-1,o]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const w=document.createTextNode(b.value);c.push(w),m.append(w);continue}const x=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(m.append(x),b.attributes&&this.setAttributes({html:x,element:b,storage:t,intent:r,linkService:i}),((f=b.children)==null?void 0:f.length)>0)u.push([b,-1,x]);else if(b.value){const w=document.createTextNode(b.value);a&&Bh.shouldBuildText(y)&&c.push(w),x.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Uf=1e3,T3=9,nl=new WeakSet;function rr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class P3{static create(e){switch(e.data.annotationType){case ct.LINK:return new _T(e);case ct.TEXT:return new R3(e);case ct.WIDGET:switch(e.data.fieldType){case"Tx":return new L3(e);case"Btn":return e.data.radioButton?new AT(e):e.data.checkBox?new O3(e):new D3(e);case"Ch":return new N3(e);case"Sig":return new M3(e)}return new pl(e);case ct.POPUP:return new Pb(e);case ct.FREETEXT:return new RT(e);case ct.LINE:return new j3(e);case ct.SQUARE:return new F3(e);case ct.CIRCLE:return new z3(e);case ct.POLYLINE:return new LT(e);case ct.CARET:return new B3(e);case ct.INK:return new MT(e);case ct.POLYGON:return new H3(e);case ct.HIGHLIGHT:return new U3(e);case ct.UNDERLINE:return new W3(e);case ct.SQUIGGLY:return new V3(e);case ct.STRIKEOUT:return new $3(e);case ct.STAMP:return new OT(e);case ct.FILEATTACHMENT:return new G3(e);default:return new nt(e)}}}var xa,Ac,kc,Hd,Tb;const mw=class mw{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){k(this,Hd);k(this,xa,null);k(this,Ac,!1);k(this,kc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return mw._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;d(this,xa)||S(this,xa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,Hd,Tb).call(this,t),(i=d(this,kc))==null||i.popup.updateEdited(e)}resetEdited(){var e;d(this,xa)&&(A(this,Hd,Tb).call(this,d(this,xa).rect),(e=d(this,kc))==null||e.popup.resetEdited(),S(this,xa,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof pl||(r.tabIndex=Uf);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,t.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Pb){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}const{width:a,height:l}=rr(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(m>0||b>0){const x=`calc(${m}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=x}else if(this instanceof AT){const x=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=x}switch(t.borderStyle.style){case Eu.SOLID:o.borderStyle="solid";break;case Eu.DASHED:o.borderStyle="dashed";break;case Eu.BEVELED:ne("Unimplemented border style: beveled");break;case Eu.INSET:ne("Unimplemented border style: inset");break;case Eu.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(S(this,Ac,!0),o.borderColor=Y.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const c=Y.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(c[0]-f)/u}%`,o.top=`${100*(c[1]-p)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(g,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:o}=rr(this.data.rect);let a,l;e%180===0?(a=100*r/i,l=100*o/s):(a=100*o/i,l=100*r/s),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const r=s.detail[t],o=r[0],a=r.slice(1);s.target.style[i]=kS[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:kS[`${o}_rgb`](a)})};return de(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const r=e[s]||i[s];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,r]of Object.entries(t)){const o=i[s];if(o){const a={detail:{[s]:r},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,r]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,b,y,x]=e.subarray(2,6);if(s===m&&r===b&&t===y&&i===x)return}const{style:o}=this.container;let a;if(d(this,Ac)){const{borderColor:m,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=s-t,c=r-i,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=u.createElement("defs");h.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,b=e.length;m<b;m+=8){const y=e[m],x=e[m+1],w=e[m+2],_=e[m+3],E=u.createElement("rect"),C=(w-t)/l,T=(r-x)/c,P=(y-w)/l,L=(x-_)/c;E.setAttribute("x",C),E.setAttribute("y",T),E.setAttribute("width",P),E.setAttribute("height",L),p.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${T}" width="${P}" height="${L}"/>`)}d(this,Ac)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=S(this,kc,new Pb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Ce("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:o,exportValues:a}of s){if(r===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!nl.has(c)){ne(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==t&&nl.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};xa=new WeakMap,Ac=new WeakMap,kc=new WeakMap,Hd=new WeakSet,Tb=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:u}=rr(e);t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(o-e[3]+l)/o}%`,s===0?(t.width=`${100*c/r}%`,t.height=`${100*u/o}%`):this.setRotation(s)};let nt=mw;var Hn,Oo,ST,ET;class _T extends nt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});k(this,Hn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action),r=!0):t.attachment?(A(this,Hn,ST).call(this,s,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(A(this,Hn,ET).call(this,s,t.setOCGState),r=!0):t.dest?(this._bindLink(s,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&A(this,Hn,Oo).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),A(this,Hn,Oo).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,Hn,Oo).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),A(this,Hn,Oo).call(this),!this._fieldObjects){ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:r,refs:o,include:a}=i,l=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!nl.has(g)){ne(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Hn=new WeakSet,Oo=function(){this.container.setAttribute("data-internal-link","")},ST=function(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,s),!1},A(this,Hn,Oo).call(this)},ET=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),A(this,Hn,Oo).call(this)};class R3 extends nt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class pl extends nt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return xn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,r){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(e,t,i,s){var r,o,a;for(const[l,c]of i)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,s),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Y.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||T3,r=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(xy*s))||1,h=c/u;o=Math.min(s,l(h/xy))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,l(c/xy))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=Y.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class L3 extends pl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),nl.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Uf,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=u.userValue=p,u.formattedValue=null});let h=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var m;if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){u.userValue=m.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),m.target.value=u.userValue},formattedValue(m){const{formattedValue:b}=m.detail;u.formattedValue=b,b!=null&&m.target!==document.activeElement&&(m.target.value=b),e.setValue(t,{formattedValue:b})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var w;const{charLimit:b}=m.detail,{target:y}=m;if(b===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",b);let x=u.userValue;!x||x.length<=b||(x=x.slice(0,b),y.value=u.userValue=x,e.setValue(t,{value:x}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var b;u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:m}=p.target;u.lastCommittedValue!==m&&(u.lastCommittedValue=m,u.userValue=m,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,i.addEventListener("blur",p=>{var m,b;if(!u.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",p=>{var E;u.lastCommittedValue=null;const{data:g,target:m}=p,{value:b,selectionStart:y,selectionEnd:x}=m;let w=y,_=x;switch(p.inputType){case"deleteWordBackward":{const C=b.substring(0,y).match(/\w*[^\w]*$/);C&&(w-=C[0].length);break}case"deleteWordForward":{const C=b.substring(y).match(/^[^\w]*\w*/);C&&(_+=C[0].length);break}case"deleteContentBackward":y===x&&(w-=1);break;case"deleteContentForward":y===x&&(_+=1);break}p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:g||"",willCommit:!1,selStart:w,selEnd:_}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&i.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class M3 extends pl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class O3 extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return nl.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Uf,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class AT extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(nl.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Uf,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=u&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class D3 extends _T{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class N3 extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");nl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Uf;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,i.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),r=!1),s.append(h)}let o=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),o=()=>{u.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{const h={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of s.options)m.selected=g.has(m.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,g=f.detail.remove;p[g].selected=!1,s.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,b=s.children[p],y=document.createElement("option");y.textContent=g,y.value=m,b?b.before(y):s.append(y),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const g of p){const{displayValue:m,exportValue:b}=g,y=document.createElement("option");y.textContent=m,y.value=b,s.append(y)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),s.addEventListener("input",u=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Pb extends nt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:nt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new I3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${kC}${i}`).join(",")),this.container}}var Cc,Im,jm,Tc,wa,Ye,Bs,_a,Bd,Ud,Pc,Us,wi,Ws,Wd,Vs,Vd,Sa,Ea,Te,ag,Rb,kT,CT,TT,PT,lg,cg,Lb;class I3{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){k(this,Te);k(this,Cc,A(this,Te,TT).bind(this));k(this,Im,A(this,Te,Lb).bind(this));k(this,jm,A(this,Te,cg).bind(this));k(this,Tc,A(this,Te,lg).bind(this));k(this,wa,null);k(this,Ye,null);k(this,Bs,null);k(this,_a,null);k(this,Bd,null);k(this,Ud,null);k(this,Pc,null);k(this,Us,!1);k(this,wi,null);k(this,Ws,null);k(this,Wd,null);k(this,Vs,null);k(this,Vd,null);k(this,Sa,null);k(this,Ea,!1);var f;S(this,Ye,e),S(this,Vd,s),S(this,Bs,o),S(this,Vs,a),S(this,Ud,l),S(this,wa,t),S(this,Wd,c),S(this,Pc,u),S(this,Bd,i),S(this,_a,LC.toDateObject(r)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",d(this,Tc)),p.addEventListener("mouseenter",d(this,jm)),p.addEventListener("mouseleave",d(this,Im)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",d(this,Cc));d(this,Ye).hidden=!0,h&&A(this,Te,lg).call(this)}render(){if(d(this,wi))return;const e=S(this,wi,document.createElement("div"));if(e.className="popup",d(this,wa)){const r=e.style.outlineColor=Y.makeHexColor(...d(this,wa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=Y.makeHexColor(...d(this,wa).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=d(this,Vd),e.append(t),d(this,_a)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:d(this,_a).toLocaleDateString(),time:d(this,_a).toLocaleTimeString()})),t.append(r)}const s=d(this,Te,ag);if(s)wT.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(d(this,Bs));e.append(r)}d(this,Ye).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,o=s.length;r<o;++r){const a=s[r];i.append(document.createTextNode(a)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;d(this,Sa)||S(this,Sa,{contentsObj:d(this,Bs),richText:d(this,Vs)}),e&&S(this,Ws,null),t&&(S(this,Vs,A(this,Te,CT).call(this,t)),S(this,Bs,null)),(i=d(this,wi))==null||i.remove(),S(this,wi,null)}resetEdited(){var e;d(this,Sa)&&({contentsObj:Cn(this,Bs)._,richText:Cn(this,Vs)._}=d(this,Sa),S(this,Sa,null),(e=d(this,wi))==null||e.remove(),S(this,wi,null),S(this,Ws,null))}forceHide(){S(this,Ea,this.isVisible),d(this,Ea)&&(d(this,Ye).hidden=!0)}maybeShow(){d(this,Ea)&&(d(this,wi)||A(this,Te,cg).call(this),S(this,Ea,!1),d(this,Ye).hidden=!1)}get isVisible(){return d(this,Ye).hidden===!1}}Cc=new WeakMap,Im=new WeakMap,jm=new WeakMap,Tc=new WeakMap,wa=new WeakMap,Ye=new WeakMap,Bs=new WeakMap,_a=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,Pc=new WeakMap,Us=new WeakMap,wi=new WeakMap,Ws=new WeakMap,Wd=new WeakMap,Vs=new WeakMap,Vd=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Te=new WeakSet,ag=function(){const e=d(this,Vs),t=d(this,Bs);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&d(this,Vs).html||null},Rb=function(){var e,t,i;return((i=(t=(e=d(this,Te,ag))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},kT=function(){var e,t,i;return((i=(t=(e=d(this,Te,ag))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},CT=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:d(this,Te,kT),fontSize:d(this,Te,Rb)?`calc(${d(this,Te,Rb)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:s});return i},TT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,Us))&&A(this,Te,lg).call(this)},PT=function(){if(d(this,Ws)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:r}}}=d(this,Ud);let o=!!d(this,Pc),a=o?d(this,Pc):d(this,Wd);for(const g of d(this,Bd))if(!a||Y.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=Y.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,f=l[1];S(this,Ws,[100*(h-s)/t,100*(f-r)/i]);const{style:p}=d(this,Ye);p.left=`${d(this,Ws)[0]}%`,p.top=`${d(this,Ws)[1]}%`},lg=function(){S(this,Us,!d(this,Us)),d(this,Us)?(A(this,Te,cg).call(this),d(this,Ye).addEventListener("click",d(this,Tc)),d(this,Ye).addEventListener("keydown",d(this,Cc))):(A(this,Te,Lb).call(this),d(this,Ye).removeEventListener("click",d(this,Tc)),d(this,Ye).removeEventListener("keydown",d(this,Cc)))},cg=function(){d(this,wi)||this.render(),this.isVisible?d(this,Us)&&d(this,Ye).classList.add("focused"):(A(this,Te,PT).call(this),d(this,Ye).hidden=!1,d(this,Ye).style.zIndex=parseInt(d(this,Ye).style.zIndex)+1e3)},Lb=function(){d(this,Ye).classList.remove("focused"),!(d(this,Us)||!this.isVisible)&&(d(this,Ye).hidden=!0,d(this,Ye).style.zIndex=parseInt(d(this,Ye).style.zIndex)-1e3)};class RT extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ue.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var $d;class j3 extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,$d,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=rr(t.rect),r=this.svgFactory.create(i,s,!0),o=S(this,$d,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,$d)}addHighlightArea(){this.container.classList.add("highlightArea")}}$d=new WeakMap;var Gd;class F3 extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Gd,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=rr(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=S(this,Gd,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Gd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gd=new WeakMap;var Xd;class z3 extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Xd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=rr(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=S(this,Xd,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",s/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xd=new WeakMap;var qd;class LT extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,qd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r}}=this;if(!i)return this.container;const{width:o,height:a}=rr(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,f=i.length;h<f;h+=2){const p=i[h]-t[0],g=t[3]-i[h+1];c.push(`${p},${g}`)}c=c.join(" ");const u=S(this,qd,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}qd=new WeakMap;class H3 extends LT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B3 extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Yd;class MT extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Yd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ue.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:s,popupRef:r}}=this,{width:o,height:a}=rr(t),l=this.svgFactory.create(o,a,!0);for(const c of i){let u=[];for(let f=0,p=c.length;f<p;f+=2){const g=c[f]-t[0],m=t[3]-c[f+1];u.push(`${g},${m}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);d(this,Yd).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),l.append(h)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return d(this,Yd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yd=new WeakMap;class U3 extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class W3 extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class V3 extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $3 extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class OT extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kd,Zd,Mb;class G3 extends nt{constructor(t){var s;super(t,{isRenderable:!0});k(this,Zd);k(this,Kd,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",A(this,Zd,Mb).bind(this)),S(this,Kd,s);const{isMac:r}=xn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&A(this,Zd,Mb).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return d(this,Kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kd=new WeakMap,Zd=new WeakSet,Mb=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Jd,Aa,Rc,al,DT,Ob,dA;let X3=(dA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o}){k(this,al);k(this,Jd,null);k(this,Aa,null);k(this,Rc,new Map);this.div=e,S(this,Jd,t),S(this,Aa,i),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}async render(e){var o;const{annotations:t}=e,i=this.div;el(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new D1,annotationStorage:e.annotationStorage||new z1,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===ct.POPUP;if(l){const h=s.get(a.id);if(!h)continue;r.elements=h}else{const{width:h,height:f}=rr(a.rect);if(h<=0||f<=0)continue}r.data=a;const c=P3.create(r);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=s.get(a.popupRef);h?h.push(c):s.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),A(this,al,DT).call(this,u,a.id),c.annotationEditorType>0&&(d(this,Rc).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}A(this,al,Ob).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,el(t,{rotation:e.rotation}),A(this,al,Ob).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Rc).values())}getEditableAnnotation(e){return d(this,Rc).get(e)}},Jd=new WeakMap,Aa=new WeakMap,Rc=new WeakMap,al=new WeakSet,DT=function(e,t){var s;const i=e.firstChild||e;i.id=`${kC}${t}`,this.div.append(e),(s=d(this,Jd))==null||s.moveElementInDOM(this.div,e,i,!1)},Ob=function(){if(!d(this,Aa))return;const e=this.div;for(const[t,i]of d(this,Aa)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):s.append(i)}d(this,Aa).clear()},dA);const vp=/\r\n?|\n/g;var Qd,ef,tf,nf,sf,_i,Dn,rf,Nn,Lc,lt,NT,IT,jT,ug,ar,hg,dg,FT,Nb,zT;const Oe=class Oe extends we{constructor(t){super({...t,name:"freeTextEditor"});k(this,lt);k(this,Qd,this.editorDivBlur.bind(this));k(this,ef,this.editorDivFocus.bind(this));k(this,tf,this.editorDivInput.bind(this));k(this,nf,this.editorDivKeydown.bind(this));k(this,sf,this.editorDivPaste.bind(this));k(this,_i);k(this,Dn,"");k(this,rf,`${this.id}-editor`);k(this,Nn);k(this,Lc,null);S(this,_i,t.color||Oe._defaultColor||we._defaultLineColor),S(this,Nn,t.fontSize||Oe._defaultFontSize)}static get _keyboardManager(){const t=Oe.prototype,i=o=>o.isEmpty(),s=tl.TRANSLATE_SMALL,r=tl.TRANSLATE_BIG;return de(this,"_keyboardManager",new Hf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(t,i){we.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case ee.FREETEXT_SIZE:Oe._defaultFontSize=i;break;case ee.FREETEXT_COLOR:Oe._defaultColor=i;break}}updateParams(t,i){switch(t){case ee.FREETEXT_SIZE:A(this,lt,NT).call(this,i);break;case ee.FREETEXT_COLOR:A(this,lt,IT).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ee.FREETEXT_SIZE,Oe._defaultFontSize],[ee.FREETEXT_COLOR,Oe._defaultColor||we._defaultLineColor]]}get propertiesToUpdate(){return[[ee.FREETEXT_SIZE,d(this,Nn)],[ee.FREETEXT_COLOR,d(this,_i)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Oe._internalPadding*t,-(Oe._internalPadding+d(this,Nn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ue.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",d(this,nf),{signal:t}),this.editorDiv.addEventListener("focus",d(this,ef),{signal:t}),this.editorDiv.addEventListener("blur",d(this,Qd),{signal:t}),this.editorDiv.addEventListener("input",d(this,tf),{signal:t}),this.editorDiv.addEventListener("paste",d(this,sf),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,rf)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",d(this,nf)),this.editorDiv.removeEventListener("focus",d(this,ef)),this.editorDiv.removeEventListener("blur",d(this,Qd)),this.editorDiv.removeEventListener("input",d(this,tf)),this.editorDiv.removeEventListener("paste",d(this,sf)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=d(this,Dn),i=S(this,Dn,A(this,lt,jT).call(this).trimEnd());if(t===i)return;const s=r=>{if(S(this,Dn,r),!r){this.remove();return}A(this,lt,dg).call(this),this._uiManager.rebuild(this),A(this,lt,ug).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),A(this,lt,ug).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Oe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,rf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),we._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${d(this,Nn)}px * var(--scale-factor))`,s.color=d(this,_i),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),om(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=d(this,Lc);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=t+(a[0]-f)/u,m=i+this.height-(a[1]-p)/h;break;case 90:g=t+(a[0]-f)/u,m=i-(a[1]-p)/h,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-f)/u,m=i-(a[1]-p)/h,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-f-this.height*h)/u,m=i+(a[1]-p-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(g*r,m*o,l,c)}else this.setAt(t*r,i*o,this.width*r,this.height*o);A(this,lt,dg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,m,b;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=A(g=Oe,ar,Nb).call(g,i.getData("text")||"").replaceAll(vp,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(vp,"")),y!==this.editorDiv){let x=u;for(const w of this.editorDiv.childNodes){if(w===y){x=h;continue}x.push(A(m=Oe,ar,hg).call(m,w))}}u.push(l.nodeValue.slice(0,c).replaceAll(vp,""))}else if(l===this.editorDiv){let y=u,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(y=h),y.push(A(b=Oe,ar,hg).call(b,w))}S(this,Dn,`${u.join(`
`)}${r}${h.join(`
`)}`),A(this,lt,dg).call(this);const f=new Range;let p=u.reduce((y,x)=>y+x.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(p<=x){f.setStart(y,p),f.setEnd(y,p);break}p-=x}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,s){var a;let r=null;if(t instanceof RT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:m}}}=t;if(!p||p.length===0)return null;r=t={annotationType:ue.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:g,pageIndex:m-1,rect:u.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,i,s);return S(o,Nn,t.fontSize),S(o,_i,Y.makeHexColor(...t.color)),S(o,Dn,A(a=Oe,ar,Nb).call(a,t.value)),o.annotationElementId=t.id||null,S(o,Lc,r),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=Oe._internalPadding*this.parentScale,s=this.getRect(i,i),r=we._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,_i)),o={annotationType:ue.FREETEXT,color:r,fontSize:d(this,Nn),value:A(this,lt,FT).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,lt,zT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${d(this,Nn)}px * var(--scale-factor))`,s.color=d(this,_i),i.replaceChildren();for(const o of d(this,Dn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const r=Oe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:d(this,Dn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qd=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,sf=new WeakMap,_i=new WeakMap,Dn=new WeakMap,rf=new WeakMap,Nn=new WeakMap,Lc=new WeakMap,lt=new WeakSet,NT=function(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-d(this,Nn))*this.parentScale),S(this,Nn,r),A(this,lt,ug).call(this)},s=d(this,Nn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},IT=function(t){const i=r=>{S(this,_i,this.editorDiv.style.color=r)},s=d(this,_i);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jT=function(){var i;const t=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)t.push(A(i=Oe,ar,hg).call(i,s));return t.join(`
`)},ug=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},ar=new WeakSet,hg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(vp,"")},dg=function(){if(this.editorDiv.replaceChildren(),!!d(this,Dn))for(const t of d(this,Dn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},FT=function(){return d(this,Dn).replaceAll(" "," ")},Nb=function(t){return t.replaceAll(" "," ")},zT=function(t){const{value:i,fontSize:s,color:r,pageIndex:o}=d(this,Lc);return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((a,l)=>a!==r[l])||t.pageIndex!==o},k(Oe,ar),I(Oe,"_freeTextDefaultContent",""),I(Oe,"_internalPadding",0),I(Oe,"_defaultColor",null),I(Oe,"_defaultFontSize",10),I(Oe,"_type","freetext"),I(Oe,"_editorType",ue.FREETEXT);let Db=Oe;var of,Hr,Si,an,HT,fg,BT,UT,jb;class Ib{constructor(e,t=0,i=0,s=!0){k(this,an);k(this,of);k(this,Hr,[]);k(this,Si,[]);let r=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:y,y:x,width:w,height:_}of e){const E=Math.floor((y-t)/u)*u,C=Math.ceil((y+w+t)/u)*u,T=Math.floor((x-t)/u)*u,P=Math.ceil((x+_+t)/u)*u,L=[E,T,P,!0],M=[C,T,P,!1];d(this,Hr).push(L,M),r=Math.min(r,E),o=Math.max(o,C),a=Math.min(a,T),l=Math.max(l,P)}const h=o-r+2*i,f=l-a+2*i,p=r-i,g=a-i,m=d(this,Hr).at(s?-1:-2),b=[m[0],m[2]];for(const y of d(this,Hr)){const[x,w,_]=y;y[0]=(x-p)/h,y[1]=(w-g)/f,y[2]=(_-g)/f}S(this,of,{x:p,y:g,width:h,height:f,lastPoint:b})}getOutlines(){d(this,Hr).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of d(this,Hr))t[3]?(e.push(...A(this,an,jb).call(this,t)),A(this,an,BT).call(this,t)):(A(this,an,UT).call(this,t),e.push(...A(this,an,jb).call(this,t)));return A(this,an,HT).call(this,e)}}of=new WeakMap,Hr=new WeakMap,Si=new WeakMap,an=new WeakSet,HT=function(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,u,h]=o;i.delete(o);let f=a,p=l;for(r=[a,c],s.push(r);;){let g;if(i.has(u))g=u;else if(i.has(h))g=h;else break;i.delete(g),[a,l,c,u,h]=g,f!==a&&(r.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}r.push(f,p)}return new q3(s,d(this,of))},fg=function(e){const t=d(this,Si);let i=0,s=t.length-1;for(;i<=s;){const r=i+s>>1,o=t[r][0];if(o===e)return r;o<e?i=r+1:s=r-1}return s+1},BT=function([,e,t]){const i=A(this,an,fg).call(this,e);d(this,Si).splice(i,0,[e,t])},UT=function([,e,t]){const i=A(this,an,fg).call(this,e);for(let s=i;s<d(this,Si).length;s++){const[r,o]=d(this,Si)[s];if(r!==e)break;if(r===e&&o===t){d(this,Si).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=d(this,Si)[s];if(r!==e)break;if(r===e&&o===t){d(this,Si).splice(s,1);return}}},jb=function(e){const[t,i,s]=e,r=[[t,i,s]],o=A(this,an,fg).call(this,s);for(let a=0;a<o;a++){const[l,c]=d(this,Si)[a];for(let u=0,h=r.length;u<h;u++){const[,f,p]=r[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)r[u][1]=c;else{if(h===1)return[];r.splice(u,1),u--,h--}continue}r[u][2]=l,p>c&&r.push([t,c,p])}}}return r};class WT{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof zb}}var af,Mc;class q3 extends WT{constructor(t,i){super();k(this,af);k(this,Mc);S(this,Mc,t),S(this,af,i)}toSVGPath(){const t=[];for(const i of d(this,Mc)){let[s,r]=i;t.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===s?(t.push(`V${l}`),r=l):l===r&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],o){const a=[],l=s-t,c=r-i;for(const u of d(this,Mc)){const h=new Array(u.length);for(let f=0;f<u.length;f+=2)h[f]=t+u[f]*l,h[f+1]=r-u[f+1]*c;a.push(h)}return a}get box(){return d(this,af)}}af=new WeakMap,Mc=new WeakMap;var Ji,$s,Oc,Dc,Qi,le,ka,Ca,lf,cf,Nc,Ic,Br,uf,Fm,zm,hf,Fb;const As=class As{constructor({x:e,y:t},i,s,r,o,a=0){k(this,hf);k(this,Ji);k(this,$s,[]);k(this,Oc);k(this,Dc);k(this,Qi,[]);k(this,le,new Float64Array(18));k(this,ka);k(this,Ca);k(this,lf);k(this,cf);k(this,Nc);k(this,Ic);k(this,Br,[]);S(this,Ji,i),S(this,Ic,r*s),S(this,Dc,o),d(this,le).set([NaN,NaN,NaN,NaN,e,t],6),S(this,Oc,a),S(this,cf,d(As,uf)*s),S(this,lf,d(As,zm)*s),S(this,Nc,s),d(this,Br).push(e,t)}get free(){return!0}isEmpty(){return isNaN(d(this,le)[8])}add({x:e,y:t}){var L;S(this,ka,e),S(this,Ca,t);const[i,s,r,o]=d(this,Ji);let[a,l,c,u]=d(this,le).subarray(8,12);const h=e-c,f=t-u,p=Math.hypot(h,f);if(p<d(this,lf))return!1;const g=p-d(this,cf),m=g/p,b=m*h,y=m*f;let x=a,w=l;a=c,l=u,c+=b,u+=y,(L=d(this,Br))==null||L.push(e,t);const _=-y/g,E=b/g,C=_*d(this,Ic),T=E*d(this,Ic);return d(this,le).set(d(this,le).subarray(2,8),0),d(this,le).set([c+C,u+T],4),d(this,le).set(d(this,le).subarray(14,18),12),d(this,le).set([c-C,u-T],16),isNaN(d(this,le)[6])?(d(this,Qi).length===0&&(d(this,le).set([a+C,l+T],2),d(this,Qi).push(NaN,NaN,NaN,NaN,(a+C-i)/r,(l+T-s)/o),d(this,le).set([a-C,l-T],14),d(this,$s).push(NaN,NaN,NaN,NaN,(a-C-i)/r,(l-T-s)/o)),d(this,le).set([x,w,a,l,c,u],6),!this.isEmpty()):(d(this,le).set([x,w,a,l,c,u],6),Math.abs(Math.atan2(w-l,x-a)-Math.atan2(y,b))<Math.PI/2?([a,l,c,u]=d(this,le).subarray(2,6),d(this,Qi).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/r,((l+u)/2-s)/o),[a,l,x,w]=d(this,le).subarray(14,18),d(this,$s).push(NaN,NaN,NaN,NaN,((x+a)/2-i)/r,((w+l)/2-s)/o),!0):([x,w,a,l,c,u]=d(this,le).subarray(0,6),d(this,Qi).push(((x+5*a)/6-i)/r,((w+5*l)/6-s)/o,((5*a+c)/6-i)/r,((5*l+u)/6-s)/o,((a+c)/2-i)/r,((l+u)/2-s)/o),[c,u,a,l,x,w]=d(this,le).subarray(12,18),d(this,$s).push(((x+5*a)/6-i)/r,((w+5*l)/6-s)/o,((5*a+c)/6-i)/r,((5*l+u)/6-s)/o,((a+c)/2-i)/r,((l+u)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,Qi),t=d(this,$s),i=d(this,le).subarray(4,6),s=d(this,le).subarray(16,18),[r,o,a,l]=d(this,Ji),[c,u,h,f]=A(this,hf,Fb).call(this);if(isNaN(d(this,le)[6])&&!this.isEmpty())return`M${(d(this,le)[2]-r)/a} ${(d(this,le)[3]-o)/l} L${(d(this,le)[4]-r)/a} ${(d(this,le)[5]-o)/l} L${c} ${u} L${h} ${f} L${(d(this,le)[16]-r)/a} ${(d(this,le)[17]-o)/l} L${(d(this,le)[14]-r)/a} ${(d(this,le)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(i[0]-r)/a} ${(i[1]-o)/l} L${c} ${u} L${h} ${f} L${(s[0]-r)/a} ${(s[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var y;const e=d(this,Qi),t=d(this,$s),i=d(this,le),s=i.subarray(4,6),r=i.subarray(16,18),[o,a,l,c]=d(this,Ji),u=new Float64Array((((y=d(this,Br))==null?void 0:y.length)??0)+2);for(let x=0,w=u.length-2;x<w;x+=2)u[x]=(d(this,Br)[x]-o)/l,u[x+1]=(d(this,Br)[x+1]-a)/c;u[u.length-2]=(d(this,ka)-o)/l,u[u.length-1]=(d(this,Ca)-a)/c;const[h,f,p,g]=A(this,hf,Fb).call(this);if(isNaN(i[6])&&!this.isEmpty()){const x=new Float64Array(36);return x.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/c],0),new zb(x,u,d(this,Ji),d(this,Nc),d(this,Oc),d(this,Dc))}const m=new Float64Array(d(this,Qi).length+24+d(this,$s).length);let b=e.length;for(let x=0;x<b;x+=2){if(isNaN(e[x])){m[x]=m[x+1]=NaN;continue}m[x]=e[x],m[x+1]=e[x+1]}m.set([NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c],b),b+=24;for(let x=t.length-6;x>=6;x-=6)for(let w=0;w<6;w+=2){if(isNaN(t[x+w])){m[b]=m[b+1]=NaN,b+=2;continue}m[b]=t[x+w],m[b+1]=t[x+w+1],b+=2}return m.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new zb(m,u,d(this,Ji),d(this,Nc),d(this,Oc),d(this,Dc))}};Ji=new WeakMap,$s=new WeakMap,Oc=new WeakMap,Dc=new WeakMap,Qi=new WeakMap,le=new WeakMap,ka=new WeakMap,Ca=new WeakMap,lf=new WeakMap,cf=new WeakMap,Nc=new WeakMap,Ic=new WeakMap,Br=new WeakMap,uf=new WeakMap,Fm=new WeakMap,zm=new WeakMap,hf=new WeakSet,Fb=function(){const e=d(this,le).subarray(4,6),t=d(this,le).subarray(16,18),[i,s,r,o]=d(this,Ji);return[(d(this,ka)+(e[0]-t[0])/2-i)/r,(d(this,Ca)+(e[1]-t[1])/2-s)/o,(d(this,ka)+(t[0]-e[0])/2-i)/r,(d(this,Ca)+(t[1]-e[1])/2-s)/o]},k(As,uf,8),k(As,Fm,2),k(As,zm,d(As,uf)+d(As,Fm));let um=As;var jc,Ta,Gs,df,In,ff,Qe,wn,Vu,$u,VT;class zb extends WT{constructor(t,i,s,r,o,a){super();k(this,wn);k(this,jc);k(this,Ta,null);k(this,Gs);k(this,df);k(this,In);k(this,ff);k(this,Qe);S(this,Qe,t),S(this,In,i),S(this,jc,s),S(this,ff,r),S(this,Gs,o),S(this,df,a),A(this,wn,VT).call(this,a);const{x:l,y:c,width:u,height:h}=d(this,Ta);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/u,t[f+1]=(t[f+1]-c)/h;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/u,i[f+1]=(i[f+1]-c)/h}toSVGPath(){const t=[`M${d(this,Qe)[4]} ${d(this,Qe)[5]}`];for(let i=6,s=d(this,Qe).length;i<s;i+=6){if(isNaN(d(this,Qe)[i])){t.push(`L${d(this,Qe)[i+4]} ${d(this,Qe)[i+5]}`);continue}t.push(`C${d(this,Qe)[i]} ${d(this,Qe)[i+1]} ${d(this,Qe)[i+2]} ${d(this,Qe)[i+3]} ${d(this,Qe)[i+4]} ${d(this,Qe)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],o){const a=s-t,l=r-i;let c,u;switch(o){case 0:c=A(this,wn,Vu).call(this,d(this,Qe),t,r,a,-l),u=A(this,wn,Vu).call(this,d(this,In),t,r,a,-l);break;case 90:c=A(this,wn,$u).call(this,d(this,Qe),t,i,a,l),u=A(this,wn,$u).call(this,d(this,In),t,i,a,l);break;case 180:c=A(this,wn,Vu).call(this,d(this,Qe),s,i,-a,l),u=A(this,wn,Vu).call(this,d(this,In),s,i,-a,l);break;case 270:c=A(this,wn,$u).call(this,d(this,Qe),s,r,-a,-l),u=A(this,wn,$u).call(this,d(this,In),s,r,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return d(this,Ta)}getNewOutline(t,i){const{x:s,y:r,width:o,height:a}=d(this,Ta),[l,c,u,h]=d(this,jc),f=o*u,p=a*h,g=s*u+l,m=r*h+c,b=new um({x:d(this,In)[0]*f+g,y:d(this,In)[1]*p+m},d(this,jc),d(this,ff),t,d(this,df),i??d(this,Gs));for(let y=2;y<d(this,In).length;y+=2)b.add({x:d(this,In)[y]*f+g,y:d(this,In)[y+1]*p+m});return b.getOutlines()}}jc=new WeakMap,Ta=new WeakMap,Gs=new WeakMap,df=new WeakMap,In=new WeakMap,ff=new WeakMap,Qe=new WeakMap,wn=new WeakSet,Vu=function(t,i,s,r,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l]*r,a[l+1]=s+t[l+1]*o;return a},$u=function(t,i,s,r,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l+1]*r,a[l+1]=s+t[l]*o;return a},VT=function(t){const i=d(this,Qe);let s=i[4],r=i[5],o=s,a=r,l=s,c=r,u=s,h=r;const f=t?Math.max:Math.min;for(let y=6,x=i.length;y<x;y+=6){if(isNaN(i[y]))o=Math.min(o,i[y+4]),a=Math.min(a,i[y+5]),l=Math.max(l,i[y+4]),c=Math.max(c,i[y+5]),h<i[y+5]?(u=i[y+4],h=i[y+5]):h===i[y+5]&&(u=f(u,i[y+4]));else{const w=Y.bezierBoundingBox(s,r,...i.slice(y,y+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),h<w[3]?(u=w[2],h=w[3]):h===w[3]&&(u=f(u,w[2]))}s=i[y+4],r=i[y+5]}const p=o-d(this,Gs),g=a-d(this,Gs),m=l-o+2*d(this,Gs),b=c-a+2*d(this,Gs);S(this,Ta,{x:p,y:g,width:m,height:b,lastPoint:[u,h]})};var pf,gf,Ei,Pa,Fc,ht,mf,zc,yf,vf,Ai,Hc,Le,Hb,Bb,$T,Do,GT,_r;const ks=class ks{constructor({editor:e=null,uiManager:t=null}){k(this,Le);k(this,pf,A(this,Le,$T).bind(this));k(this,gf,A(this,Le,GT).bind(this));k(this,Ei,null);k(this,Pa,null);k(this,Fc);k(this,ht,null);k(this,mf,!1);k(this,zc,!1);k(this,yf,null);k(this,vf);k(this,Ai,null);k(this,Hc);var i;e?(S(this,zc,!1),S(this,Hc,ee.HIGHLIGHT_COLOR),S(this,yf,e)):(S(this,zc,!0),S(this,Hc,ee.HIGHLIGHT_DEFAULT_COLOR)),S(this,Ai,(e==null?void 0:e._uiManager)||t),S(this,vf,d(this,Ai)._eventBus),S(this,Fc,(e==null?void 0:e.color)||((i=d(this,Ai))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return de(this,"_keyboardManager",new Hf([[["Escape","mac+Escape"],ks.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ks.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ks.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ks.prototype._moveToPrevious],[["Home","mac+Home"],ks.prototype._moveToBeginning],[["End","mac+End"],ks.prototype._moveToEnd]]))}renderButton(){const e=S(this,Ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=d(this,Ai)._signal;e.addEventListener("click",A(this,Le,Do).bind(this),{signal:t}),e.addEventListener("keydown",d(this,pf),{signal:t});const i=S(this,Pa,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=d(this,Fc),e.append(i),e}renderMainDropdown(){const e=S(this,ht,A(this,Le,Hb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===d(this,Ei)){A(this,Le,Do).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Le,Bb).call(this,t,e)}_moveToNext(e){var t,i;if(!d(this,Le,_r)){A(this,Le,Do).call(this,e);return}if(e.target===d(this,Ei)){(t=d(this,ht).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=d(this,ht))==null?void 0:t.firstChild)||e.target===d(this,Ei)){d(this,Le,_r)&&this._hideDropdownFromKeyboard();return}d(this,Le,_r)||A(this,Le,Do).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!d(this,Le,_r)){A(this,Le,Do).call(this,e);return}(t=d(this,ht).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!d(this,Le,_r)){A(this,Le,Do).call(this,e);return}(t=d(this,ht).lastChild)==null||t.focus()}hideDropdown(){var e;(e=d(this,ht))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",d(this,gf))}_hideDropdownFromKeyboard(){var e;if(!d(this,zc)){if(!d(this,Le,_r)){(e=d(this,yf))==null||e.unselect();return}this.hideDropdown(),d(this,Ei).focus({preventScroll:!0,focusVisible:d(this,mf)})}}updateColor(e){if(d(this,Pa)&&(d(this,Pa).style.backgroundColor=e),!d(this,ht))return;const t=d(this,Ai).highlightColors.values();for(const i of d(this,ht).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=d(this,Ei))==null||e.remove(),S(this,Ei,null),S(this,Pa,null),(t=d(this,ht))==null||t.remove(),S(this,ht,null)}};pf=new WeakMap,gf=new WeakMap,Ei=new WeakMap,Pa=new WeakMap,Fc=new WeakMap,ht=new WeakMap,mf=new WeakMap,zc=new WeakMap,yf=new WeakMap,vf=new WeakMap,Ai=new WeakMap,Hc=new WeakMap,Le=new WeakSet,Hb=function(){const e=document.createElement("div"),t=d(this,Ai)._signal;e.addEventListener("contextmenu",kn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of d(this,Ai).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.setAttribute("aria-selected",s===d(this,Fc)),r.addEventListener("click",A(this,Le,Bb).bind(this,s),{signal:t}),e.append(r)}return e.addEventListener("keydown",d(this,pf),{signal:t}),e},Bb=function(e,t){t.stopPropagation(),d(this,vf).dispatch("switchannotationeditorparams",{source:this,type:d(this,Hc),value:e})},$T=function(e){ks._keyboardManager.exec(this,e)},Do=function(e){if(d(this,Le,_r)){this.hideDropdown();return}if(S(this,mf,e.detail===0),window.addEventListener("pointerdown",d(this,gf),{signal:d(this,Ai)._signal}),d(this,ht)){d(this,ht).classList.remove("hidden");return}const t=S(this,ht,A(this,Le,Hb).call(this));d(this,Ei).append(t)},GT=function(e){var t;(t=d(this,ht))!=null&&t.contains(e.target)||this.hideDropdown()},_r=function(){return d(this,ht)&&!d(this,ht).classList.contains("hidden")};let hm=ks;var Bc,bf,Ur,Ra,Uc,Jn,xf,wf,La,ki,en,jn,Hm,Wc,Ma,dt,Vc,es,_f,re,Ub,Wb,XT,qT,YT,Vb,Gu,ri,Tl,KT,pg,Xu,ZT,JT,QT,eP;const ye=class ye extends we{constructor(t){super({...t,name:"highlightEditor"});k(this,re);k(this,Bc,null);k(this,bf,0);k(this,Ur);k(this,Ra,null);k(this,Uc,null);k(this,Jn,null);k(this,xf,null);k(this,wf,0);k(this,La,null);k(this,ki,null);k(this,en,null);k(this,jn,!1);k(this,Hm,A(this,re,KT).bind(this));k(this,Wc,null);k(this,Ma);k(this,dt,null);k(this,Vc,"");k(this,es);k(this,_f,"");this.color=t.color||ye._defaultColor,S(this,es,t.thickness||ye._defaultThickness),S(this,Ma,t.opacity||ye._defaultOpacity),S(this,Ur,t.boxes||null),S(this,_f,t.methodOfCreation||""),S(this,Vc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(S(this,jn,!0),A(this,re,Wb).call(this,t),A(this,re,Gu).call(this)):(S(this,Bc,t.anchorNode),S(this,bf,t.anchorOffset),S(this,xf,t.focusNode),S(this,wf,t.focusOffset),A(this,re,Ub).call(this),A(this,re,Gu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ye.prototype;return de(this,"_keyboardManager",new Hf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,jn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,es),methodOfCreation:d(this,_f)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;we.initialize(t,i),ye._defaultColor||(ye._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case ee.HIGHLIGHT_DEFAULT_COLOR:ye._defaultColor=i;break;case ee.HIGHLIGHT_THICKNESS:ye._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return d(this,Wc)}updateParams(t,i){switch(t){case ee.HIGHLIGHT_COLOR:A(this,re,XT).call(this,i);break;case ee.HIGHLIGHT_THICKNESS:A(this,re,qT).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ee.HIGHLIGHT_DEFAULT_COLOR,ye._defaultColor],[ee.HIGHLIGHT_THICKNESS,ye._defaultThickness]]}get propertiesToUpdate(){return[[ee.HIGHLIGHT_COLOR,this.color||ye._defaultColor],[ee.HIGHLIGHT_THICKNESS,d(this,es)||ye._defaultThickness],[ee.HIGHLIGHT_FREE,d(this,jn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(S(this,Uc,new hm({editor:this})),t.addColorPicker(d(this,Uc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,re,Xu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,A(this,re,Xu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,re,Vb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,re,Gu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?A(this,re,Vb).call(this):t&&(A(this,re,Gu).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var r,o,a;const{drawLayer:i}=this.parent;let s;d(this,jn)?(t=(t-this.rotation+360)%360,s=A(r=ye,ri,Tl).call(r,d(this,ki).box,t)):s=A(o=ye,ri,Tl).call(o,this,t),i.rotate(d(this,en),t),i.rotate(d(this,dt),t),i.updateBox(d(this,en),s),i.updateBox(d(this,dt),A(a=ye,ri,Tl).call(a,d(this,Jn).box,t))}render(){if(this.div)return this.div;const t=super.render();d(this,Vc)&&(t.setAttribute("aria-label",d(this,Vc)),t.setAttribute("role","mark")),d(this,jn)?t.classList.add("free"):this.div.addEventListener("keydown",d(this,Hm),{signal:this._uiManager._signal});const i=S(this,La,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,Ra);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),om(this,d(this,La),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(d(this,dt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(d(this,dt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,re,pg).call(this,!0);break;case 1:case 3:A(this,re,pg).call(this,!1);break}}select(){var t,i;super.select(),d(this,dt)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,dt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(d(this,dt),"selected"))}unselect(){var t;super.unselect(),d(this,dt)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,dt),"selected"),d(this,jn)||A(this,re,pg).call(this,!1))}get _mustFixPosition(){return!d(this,jn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(d(this,en),t),this.parent.drawLayer.show(d(this,dt),t))}static startHighlighting(t,i,{target:s,x:r,y:o}){const{x:a,y:l,width:c,height:u}=s.getBoundingClientRect(),h=b=>{A(this,ri,QT).call(this,t,b)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=b=>{b.preventDefault(),b.stopPropagation()},m=b=>{s.removeEventListener("pointermove",h),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",kn),A(this,ri,eP).call(this,t,b)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",kn,{signal:f}),s.addEventListener("pointermove",h,{signal:f}),this._freeHighlight=new um({x:r,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,s){var m;const r=super.deserialize(t,i,s),{rect:[o,a,l,c],color:u,quadPoints:h}=t;r.color=Y.makeHexColor(...u),S(r,Ma,t.opacity);const[f,p]=r.pageDimensions;r.width=(l-o)/f,r.height=(c-a)/p;const g=S(r,Ur,[]);for(let b=0;b<h.length;b+=8)g.push({x:(h[4]-l)/f,y:(c-(1-h[b+5]))/p,width:(h[b+2]-h[b])/f,height:(h[b+5]-h[b+1])/p});return A(m=r,re,Ub).call(m),r}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),s=we._colorManager.convert(this.color);return{annotationType:ue.HIGHLIGHT,color:s,opacity:d(this,Ma),thickness:d(this,es),quadPoints:A(this,re,ZT).call(this),outlines:A(this,re,JT).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:A(this,re,Xu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Bc=new WeakMap,bf=new WeakMap,Ur=new WeakMap,Ra=new WeakMap,Uc=new WeakMap,Jn=new WeakMap,xf=new WeakMap,wf=new WeakMap,La=new WeakMap,ki=new WeakMap,en=new WeakMap,jn=new WeakMap,Hm=new WeakMap,Wc=new WeakMap,Ma=new WeakMap,dt=new WeakMap,Vc=new WeakMap,es=new WeakMap,_f=new WeakMap,re=new WeakSet,Ub=function(){const t=new Ib(d(this,Ur),.001);S(this,ki,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,ki).box;const i=new Ib(d(this,Ur),.0025,.001,this._uiManager.direction==="ltr");S(this,Jn,i.getOutlines());const{lastPoint:s}=d(this,Jn).box;S(this,Wc,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Wb=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var h,f;if(S(this,ki,t),S(this,Jn,t.getNewOutline(d(this,es)/2+1.5,.0025)),i>=0)S(this,en,i),S(this,Ra,s),this.parent.drawLayer.finalizeLine(i,t),S(this,dt,this.parent.drawLayer.highlightOutline(d(this,Jn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,en),t),this.parent.drawLayer.updateBox(d(this,en),A(h=ye,ri,Tl).call(h,d(this,ki).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,dt),d(this,Jn)),this.parent.drawLayer.updateBox(d(this,dt),A(f=ye,ri,Tl).call(f,d(this,Jn).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:u}=d(this,Jn).box;S(this,Wc,[(u[0]-o)/l,(u[1]-a)/c])},XT=function(t){const i=r=>{var o,a;this.color=r,(o=this.parent)==null||o.drawLayer.changeColor(d(this,en),r),(a=d(this,Uc))==null||a.updateColor(r)},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},qT=function(t){const i=d(this,es),s=r=>{S(this,es,r),A(this,re,YT).call(this,r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},YT=function(t){if(!d(this,jn))return;A(this,re,Wb).call(this,{highlightOutlines:d(this,ki).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},Vb=function(){d(this,en)===null||!this.parent||(this.parent.drawLayer.remove(d(this,en)),S(this,en,null),this.parent.drawLayer.remove(d(this,dt)),S(this,dt,null))},Gu=function(t=this.parent){d(this,en)===null&&({id:Cn(this,en)._,clipPathId:Cn(this,Ra)._}=t.drawLayer.highlight(d(this,ki),this.color,d(this,Ma)),S(this,dt,t.drawLayer.highlightOutline(d(this,Jn))),d(this,La)&&(d(this,La).style.clipPath=d(this,Ra)))},ri=new WeakSet,Tl=function({x:t,y:i,width:s,height:r},o){switch(o){case 90:return{x:1-i-r,y:t,width:r,height:s};case 180:return{x:1-t-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-t-s,width:r,height:s}}return{x:t,y:i,width:s,height:r}},KT=function(t){ye._keyboardManager.exec(this,t)},pg=function(t){if(!d(this,Bc))return;const i=window.getSelection();t?i.setPosition(d(this,Bc),d(this,bf)):i.setPosition(d(this,xf),d(this,wf))},Xu=function(){return d(this,jn)?this.rotation:0},ZT=function(){if(d(this,jn))return null;const[t,i]=this.pageDimensions,s=d(this,Ur),r=new Float32Array(s.length*8);let o=0;for(const{x:a,y:l,width:c,height:u}of s){const h=a*t,f=(1-l-u)*i;r[o]=r[o+4]=h,r[o+1]=r[o+3]=f,r[o+2]=r[o+6]=h+c*t,r[o+5]=r[o+7]=f+u*i,o+=8}return r},JT=function(t){return d(this,ki).serialize(t,A(this,re,Xu).call(this))},QT=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},eP=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},k(ye,ri),I(ye,"_defaultColor",null),I(ye,"_defaultOpacity",1),I(ye,"_defaultThickness",12),I(ye,"_l10nPromise"),I(ye,"_type","highlight"),I(ye,"_editorType",ue.HIGHLIGHT),I(ye,"_freeHighlightId",-1),I(ye,"_freeHighlight",null),I(ye,"_freeHighlightClipId","");let dm=ye;var Oa,Da,Sf,Ef,Af,Na,ts,Xs,Qn,Ia,ja,qs,Fa,za,Wr,B,tP,nP,iP,sP,Gb,rP,Xb,oP,aP,lP,cP,uP,No,qb,gg,mg,Pl,Yb,yg,fr,hP,Kb,dP,fP,Zb,vg,qu;const Ue=class Ue extends we{constructor(t){super({...t,name:"inkEditor"});k(this,B);k(this,Oa,0);k(this,Da,0);k(this,Sf,this.canvasPointermove.bind(this));k(this,Ef,this.canvasPointerleave.bind(this));k(this,Af,this.canvasPointerup.bind(this));k(this,Na,this.canvasPointerdown.bind(this));k(this,ts,null);k(this,Xs,new Path2D);k(this,Qn,!1);k(this,Ia,!1);k(this,ja,!1);k(this,qs,null);k(this,Fa,0);k(this,za,0);k(this,Wr,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){we.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case ee.INK_THICKNESS:Ue._defaultThickness=i;break;case ee.INK_COLOR:Ue._defaultColor=i;break;case ee.INK_OPACITY:Ue._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case ee.INK_THICKNESS:A(this,B,tP).call(this,i);break;case ee.INK_COLOR:A(this,B,nP).call(this,i);break;case ee.INK_OPACITY:A(this,B,iP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ee.INK_THICKNESS,Ue._defaultThickness],[ee.INK_COLOR,Ue._defaultColor||we._defaultLineColor],[ee.INK_OPACITY,Math.round(Ue._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ee.INK_THICKNESS,this.thickness||Ue._defaultThickness],[ee.INK_COLOR,this.color||Ue._defaultColor||we._defaultLineColor],[ee.INK_OPACITY,Math.round(100*(this.opacity??Ue._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,B,gg).call(this),A(this,B,mg).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,B,Pl).call(this)),A(this,B,qu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,ts)&&(clearTimeout(d(this,ts)),S(this,ts,null)),(t=d(this,qs))==null||t.disconnect(),S(this,qs,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,s=this.width*t,r=this.height*i;this.setDimensions(s,r)}enableEditMode(){d(this,Qn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",d(this,Na),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",d(this,Na)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Qn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,Qn,!0),this.div.classList.add("disabled"),A(this,B,qu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||d(this,Qn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,B,rP).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,B,Xb).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,B,qb).call(this,t)}canvasPointerleave(t){A(this,B,qb).call(this,t)}get isResizable(){return!this.isEmpty()&&d(this,Qn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,o,a]=A(this,B,sP).call(this);if(this.setAt(s,r,0,0),this.setDims(o,a),A(this,B,gg).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,i*c,this.width*l,this.height*c),S(this,ja,!0),A(this,B,Pl).call(this),this.setDims(this.width*l,this.height*c),A(this,B,No).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,B,mg).call(this),this.div}setDimensions(t,i){const s=Math.round(t),r=Math.round(i);if(d(this,Fa)===s&&d(this,za)===r)return;S(this,Fa,s),S(this,za,r),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),d(this,Qn)&&A(this,B,Yb).call(this,t,i),A(this,B,Pl).call(this),A(this,B,No).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,s){var b,y,x;if(t instanceof MT)return null;const r=super.deserialize(t,i,s);r.thickness=t.thickness,r.color=Y.makeHexColor(...t.color),r.opacity=t.opacity;const[o,a]=r.pageDimensions,l=r.width*o,c=r.height*a,u=r.parentScale,h=t.thickness/2;S(r,Qn,!0),S(r,Fa,Math.round(l)),S(r,za,Math.round(c));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:w}of f){w=A(b=Ue,fr,dP).call(b,w,p,g);const _=[];r.paths.push(_);let E=u*(w[0]-h),C=u*(w[1]-h);for(let P=2,L=w.length;P<L;P+=6){const M=u*(w[P]-h),N=u*(w[P+1]-h),z=u*(w[P+2]-h),$=u*(w[P+3]-h),G=u*(w[P+4]-h),W=u*(w[P+5]-h);_.push([[E,C],[M,N],[z,$],[G,W]]),E=G,C=W}const T=A(this,fr,hP).call(this,_);r.bezierPath2D.push(T)}const m=A(y=r,B,Zb).call(y);return S(r,Da,Math.max(we.MIN_SIZE,m[2]-m[0])),S(r,Oa,Math.max(we.MIN_SIZE,m[3]-m[1])),A(x=r,B,Yb).call(x,l,c),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=we._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ue.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:A(this,B,fP).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Oa=new WeakMap,Da=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,Af=new WeakMap,Na=new WeakMap,ts=new WeakMap,Xs=new WeakMap,Qn=new WeakMap,Ia=new WeakMap,ja=new WeakMap,qs=new WeakMap,Fa=new WeakMap,za=new WeakMap,Wr=new WeakMap,B=new WeakSet,tP=function(t){const i=r=>{this.thickness=r,A(this,B,qu).call(this)},s=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},nP=function(t){const i=r=>{this.color=r,A(this,B,No).call(this)},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iP=function(t){const i=r=>{this.opacity=r,A(this,B,No).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},sP=function(){const{parentRotation:t,parentDimensions:[i,s]}=this;switch(t){case 90:return[0,s,s,i];case 180:return[i,s,i,s];case 270:return[i,0,s,i];default:return[0,0,i,s]}},Gb=function(){const{ctx:t,color:i,opacity:s,thickness:r,parentScale:o,scaleFactor:a}=this;t.lineWidth=r*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${vF(s)}`},rP=function(t,i){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",kn,{signal:s}),this.canvas.addEventListener("pointerleave",d(this,Ef),{signal:s}),this.canvas.addEventListener("pointermove",d(this,Sf),{signal:s}),this.canvas.addEventListener("pointerup",d(this,Af),{signal:s}),this.canvas.removeEventListener("pointerdown",d(this,Na)),this.isEditing=!0,d(this,ja)||(S(this,ja,!0),A(this,B,Pl).call(this),this.thickness||(this.thickness=Ue._defaultThickness),this.color||(this.color=Ue._defaultColor||we._defaultLineColor),this.opacity??(this.opacity=Ue._defaultOpacity)),this.currentPath.push([t,i]),S(this,Ia,!1),A(this,B,Gb).call(this),S(this,Wr,()=>{A(this,B,lP).call(this),d(this,Wr)&&window.requestAnimationFrame(d(this,Wr))}),window.requestAnimationFrame(d(this,Wr))},Xb=function(t,i){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&i===r)return;const o=this.currentPath;let a=d(this,Xs);if(o.push([t,i]),S(this,Ia,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(S(this,Xs,a=new Path2D),a.moveTo(...o[0])),A(this,B,cP).call(this,a,...o.at(-3),...o.at(-2),t,i)},oP=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);d(this,Xs).lineTo(...t)},aP=function(t,i){S(this,Wr,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),A(this,B,Xb).call(this,t,i),A(this,B,oP).call(this);let s;if(this.currentPath.length!==1)s=A(this,B,uP).call(this);else{const c=[t,i];s=[[c,c.slice(),c.slice(),c]]}const r=d(this,Xs),o=this.currentPath;this.currentPath=[],S(this,Xs,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,B,gg).call(this),A(this,B,mg).call(this)),A(this,B,qu).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},lP=function(){if(!d(this,Ia))return;S(this,Ia,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),s=i.map(a=>a[0]),r=i.map(a=>a[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(d(this,Xs)),o.restore()},cP=function(t,i,s,r,o,a,l){const c=(i+r)/2,u=(s+o)/2,h=(r+a)/2,f=(o+l)/2;t.bezierCurveTo(c+2*(r-c)/3,u+2*(o-u)/3,h+2*(r-h)/3,f+2*(o-f)/3,h,f)},uP=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let s,[r,o]=t[0];for(s=1;s<t.length-2;s++){const[p,g]=t[s],[m,b]=t[s+1],y=(p+m)/2,x=(g+b)/2,w=[r+2*(p-r)/3,o+2*(g-o)/3],_=[y+2*(p-y)/3,x+2*(g-x)/3];i.push([[r,o],w,_,[y,x]]),[r,o]=[y,x]}const[a,l]=t[s],[c,u]=t[s+1],h=[r+2*(a-r)/3,o+2*(l-o)/3],f=[c+2*(a-c)/3,u+2*(l-u)/3];return i.push([[r,o],h,f,[c,u]]),i},No=function(){if(this.isEmpty()){A(this,B,yg).call(this);return}A(this,B,Gb).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),A(this,B,yg).call(this);for(const s of this.bezierPath2D)i.stroke(s)},qb=function(t){this.canvas.removeEventListener("pointerleave",d(this,Ef)),this.canvas.removeEventListener("pointermove",d(this,Sf)),this.canvas.removeEventListener("pointerup",d(this,Af)),this.canvas.addEventListener("pointerdown",d(this,Na),{signal:this._uiManager._signal}),d(this,ts)&&clearTimeout(d(this,ts)),S(this,ts,setTimeout(()=>{S(this,ts,null),this.canvas.removeEventListener("contextmenu",kn)},10)),A(this,B,aP).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},gg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},mg=function(){S(this,qs,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),d(this,qs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,qs))==null||t.disconnect(),S(this,qs,null)},{once:!0})},Pl=function(){if(!d(this,ja))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),A(this,B,yg).call(this)},Yb=function(t,i){const s=A(this,B,vg).call(this),r=(t-s)/d(this,Da),o=(i-s)/d(this,Oa);this.scaleFactor=Math.min(r,o)},yg=function(){const t=A(this,B,vg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},fr=new WeakSet,hP=function(t){const i=new Path2D;for(let s=0,r=t.length;s<r;s++){const[o,a,l,c]=t[s];s===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return i},Kb=function(t,i,s){const[r,o,a,l]=i;switch(s){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+r,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},dP=function(t,i,s){const[r,o,a,l]=i;switch(s){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-r}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},fP=function(t,i,s,r){var u,h;const o=[],a=this.thickness/2,l=t*i+a,c=t*s+a;for(const f of this.paths){const p=[],g=[];for(let m=0,b=f.length;m<b;m++){const[y,x,w,_]=f[m];if(y[0]===_[0]&&y[1]===_[1]&&b===1){const $=t*y[0]+l,G=t*y[1]+c;p.push($,G),g.push($,G);break}const E=t*y[0]+l,C=t*y[1]+c,T=t*x[0]+l,P=t*x[1]+c,L=t*w[0]+l,M=t*w[1]+c,N=t*_[0]+l,z=t*_[1]+c;m===0&&(p.push(E,C),g.push(E,C)),p.push(T,P,L,M,N,z),g.push(T,P),m===b-1&&g.push(N,z)}o.push({bezier:A(u=Ue,fr,Kb).call(u,p,r,this.rotation),points:A(h=Ue,fr,Kb).call(h,g,r,this.rotation)})}return o},Zb=function(){let t=1/0,i=-1/0,s=1/0,r=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=Y.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),s=Math.min(s,h[1]),i=Math.max(i,h[2]),r=Math.max(r,h[3])}return[t,s,i,r]},vg=function(){return d(this,Qn)?Math.ceil(this.thickness*this.parentScale):0},qu=function(t=!1){if(this.isEmpty())return;if(!d(this,Qn)){A(this,B,No).call(this);return}const i=A(this,B,Zb).call(this),s=A(this,B,vg).call(this);S(this,Da,Math.max(we.MIN_SIZE,i[2]-i[0])),S(this,Oa,Math.max(we.MIN_SIZE,i[3]-i[1]));const r=Math.ceil(s+d(this,Da)*this.scaleFactor),o=Math.ceil(s+d(this,Oa)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=r/a,this.height=o/l,this.setAspectRatio(r,o);const c=this.translationX,u=this.translationY;this.translationX=-i[0],this.translationY=-i[1],A(this,B,Pl).call(this),A(this,B,No).call(this),S(this,Fa,r),S(this,za,o),this.setDims(r,o);const h=t?s/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},k(Ue,fr),I(Ue,"_defaultColor",null),I(Ue,"_defaultOpacity",1),I(Ue,"_defaultThickness",1),I(Ue,"_type","ink"),I(Ue,"_editorType",ue.INK);let $b=Ue;var Mt,Ot,Vr,Ys,$r,$c,ns,Ks,is,Ci,kf,ge,Yu,Ku,bg,Qb,pP,gP,ex,xg,mP;const bh=class bh extends we{constructor(t){super({...t,name:"stampEditor"});k(this,ge);k(this,Mt,null);k(this,Ot,null);k(this,Vr,null);k(this,Ys,null);k(this,$r,null);k(this,$c,"");k(this,ns,null);k(this,Ks,null);k(this,is,null);k(this,Ci,!1);k(this,kf,!1);S(this,Ys,t.bitmapUrl),S(this,$r,t.bitmapFile)}static initialize(t,i){we.initialize(t,i)}static get supportedTypes(){return de(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return de(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(ue.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;d(this,Ot)&&(S(this,Mt,null),this._uiManager.imageManager.deleteId(d(this,Ot)),(t=d(this,ns))==null||t.remove(),S(this,ns,null),(i=d(this,Ks))==null||i.disconnect(),S(this,Ks,null),d(this,is)&&(clearTimeout(d(this,is)),S(this,is,null))),super.remove()}rebuild(){if(!this.parent){d(this,Ot)&&A(this,ge,bg).call(this);return}super.rebuild(),this.div!==null&&(d(this,Ot)&&d(this,ns)===null&&A(this,ge,bg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,Vr)||d(this,Mt)||d(this,Ys)||d(this,$r)||d(this,Ot))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),d(this,Mt)?A(this,ge,Qb).call(this):A(this,ge,bg).call(this),this.width){const[s,r]=this.parentDimensions;this.setAt(t*s,i*r,this.width*s,this.height*r)}return this.div}getImageForAltText(){return d(this,ns)}static deserialize(t,i,s){if(t instanceof OT)return null;const r=super.deserialize(t,i,s),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:u}=t;l&&s.imageManager.isValidId(l)?S(r,Ot,l):S(r,Ys,a),S(r,Ci,c);const[h,f]=r.pageDimensions;return r.width=(o[2]-o[0])/h,r.height=(o[3]-o[1])/f,u&&(r.altTextData=u),r}serialize(t=!1,i=null){if(this.isEmpty())return null;const s={annotationType:ue.STAMP,bitmapId:d(this,Ot),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,Ci),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=A(this,ge,xg).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:r,altText:o}=this.altTextData;if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),i===null)return s;i.stamps||(i.stamps=new Map);const a=d(this,Ci)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(d(this,Ot)))i.stamps.set(d(this,Ot),{area:a,serialized:s}),s.bitmap=A(this,ge,xg).call(this,!1);else if(d(this,Ci)){const l=i.stamps.get(d(this,Ot));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,ge,xg).call(this,!1))}return s}};Mt=new WeakMap,Ot=new WeakMap,Vr=new WeakMap,Ys=new WeakMap,$r=new WeakMap,$c=new WeakMap,ns=new WeakMap,Ks=new WeakMap,is=new WeakMap,Ci=new WeakMap,kf=new WeakMap,ge=new WeakSet,Yu=function(t,i=!1){if(!t){this.remove();return}S(this,Mt,t.bitmap),i||(S(this,Ot,t.id),S(this,Ci,t.isSvg)),t.file&&S(this,$c,t.file.name),A(this,ge,Qb).call(this)},Ku=function(){S(this,Vr,null),this._uiManager.enableWaiting(!1),d(this,ns)&&this.div.focus()},bg=function(){if(d(this,Ot)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,Ot)).then(s=>A(this,ge,Yu).call(this,s,!0)).finally(()=>A(this,ge,Ku).call(this));return}if(d(this,Ys)){const s=d(this,Ys);S(this,Ys,null),this._uiManager.enableWaiting(!0),S(this,Vr,this._uiManager.imageManager.getFromUrl(s).then(r=>A(this,ge,Yu).call(this,r)).finally(()=>A(this,ge,Ku).call(this)));return}if(d(this,$r)){const s=d(this,$r);S(this,$r,null),this._uiManager.enableWaiting(!0),S(this,Vr,this._uiManager.imageManager.getFromFile(s).then(r=>A(this,ge,Yu).call(this,r)).finally(()=>A(this,ge,Ku).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=bh.supportedTypesStr;const i=this._uiManager._signal;S(this,Vr,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,ge,Yu).call(this,r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>A(this,ge,Ku).call(this))),t.click()},Qb=function(){const{div:t}=this;let{width:i,height:s}=d(this,Mt);const[r,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>a*r||s>a*o){const h=Math.min(a*r/i,a*o/s);i*=h,s*=h}const[l,c]=this.parentDimensions;this.setDims(i*l/r,s*c/o),this._uiManager.enableWaiting(!1);const u=S(this,ns,document.createElement("canvas"));t.append(u),t.hidden=!1,A(this,ge,ex).call(this,i,s),A(this,ge,mP).call(this),d(this,kf)||(this.parent.addUndoableEditor(this),S(this,kf,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,$c)&&u.setAttribute("aria-label",d(this,$c))},pP=function(t,i){var a;const[s,r]=this.parentDimensions;this.width=t/s,this.height=i/r,this.setDims(t,i),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,is)!==null&&clearTimeout(d(this,is)),S(this,is,setTimeout(()=>{S(this,is,null),A(this,ge,ex).call(this,t,i)},200))},gP=function(t,i){const{width:s,height:r}=d(this,Mt);let o=s,a=r,l=d(this,Mt);for(;o>2*t||a>2*i;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},ex=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const s=d(this,ns);if(!s||s.width===t&&s.height===i)return;s.width=t,s.height=i;const r=d(this,Ci)?d(this,Mt):A(this,ge,gP).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(r,0,0,r.width,r.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const o=s.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(r,0,0,r.width,r.height,0,0,t,i)},xg=function(t){if(t){if(d(this,Ci)){const r=this._uiManager.imageManager.getSvgUrl(d(this,Ot));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,Mt),i.getContext("2d").drawImage(d(this,Mt),0,0),i.toDataURL()}if(d(this,Ci)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*go.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*go.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(d(this,Mt),0,0,d(this,Mt).width,d(this,Mt).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(d(this,Mt))},mP=function(){this._uiManager._signal&&(S(this,Ks,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&A(this,ge,pP).call(this,i.width,i.height)})),d(this,Ks).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,Ks))==null||t.disconnect(),S(this,Ks,null)},{once:!0}))},I(bh,"_type","stamp"),I(bh,"_editorType",ue.STAMP);let Jb=bh;var Ha,Gc,ss,Ba,Zs,Js,Qs,Fn,Gr,Xc,qc,tn,Z,Xr,It,yP,nx,ix,sx,wg;const di=class di{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:s,annotationLayer:r,drawLayer:o,textLayer:a,viewport:l,l10n:c}){k(this,It);k(this,Ha);k(this,Gc,!1);k(this,ss,null);k(this,Ba,null);k(this,Zs,null);k(this,Js,null);k(this,Qs,null);k(this,Fn,new Map);k(this,Gr,!1);k(this,Xc,!1);k(this,qc,!1);k(this,tn,null);k(this,Z);const u=[...d(di,Xr).values()];if(!di._initialized){di._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),S(this,Z,e),this.pageIndex=t,this.div=i,S(this,Ha,s),S(this,ss,r),this.viewport=l,S(this,tn,a),this.drawLayer=o,d(this,Z).addLayer(this)}get isEmpty(){return d(this,Fn).size===0}get isInvisible(){return this.isEmpty&&d(this,Z).getMode()===ue.NONE}updateToolbar(e){d(this,Z).updateToolbar(e)}updateMode(e=d(this,Z).getMode()){switch(A(this,It,wg).call(this),e){case ue.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ue.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ue.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of d(di,Xr).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=d(this,tn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(d(this,Z).getMode()!==ue.INK)return;if(!e){for(const i of d(this,Fn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){d(this,Z).setEditingState(e)}addCommands(e){d(this,Z).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=d(this,ss))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of d(this,Fn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,Z).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!d(this,ss))return;const t=d(this,ss).getEditableAnnotations();for(const i of t){if(i.hide(),d(this,Z).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;S(this,qc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of d(this,Fn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(d(this,ss)){const r=d(this,ss).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(d(this,Z).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(d(this,Z).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,It,wg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of d(di,Xr).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,qc,!1)}getEditableAnnotation(e){var t;return((t=d(this,ss))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,Z).getActive()!==e&&d(this,Z).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=d(this,tn))!=null&&e.div&&!d(this,Js)&&(S(this,Js,A(this,It,yP).bind(this)),d(this,tn).div.addEventListener("pointerdown",d(this,Js),{signal:d(this,Z)._signal}),d(this,tn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,tn))!=null&&e.div&&d(this,Js)&&(d(this,tn).div.removeEventListener("pointerdown",d(this,Js)),S(this,Js,null),d(this,tn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Zs))return;const e=d(this,Z)._signal;S(this,Zs,this.pointerdown.bind(this)),S(this,Ba,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",d(this,Zs),{signal:e}),this.div.addEventListener("pointerup",d(this,Ba),{signal:e})}disableClick(){d(this,Zs)&&(this.div.removeEventListener("pointerdown",d(this,Zs)),this.div.removeEventListener("pointerup",d(this,Ba)),S(this,Zs,null),S(this,Ba,null))}attach(e){d(this,Fn).set(e.id,e);const{annotationElementId:t}=e;t&&d(this,Z).isDeletedAnnotationElement(t)&&d(this,Z).removeDeletedAnnotationElement(e)}detach(e){var t;d(this,Fn).delete(e.id),(t=d(this,Ha))==null||t.removePointerInTextLayer(e.contentDiv),!d(this,qc)&&e.annotationElementId&&d(this,Z).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,Z).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,d(this,Xc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,Z).addDeletedAnnotationElement(e.annotationElementId),we.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,Z).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),d(this,Z).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!d(this,Qs)&&(e._focusEventsAllowed=!1,S(this,Qs,setTimeout(()=>{S(this,Qs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,Z)._signal}),t.focus())},0))),e._structTreeParentId=(i=d(this,Ha))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return d(this,Z).getId()}get _signal(){return d(this,Z)._signal}canCreateNewEmptyEditor(){var e;return(e=d(this,It,nx))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){d(this,Z).updateToolbar(e),d(this,Z).updateMode(e);const{offsetX:i,offsetY:s}=A(this,It,sx).call(this),r=this.getNextId(),o=A(this,It,ix).call(this,{parent:this,id:r,x:i,y:s,uiManager:d(this,Z),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=d(di,Xr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,d(this,Z)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),r=A(this,It,ix).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:d(this,Z),isCentered:t,...i});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,It,sx).call(this),!0)}setSelected(e){d(this,Z).setSelected(e)}toggleSelected(e){d(this,Z).toggleSelected(e)}isSelected(e){return d(this,Z).isSelected(e)}unselect(e){d(this,Z).unselect(e)}pointerup(e){const{isMac:t}=xn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&d(this,Gr)){if(S(this,Gr,!1),!d(this,Gc)){S(this,Gc,!0);return}if(d(this,Z).getMode()===ue.STAMP){d(this,Z).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(d(this,Z).getMode()===ue.HIGHLIGHT&&this.enableTextSelection(),d(this,Gr)){S(this,Gr,!1);return}const{isMac:t}=xn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;S(this,Gr,!0);const i=d(this,Z).getActive();S(this,Gc,!i||i.isEmpty())}findNewParent(e,t,i){const s=d(this,Z).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=d(this,Z).getActive())==null?void 0:e.parent)===this&&(d(this,Z).commitOrRemove(),d(this,Z).setActiveEditor(null)),d(this,Qs)&&(clearTimeout(d(this,Qs)),S(this,Qs,null));for(const i of d(this,Fn).values())(t=d(this,Ha))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,Fn).clear(),d(this,Z).removeLayer(this)}render({viewport:e}){this.viewport=e,el(this.div,e);for(const t of d(this,Z).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){d(this,Z).commitOrRemove(),A(this,It,wg).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,el(this.div,{rotation:i}),t!==i)for(const s of d(this,Fn).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return d(this,Z).viewParameters.realScale}};Ha=new WeakMap,Gc=new WeakMap,ss=new WeakMap,Ba=new WeakMap,Zs=new WeakMap,Js=new WeakMap,Qs=new WeakMap,Fn=new WeakMap,Gr=new WeakMap,Xc=new WeakMap,qc=new WeakMap,tn=new WeakMap,Z=new WeakMap,Xr=new WeakMap,It=new WeakSet,yP=function(e){if(d(this,Z).unselectAll(),e.target===d(this,tn).div){const{isMac:t}=xn.platform;if(e.button!==0||e.ctrlKey&&t)return;d(this,Z).showAllEditors("highlight",!0,!0),d(this,tn).div.classList.add("free"),dm.startHighlighting(this,d(this,Z).direction==="ltr",e),d(this,tn).div.addEventListener("pointerup",()=>{d(this,tn).div.classList.remove("free")},{once:!0,signal:d(this,Z)._signal}),e.preventDefault()}},nx=function(){return d(di,Xr).get(d(this,Z).getMode())},ix=function(e){const t=d(this,It,nx);return t?new t.prototype.constructor(e):null},sx=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+s),c=(r+a)/2-e,u=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:f}},wg=function(){S(this,Xc,!0);for(const e of d(this,Fn).values())e.isEmpty()&&e.remove();S(this,Xc,!1)},I(di,"_initialized",!1),k(di,Xr,new Map([Db,$b,Jb,dm].map(e=>[e._editorType,e])));let tx=di;var rs,Cf,ft,qr,Tf,ox,ll,ax,vP;const Ct=class Ct{constructor({pageIndex:e}){k(this,ll);k(this,rs,null);k(this,Cf,0);k(this,ft,new Map);k(this,qr,new Map);this.pageIndex=e}setParent(e){if(!d(this,rs)){S(this,rs,e);return}if(d(this,rs)!==e){if(d(this,ft).size>0)for(const t of d(this,ft).values())t.remove(),e.append(t);S(this,rs,e)}}static get _svgFactory(){return de(this,"_svgFactory",new D1)}highlight(e,t,i,s=!1){const r=Cn(this,Cf)._++,o=A(this,ll,ax).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Ct._svgFactory.createElement("defs");o.append(a);const l=Ct._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),s&&d(this,qr).set(r,l);const u=A(this,ll,vP).call(this,a,c),h=Ct._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),h.setAttribute("href",`#${c}`),d(this,ft).set(r,o),{id:r,clipPathId:`url(#${u})`}}highlightOutline(e){const t=Cn(this,Cf)._++,i=A(this,ll,ax).call(this,e.box);i.classList.add("highlightOutline");const s=Ct._svgFactory.createElement("defs");i.append(s);const r=Ct._svgFactory.createElement("path");s.append(r);const o=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",o),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const u=Ct._svgFactory.createElement("mask");s.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Ct._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Ct._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Ct._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),d(this,ft).set(t,i),t}finalizeLine(e,t){const i=d(this,qr).get(e);d(this,qr).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){d(this,ft).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),d(this,qr).delete(e)}updatePath(e,t){d(this,qr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;A(i=Ct,Tf,ox).call(i,d(this,ft).get(e),t)}show(e,t){d(this,ft).get(e).classList.toggle("hidden",!t)}rotate(e,t){d(this,ft).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){d(this,ft).get(e).setAttribute("fill",t)}changeOpacity(e,t){d(this,ft).get(e).setAttribute("fill-opacity",t)}addClass(e,t){d(this,ft).get(e).classList.add(t)}removeClass(e,t){d(this,ft).get(e).classList.remove(t)}remove(e){d(this,rs)!==null&&(d(this,ft).get(e).remove(),d(this,ft).delete(e))}destroy(){S(this,rs,null);for(const e of d(this,ft).values())e.remove();d(this,ft).clear()}};rs=new WeakMap,Cf=new WeakMap,ft=new WeakMap,qr=new WeakMap,Tf=new WeakSet,ox=function(e,{x:t=0,y:i=0,width:s=1,height:r=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},ll=new WeakSet,ax=function(e){var i;const t=Ct._svgFactory.create(1,1,!0);return d(this,rs).append(t),t.setAttribute("aria-hidden",!0),A(i=Ct,Tf,ox).call(i,t,e),t},vP=function(e,t){const i=Ct._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Ct._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),s},k(Ct,Tf);let rx=Ct;var Y3=Q.AbortException,K3=Q.AnnotationEditorLayer,Z3=Q.AnnotationEditorParamsType,J3=Q.AnnotationEditorType,Q3=Q.AnnotationEditorUIManager,bP=Q.AnnotationLayer,xP=Q.AnnotationMode,e4=Q.CMapCompressionType,t4=Q.ColorPicker,n4=Q.DOMSVGFactory,i4=Q.DrawLayer,s4=Q.FeatureTest,U1=Q.GlobalWorkerOptions,r4=Q.ImageKind,o4=Q.InvalidPDFException,a4=Q.MissingPDFException,l4=Q.OPS,c4=Q.Outliner,u4=Q.PDFDataRangeTransport,h4=Q.PDFDateString,d4=Q.PDFWorker,f4=Q.PasswordResponses,p4=Q.PermissionFlag,g4=Q.PixelsPerInch,m4=Q.RenderingCancelledException,wP=Q.TextLayer,y4=Q.UnexpectedResponseException,v4=Q.Util,b4=Q.VerbosityLevel,x4=Q.XfaLayer,w4=Q.build,_4=Q.createValidAbsoluteUrl,S4=Q.fetchData,_P=Q.getDocument,E4=Q.getFilenameFromUrl,A4=Q.getPdfFilenameFromUrl,k4=Q.getXfaPageViewport,C4=Q.isDataScheme,T4=Q.isPdfFile,P4=Q.noContextMenu,R4=Q.normalizeUnicode,L4=Q.renderTextLayer,M4=Q.setLayerDimensions,O4=Q.shadow,D4=Q.updateTextLayer,N4=Q.version;const I4=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Y3,AnnotationEditorLayer:K3,AnnotationEditorParamsType:Z3,AnnotationEditorType:J3,AnnotationEditorUIManager:Q3,AnnotationLayer:bP,AnnotationMode:xP,CMapCompressionType:e4,ColorPicker:t4,DOMSVGFactory:n4,DrawLayer:i4,FeatureTest:s4,GlobalWorkerOptions:U1,ImageKind:r4,InvalidPDFException:o4,MissingPDFException:a4,OPS:l4,Outliner:c4,PDFDataRangeTransport:u4,PDFDateString:h4,PDFWorker:d4,PasswordResponses:f4,PermissionFlag:p4,PixelsPerInch:g4,RenderingCancelledException:m4,TextLayer:wP,UnexpectedResponseException:y4,Util:v4,VerbosityLevel:b4,XfaLayer:x4,build:w4,createValidAbsoluteUrl:_4,fetchData:S4,getDocument:_P,getFilenameFromUrl:E4,getPdfFilenameFromUrl:A4,getXfaPageViewport:k4,isDataScheme:C4,isPdfFile:T4,noContextMenu:P4,normalizeUnicode:R4,renderTextLayer:L4,setLayerDimensions:M4,shadow:O4,updateTextLayer:D4,version:N4},Symbol.toStringTag,{value:"Module"}));var xt=function(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,r;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))},j4=["onCopy","onCut","onPaste"],F4=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],z4=["onFocus","onBlur"],H4=["onInput","onInvalid","onReset","onSubmit"],B4=["onLoad","onError"],U4=["onKeyDown","onKeyPress","onKeyUp"],W4=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],V4=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],$4=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],G4=["onSelect"],X4=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],q4=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Y4=["onScroll"],K4=["onWheel"],Z4=["onAnimationStart","onAnimationEnd","onAnimationIteration"],J4=["onTransitionEnd"],Q4=["onToggle"],e5=["onChange"],t5=xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt(xt([],j4,!0),F4,!0),z4,!0),H4,!0),B4,!0),U4,!0),W4,!0),V4,!0),$4,!0),G4,!0),X4,!0),q4,!0),Y4,!0),K4,!0),Z4,!0),J4,!0),e5,!0),Q4,!0);function SP(n,e){var t={};return t5.forEach(function(i){var s=n[i];s&&(e?t[i]=function(r){return s(r,e(i))}:t[i]=s)}),t}function Wf(n){var e=!1,t=new Promise(function(i,s){n.then(function(r){return!e&&i(r)}).catch(function(r){return!e&&s(r)})});return{promise:t,cancel:function(){e=!0}}}function EP(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=EP(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function _0(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=EP(n))&&(i&&(i+=" "),i+=e);return i}var n5="Invariant failed";function Re(n,e){if(!n)throw new Error(n5)}var i5=function(){},s5=i5;const qt=fA(s5);var CS=Object.prototype.hasOwnProperty;function TS(n,e,t){for(t of n.keys())if(Zl(t,e))return t}function Zl(n,e){var t,i,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&Zl(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=TS(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=TS(e,s),!s)||!Zl(i[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(CS.call(n,t)&&++i&&!CS.call(e,t)||!(t in e)||!Zl(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const AP=R.createContext(null);function Jl({children:n,type:e}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const r5="noopener noreferrer nofollow";class o5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Re(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Re(this.pdfDocument),Re(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Re(Array.isArray(t));const i=t[0];new Promise(s=>{Re(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{Re(!1)}):typeof i=="number"?s(i):Re(!1)}).then(s=>{const r=s+1;Re(this.pdfViewer),Re(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Re(this.pdfViewer),Re(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||r5,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},S0=typeof document<"u",kP=S0&&window.location.protocol==="file:";function a5(n){return typeof n<"u"}function Ao(n){return a5(n)&&n!==null}function l5(n){return typeof n=="string"}function c5(n){return n instanceof ArrayBuffer}function u5(n){return Re(S0),n instanceof Blob}function lx(n){return l5(n)&&/^data:/.test(n)}function RS(n){Re(lx(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function h5(){return S0&&window.devicePixelRatio||1}const CP="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function LS(){qt(!kP,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${CP}`)}function d5(){qt(!kP,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${CP}`)}function il(n){n!=null&&n.cancel&&n.cancel()}function cx(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function f5(n){return n.name==="RenderingCancelledException"}function p5(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function g5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function nu(){return R.useReducer(g5,{value:void 0,error:void 0})}var m5=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},MS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const{PDFDataRangeTransport:y5}=I4,v5=(n,e)=>{switch(e){case PS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case PS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function OS(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const b5=R.forwardRef(function(e,t){var{children:i,className:s,error:r="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:m,onLoadSuccess:b,onPassword:y=v5,onSourceError:x,onSourceSuccess:w,options:_,renderMode:E,rotate:C}=e,T=MS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,L]=nu(),{value:M,error:N}=P,[z,$]=nu(),{value:G,error:W}=z,q=R.useRef(new o5),F=R.useRef([]),D=R.useRef(void 0),U=R.useRef(void 0);l&&l!==D.current&&OS(l)&&(qt(!Zl(l,D.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),D.current=l),_&&_!==U.current&&(qt(!Zl(_,U.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),U.current=_);const K=R.useRef({scrollPageIntoView:Me=>{const{dest:st,pageNumber:Ft,pageIndex:bt=Ft-1}=Me;if(p){p({dest:st,pageIndex:bt,pageNumber:Ft});return}const mr=F.current[bt];if(mr){mr.scrollIntoView();return}qt(!1,`An internal link leading to page ${Ft} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(t,()=>({linkService:q,pages:F,viewer:K}),[]);function ae(){w&&w()}function J(){N&&(qt(!1,N.toString()),x&&x(N))}function ce(){L({type:"RESET"})}R.useEffect(ce,[l,L]);const Ee=R.useCallback(()=>m5(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return lx(l)?{data:RS(l)}:(LS(),{url:l});if(l instanceof y5)return{range:l};if(c5(l))return{data:l};if(S0&&u5(l))return{data:yield p5(l)};if(Re(typeof l=="object"),Re(OS(l)),"url"in l&&typeof l.url=="string"){if(lx(l.url)){const{url:Me}=l,st=MS(l,["url"]),Ft=RS(Me);return Object.assign({data:Ft},st)}LS()}return l}),[l]);R.useEffect(()=>{const Me=Wf(Ee());return Me.promise.then(st=>{L({type:"RESOLVE",value:st})}).catch(st=>{L({type:"REJECT",error:st})}),()=>{il(Me)}},[Ee,L]),R.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){J();return}ae()}},[M]);function Be(){G&&(b&&b(G),F.current=new Array(G.numPages),q.current.setDocument(G))}function me(){W&&(qt(!1,W.toString()),g&&g(W))}R.useEffect(function(){$({type:"RESET"})},[$,M]),R.useEffect(function(){if(!M)return;const st=Object.assign(Object.assign({},M),_),Ft=_P(st);m&&(Ft.onProgress=m),y&&(Ft.onPassword=y);const bt=Ft;return bt.promise.then(mr=>{$({type:"RESOLVE",value:mr})}).catch(mr=>{bt.destroyed||$({type:"REJECT",error:mr})}),()=>{bt.destroy()}},[_,$,M]),R.useEffect(()=>{if(!(typeof G>"u")){if(G===!1){me();return}Be()}},[G]),R.useEffect(function(){q.current.setViewer(K.current),q.current.setExternalLinkRel(o),q.current.setExternalLinkTarget(a)},[o,a]);const ve=R.useCallback((Me,st)=>{F.current[Me]=st},[]),hn=R.useCallback(Me=>{delete F.current[Me]},[]),Fi=R.useMemo(()=>({imageResourcesPath:u,linkService:q.current,onItemClick:p,pdf:G,registerPage:ve,renderMode:E,rotate:C,unregisterPage:hn}),[u,p,G,ve,E,C,hn]),qe=R.useMemo(()=>SP(T,()=>G),[T,G]);function du(){return v.jsx(AP.Provider,{value:Fi,children:i})}function fu(){return l?G==null?v.jsx(Jl,{type:"loading",children:typeof h=="function"?h():h}):G===!1?v.jsx(Jl,{type:"error",children:typeof r=="function"?r():r}):du():v.jsx(Jl,{type:"no-data",children:typeof f=="function"?f():f})}return v.jsx("div",Object.assign({className:_0("react-pdf__Document",s),ref:c,style:{"--scale-factor":"1"}},qe,{children:fu()}))});function TP(){return R.useContext(AP)}function PP(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(r){t.forEach(function(o){typeof o=="function"?o(r):o&&(o.current=r)})}}const RP=R.createContext(null),LP={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},x5=/^H(\d+)$/;function w5(n){return n in LP}function E0(n){return"children"in n}function MP(n){return E0(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function _5(n){const e={};if(E0(n)){const{role:t}=n,i=t.match(x5);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(w5(t)){const s=LP[t];s&&(e.role=s)}}return e}function OP(n){const e={};if(E0(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),MP(n)){const[t]=n.children;if(t){const i=OP(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function S5(n){return n?Object.assign(Object.assign({},_5(n)),OP(n)):null}function DP({className:n,node:e}){const t=R.useMemo(()=>S5(e),[e]),i=R.useMemo(()=>!E0(e)||MP(e)?null:e.children.map((s,r)=>v.jsx(DP,{node:s},r)),[e]);return v.jsx("span",Object.assign({className:n},t,{children:i}))}function A0(){return R.useContext(RP)}function E5(){const n=A0();Re(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,s]=nu(),{value:r,error:o}=i,{customTextRenderer:a,page:l}=n;function c(){r&&t&&t(r)}function u(){o&&(qt(!1,o.toString()),e&&e(o))}return R.useEffect(function(){s({type:"RESET"})},[s,l]),R.useEffect(function(){if(a||!l)return;const f=Wf(l.getStructTree()),p=f;return f.promise.then(g=>{s({type:"RESOLVE",value:g})}).catch(g=>{s({type:"REJECT",error:g})}),()=>il(p)},[a,l,s]),R.useEffect(()=>{if(r!==void 0){if(r===!1){u();return}c()}},[r]),r?v.jsx(DP,{className:"react-pdf__Page__structTree structTree",node:r}):null}const DS=xP;function A5(n){const e=A0();Re(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:s,devicePixelRatio:r=h5(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:f}=t,{canvasRef:p}=n;Re(l);const g=R.useRef(null);function m(){l&&a&&a(cx(l,f))}function b(_){f5(_)||(qt(!1,_.toString()),o&&o(_))}const y=R.useMemo(()=>l.getViewport({scale:f*r,rotation:h}),[r,l,h,f]),x=R.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);R.useEffect(function(){if(!l)return;l.cleanup();const{current:E}=g;if(!E)return;E.width=y.width,E.height=y.height,E.style.width=`${Math.floor(x.width)}px`,E.style.height=`${Math.floor(x.height)}px`,E.style.visibility="hidden";const C={annotationMode:c?DS.ENABLE_FORMS:DS.ENABLE,canvasContext:E.getContext("2d",{alpha:!1}),viewport:y};s&&(C.background=s);const T=l.render(C),P=T;return T.promise.then(()=>{E.style.visibility="",m()}).catch(b),()=>il(P)},[s,l,c,y,x]);const w=R.useCallback(()=>{const{current:_}=g;_&&(_.width=0,_.height=0)},[]);return R.useEffect(()=>w,[w]),v.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:PP(p,g),style:{display:"block",userSelect:"none"},children:u?v.jsx(E5,{}):null})}function k5(n){return"str"in n}function C5(){const n=A0();Re(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;Re(o);const[h,f]=nu(),{value:p,error:g}=h,m=R.useRef(null),b=R.useRef(void 0);qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){p&&i&&i(p)}function x(){g&&(qt(!1,g.toString()),t&&t(g))}R.useEffect(function(){f({type:"RESET"})},[o,f]),R.useEffect(function(){if(!o)return;const L=Wf(o.getTextContent()),M=L;return L.promise.then(N=>{f({type:"RESOLVE",value:N})}).catch(N=>{f({type:"REJECT",error:N})}),()=>il(M)},[o,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){x();return}y()}},[p]);const w=R.useCallback(()=>{r&&r()},[r]),_=R.useCallback(P=>{qt(!1,P.toString()),s&&s(P)},[s]);function E(){const P=b.current;P&&P.classList.add("active")}function C(){const P=b.current;P&&P.classList.remove("active")}const T=R.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return R.useLayoutEffect(function(){if(!o||!p)return;const{current:L}=m;if(!L)return;L.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),N={container:L,textContentSource:M,viewport:T},z=new wP(N),$=z;return z.render().then(()=>{const G=document.createElement("div");G.className="endOfContent",L.append(G),b.current=G;const W=L.querySelectorAll('[role="presentation"]');if(e){let q=0;p.items.forEach((F,D)=>{if(!k5(F))return;const U=W[q];if(!U)return;const K=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:D},F));U.innerHTML=K,q+=F.str&&F.hasEOL?2:1})}w()}).catch(_),()=>il($)},[e,_,w,o,a,l,p,T]),v.jsx("div",{className:_0("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:E,ref:m})}function T5(){const n=TP(),e=A0();Re(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:f,scale:p=1}=t;Re(u),Re(c),Re(s);const[g,m]=nu(),{value:b,error:y}=g,x=R.useRef(null);qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){b&&o&&o(b)}function _(){y&&(qt(!1,y.toString()),r&&r(y))}R.useEffect(function(){m({type:"RESET"})},[m,c]),R.useEffect(function(){if(!c)return;const L=Wf(c.getAnnotations()),M=L;return L.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>{il(M)}},[m,c]),R.useEffect(()=>{if(b!==void 0){if(b===!1){_();return}w()}},[b]);function E(){l&&l()}function C(P){qt(!1,`${P}`),a&&a(P)}const T=R.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return R.useEffect(function(){if(!u||!c||!s||!b)return;const{current:L}=x;if(!L)return;const M=T.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:c,viewport:M},z={annotations:b,annotationStorage:u.annotationStorage,div:L,imageResourcesPath:i,linkService:s,page:c,renderForms:h,viewport:M};L.innerHTML="";try{new bP(N).render(z),E()}catch($){C($)}return()=>{}},[b,i,s,c,u,h,T]),v.jsx("div",{className:_0("react-pdf__Page__annotations","annotationLayer"),ref:x})}var P5=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const NS=1;function R5(n){const e=TP(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page…",noData:b="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:E,onGetTextSuccess:C,onLoadError:T,onLoadSuccess:P,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:N,onRenderSuccess:z,onRenderTextLayerError:$,onRenderTextLayerSuccess:G,pageIndex:W,pageNumber:q,pdf:F,registerPage:D,renderAnnotationLayer:U=!0,renderForms:K=!1,renderMode:ae="canvas",renderTextLayer:J=!0,rotate:ce,scale:Ee=NS,unregisterPage:Be,width:me}=t,ve=P5(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[hn,Fi]=nu(),{value:qe,error:du}=hn,fu=R.useRef(null);Re(F);const Me=Ao(q)?q-1:W??null,st=q??(Ao(W)?W+1:null),Ft=ce??(qe?qe.rotate:null),bt=R.useMemo(()=>{if(!qe)return null;let ml=1;const Xf=Ee??NS;if(me||p){const qf=qe.getViewport({scale:1,rotation:Ft});me?ml=me/qf.width:p&&(ml=p/qf.height)}return Xf*ml},[p,qe,Ft,Ee,me]);R.useEffect(function(){return()=>{Ao(Me)&&s&&Be&&Be(Me)}},[s,F,Me,Be]);function mr(){if(P){if(!qe||!bt)return;P(cx(qe,bt))}if(s&&D){if(!Ao(Me)||!fu.current)return;D(Me,fu.current)}}function HR(){du&&(qt(!1,du.toString()),T&&T(du))}R.useEffect(function(){Fi({type:"RESET"})},[Fi,F,Me]),R.useEffect(function(){if(!F||!st)return;const Xf=Wf(F.getPage(st)),qf=Xf;return Xf.promise.then(I0=>{Fi({type:"RESOLVE",value:I0})}).catch(I0=>{Fi({type:"REJECT",error:I0})}),()=>il(qf)},[Fi,F,st]),R.useEffect(()=>{if(qe!==void 0){if(qe===!1){HR();return}mr()}},[qe,bt]);const BR=R.useMemo(()=>qe&&Ao(Me)&&st&&Ao(Ft)&&Ao(bt)?{_className:i,canvasBackground:r,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:E,onGetTextSuccess:C,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:N,onRenderSuccess:z,onRenderTextLayerError:$,onRenderTextLayerSuccess:G,page:qe,pageIndex:Me,pageNumber:st,renderForms:K,renderTextLayer:J,rotate:Ft,scale:bt}:null,[i,r,u,h,y,x,w,_,E,C,L,M,N,z,$,G,qe,Me,st,K,J,Ft,bt]),UR=R.useMemo(()=>SP(ve,()=>qe&&(bt?cx(qe,bt):void 0)),[ve,qe,bt]),Gf=`${Me}@${bt}/${Ft}`;function WR(){switch(ae){case"custom":return Re(c),v.jsx(c,{},`${Gf}_custom`);case"none":return null;case"canvas":default:return v.jsx(A5,{canvasRef:o},`${Gf}_canvas`)}}function VR(){return J?v.jsx(C5,{},`${Gf}_text`):null}function $R(){return U?v.jsx(T5,{},`${Gf}_annotations`):null}function GR(){return v.jsxs(RP.Provider,{value:BR,children:[WR(),VR(),$R(),a]})}function XR(){return st?F===null||qe===void 0||qe===null?v.jsx(Jl,{type:"loading",children:typeof m=="function"?m():m}):F===!1||qe===!1?v.jsx(Jl,{type:"error",children:typeof f=="function"?f():f}):GR():v.jsx(Jl,{type:"no-data",children:typeof b=="function"?b():b})}return v.jsx("div",Object.assign({className:_0(i,l),"data-page-number":st,ref:PP(g,fu),style:{"--scale-factor":`${bt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},UR,{children:XR()}))}d5();U1.workerSrc="pdf.worker.mjs";U1.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.4.168/pdf.worker.min.js";const L5=()=>{const[n,e]=R.useState([]),[t,i]=R.useState([]),[s,r]=R.useState(""),[o,a]=R.useState("all"),[l,c]=R.useState(null),[u,h]=R.useState(null),f=()=>{s.trim()&&(e([...n,{name:s,assets:[]}]),r(""))},p=()=>{if(l){const x=l.name,w=URL.createObjectURL(l),_={name:x,url:w,type:l.type};o==="all"?i([...t,_]):e(n.map(E=>E.name===o?{...E,assets:[...E.assets,_]}:E)),c(null)}},g=x=>{c(x.target.files[0])},m=x=>{h(x)},b=()=>{h(null)},y=[...t,...n.flatMap(x=>x.assets)];return v.jsxs("div",{className:"max-w-6xl mx-auto p-6 mt-[100px] ml-[200px] text-neutral-900",children:[v.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Asset Library"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("input",{type:"text",placeholder:"New folder name...",value:s,onChange:x=>r(x.target.value),className:"w-full p-2 border border-gray-300 rounded mb-2 bg-neutral-200"}),v.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Create Folder"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("select",{value:o,onChange:x=>a(x.target.value),className:"w-full p-2 border border-gray-300 rounded mb-2 bg-neutral-200",children:[v.jsx("option",{value:"all",children:"Upload to All Assets"}),n.map((x,w)=>v.jsxs("option",{value:x.name,children:["Upload to ",x.name]},w))]}),v.jsx("input",{type:"file",onChange:g,className:"w-full p-2 border border-gray-300 rounded mb-2 bg-neutral-200"}),v.jsx("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Upload Asset"})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"All Assets"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map((x,w)=>v.jsx("div",{onClick:()=>m(x),className:"p-4 bg-white border border-gray-300 rounded shadow cursor-pointer",children:x.type.startsWith("image/")?v.jsx("img",{src:x.url,alt:x.name,className:"w-full h-40 object-cover"}):x.type==="application/pdf"?v.jsxs("p",{children:["PDF Document: ",x.name]}):v.jsx("p",{children:x.name})},w))})]}),v.jsx("section",{className:"mb-12",children:n.map((x,w)=>v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:x.name}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.assets.length>0?x.assets.map((_,E)=>v.jsx("div",{onClick:()=>m(_),className:"p-4 bg-white border border-gray-300 rounded shadow cursor-pointer",children:_.type.startsWith("image/")?v.jsx("img",{src:_.url,alt:_.name,className:"w-full h-40 object-cover"}):_.type==="application/pdf"?v.jsxs("p",{children:["PDF Document: ",_.name]}):v.jsx("p",{children:_.name})},E)):v.jsx("p",{className:"text-gray-500",children:"No assets in this folder."})})]},w))}),u&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-4 rounded shadow-lg max-w-3xl w-full",children:[v.jsx("button",{onClick:b,className:"text-red-500 float-right",children:"Close"}),u.type.startsWith("image/")?v.jsx("img",{src:u.url,alt:u.name,className:"w-full h-auto"}):u.type==="application/pdf"?v.jsx(b5,{file:u.url,children:v.jsx(R5,{pageNumber:1})}):v.jsx("p",{children:u.name})]})})]})},M5=un(L5),O5=()=>{const[n,e]=R.useState([]),t=gr();R.useEffect(()=>{(async()=>{try{const o=await ke.get("http://localhost:5000/api/projects/all-projects",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e(o.data.projects)}catch(o){console.error("Error fetching projects:",o)}})()},[]);const i=r=>{console.log(r),t(`/projects/${r}`)},s=()=>{t("/projects/create-project")};return v.jsxs("div",{className:"mx-auto p-4 mt-[90px] ml-[200px] text-neutral-900",children:[v.jsxs("div",{className:"flex flex-row justify-between",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Your Projects"}),v.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md bg-gradient-to-r from-purple-600 to-purple-900",onClick:s,children:"+ Create New Project"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>v.jsxs("div",{className:"border rounded-lg p-4 shadow-md",onClick:()=>i(r._id),children:[v.jsx("img",{src:`http://localhost:5000/uploads/${r.image}`,alt:r.title,className:"w-full h-32 object-cover rounded mb-4"}),v.jsx("h3",{className:"text-xl font-semibold",children:r.title}),v.jsx("p",{className:"text-gray-600",children:r.description})]},r._id))})]})},D5=un(O5);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Vf(n){return n+.5|0}const Jr=(n,e,t)=>Math.max(Math.min(n,t),e);function Zu(n){return Jr(Vf(n*2.55),0,255)}function ho(n){return Jr(Vf(n*255),0,255)}function Ps(n){return Jr(Vf(n/2.55)/100,0,1)}function IS(n){return Jr(Vf(n*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ux=[..."0123456789ABCDEF"],N5=n=>ux[n&15],I5=n=>ux[(n&240)>>4]+ux[n&15],bp=n=>(n&240)>>4===(n&15),j5=n=>bp(n.r)&&bp(n.g)&&bp(n.b)&&bp(n.a);function F5(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&qn[n[1]]*17,g:255&qn[n[2]]*17,b:255&qn[n[3]]*17,a:e===5?qn[n[4]]*17:255}:(e===7||e===9)&&(t={r:qn[n[1]]<<4|qn[n[2]],g:qn[n[3]]<<4|qn[n[4]],b:qn[n[5]]<<4|qn[n[6]],a:e===9?qn[n[7]]<<4|qn[n[8]]:255})),t}const z5=(n,e)=>n<255?e(n):"";function H5(n){var e=j5(n)?N5:I5;return n?"#"+e(n.r)+e(n.g)+e(n.b)+z5(n.a,e):void 0}const B5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NP(n,e,t){const i=e*Math.min(t,1-t),s=(r,o=(r+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function U5(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function W5(n,e,t){const i=NP(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function V5(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function W1(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),o=Math.min(t,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=V5(t,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function V1(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ho)}function $1(n,e,t){return V1(NP,n,e,t)}function $5(n,e,t){return V1(W5,n,e,t)}function G5(n,e,t){return V1(U5,n,e,t)}function IP(n){return(n%360+360)%360}function X5(n){const e=B5.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Zu(+e[5]):ho(+e[5]));const s=IP(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=$5(s,r,o):e[1]==="hsv"?i=G5(s,r,o):i=$1(s,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function q5(n,e){var t=W1(n);t[0]=IP(t[0]+e),t=$1(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Y5(n){if(!n)return;const e=W1(n),t=e[0],i=IS(e[1]),s=IS(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Ps(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const jS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function K5(){const n={},e=Object.keys(FS),t=Object.keys(jS);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<t.length;s++)r=t[s],a=a.replace(r,jS[r]);r=parseInt(FS[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let xp;function Z5(n){xp||(xp=K5(),xp.transparent=[0,0,0,0]);const e=xp[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const J5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Q5(n){const e=J5.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Zu(o):Jr(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Zu(i):Jr(i,0,255)),s=255&(e[4]?Zu(s):Jr(s,0,255)),r=255&(e[6]?Zu(r):Jr(r,0,255)),{r:i,g:s,b:r,a:t}}}function e6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ps(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ky=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function t6(n,e,t){const i=xl(Ps(n.r)),s=xl(Ps(n.g)),r=xl(Ps(n.b));return{r:ho(ky(i+t*(xl(Ps(e.r))-i))),g:ho(ky(s+t*(xl(Ps(e.g))-s))),b:ho(ky(r+t*(xl(Ps(e.b))-r))),a:n.a+t*(e.a-n.a)}}function wp(n,e,t){if(n){let i=W1(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=$1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function jP(n,e){return n&&Object.assign(e||{},n)}function zS(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ho(n[3]))):(e=jP(n,{r:0,g:0,b:0,a:1}),e.a=ho(e.a)),e}function n6(n){return n.charAt(0)==="r"?Q5(n):X5(n)}class Uh{constructor(e){if(e instanceof Uh)return e;const t=typeof e;let i;t==="object"?i=zS(e):t==="string"&&(i=F5(e)||Z5(e)||n6(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=jP(this._rgb);return e&&(e.a=Ps(e.a)),e}set rgb(e){this._rgb=zS(e)}rgbString(){return this._valid?e6(this._rgb):void 0}hexString(){return this._valid?H5(this._rgb):void 0}hslString(){return this._valid?Y5(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=t6(this._rgb,e._rgb,t)),this}clone(){return new Uh(this.rgb)}alpha(e){return this._rgb.a=ho(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Vf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wp(this._rgb,2,e),this}darken(e){return wp(this._rgb,2,-e),this}saturate(e){return wp(this._rgb,1,e),this}desaturate(e){return wp(this._rgb,1,-e),this}rotate(e){return q5(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function bs(){}const i6=(()=>{let n=0;return()=>n++})();function _e(n){return n===null||typeof n>"u"}function $e(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function At(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Rn(n,e){return At(n)?n:e}function ie(n,e){return typeof n>"u"?e:n}const s6=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,FP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function De(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function xe(n,e,t,i){let s,r,o;if($e(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(pe(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)e.call(t,n[o[s]],o[s])}function fm(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function pm(n){if($e(n))return n.map(pm);if(pe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=pm(n[t[s]]);return e}return n}function zP(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function r6(n,e,t,i){if(!zP(n))return;const s=e[n],r=t[n];pe(s)&&pe(r)?Wh(s,r,i):e[n]=pm(r)}function Wh(n,e,t){const i=$e(e)?e:[e],s=i.length;if(!pe(n))return n;t=t||{};const r=t.merger||r6;let o;for(let a=0;a<s;++a){if(o=i[a],!pe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,t)}return n}function ph(n,e){return Wh(n,e,{merger:o6})}function o6(n,e,t){if(!zP(n))return;const i=e[n],s=t[n];pe(i)&&pe(s)?ph(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pm(s))}const HS={"":n=>n,x:n=>n.x,y:n=>n.y};function a6(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function l6(n){const e=a6(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function sl(n,e){return(HS[e]||(HS[e]=l6(e)))(n)}function G1(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Vh=n=>typeof n<"u",mo=n=>typeof n=="function",BS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function c6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const He=Math.PI,ze=2*He,u6=ze+He,gm=Number.POSITIVE_INFINITY,h6=He/180,tt=He/2,ko=He/4,US=He*2/3,Qr=Math.log10,ds=Math.sign;function gh(n,e,t){return Math.abs(n-e)<t}function WS(n){const e=Math.round(n);n=gh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Qr(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function d6(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function $h(n){return!isNaN(parseFloat(n))&&isFinite(n)}function f6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function HP(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function cs(n){return n*(He/180)}function X1(n){return n*(180/He)}function VS(n){if(!At(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function BP(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*He&&(r+=ze),{angle:r,distance:s}}function hx(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function p6(n,e){return(n-e+u6)%ze-He}function Pi(n){return(n%ze+ze)%ze}function Gh(n,e,t,i){const s=Pi(n),r=Pi(e),o=Pi(t),a=Pi(r-s),l=Pi(o-s),c=Pi(s-r),u=Pi(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function g6(n){return Kt(n,-32768,32767)}function eo(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function q1(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const Go=(n,e,t,i)=>q1(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),m6=(n,e,t)=>q1(n,t,i=>n[i][e]>=t);function y6(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const UP=["push","pop","shift","splice","unshift"];function v6(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),UP.forEach(t=>{const i="_onData"+G1(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function $S(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(UP.forEach(r=>{delete n[r]}),delete n._chartjs)}function WP(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const VP=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function $P(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,VP.call(window,()=>{i=!1,n.apply(e,t)}))}}function b6(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Y1=n=>n==="start"?"left":n==="end"?"right":"center",$t=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,x6=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function w6(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=Kt(Math.min(Go(a,l,c).lo,t?i:Go(e,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=Kt(Math.max(Go(a,o.axis,u,!0).hi+1,t?0:Go(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function _6(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const _p=n=>n===0||n===1,GS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ze/t)),XS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ze/t)+1,mh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*tt)+1,easeOutSine:n=>Math.sin(n*tt),easeInOutSine:n=>-.5*(Math.cos(He*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_p(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_p(n)?n:GS(n,.075,.3),easeOutElastic:n=>_p(n)?n:XS(n,.075,.3),easeInOutElastic(n){return _p(n)?n:n<.5?.5*GS(n*2,.1125,.45):.5+.5*XS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-mh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?mh.easeInBounce(n*2)*.5:mh.easeOutBounce(n*2-1)*.5+.5};function K1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qS(n){return K1(n)?n:new Uh(n)}function Cy(n){return K1(n)?n:new Uh(n).saturate(.5).darken(.1).hexString()}const S6=["x","y","borderWidth","radius","tension"],E6=["color","borderColor","backgroundColor"];function A6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:E6},numbers:{type:"number",properties:S6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function k6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const YS=new Map;function C6(n,e){e=e||{};const t=n+JSON.stringify(e);let i=YS.get(t);return i||(i=new Intl.NumberFormat(n,e),YS.set(t,i)),i}function k0(n,e,t){return C6(e,t).format(n)}const GP={values(n){return $e(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=T6(n,t)}const o=Qr(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),k0(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Qr(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?GP.numeric.call(this,n,e,t):""}};function T6(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var C0={formatters:GP};function P6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:C0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rl=Object.create(null),dx=Object.create(null);function yh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function Ty(n,e,t){return typeof e=="string"?Wh(yh(n,e),t):Wh(yh(n,""),e)}class R6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Cy(s.backgroundColor),this.hoverBorderColor=(i,s)=>Cy(s.borderColor),this.hoverColor=(i,s)=>Cy(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ty(this,e,t)}get(e){return yh(this,e)}describe(e,t){return Ty(dx,e,t)}override(e,t){return Ty(rl,e,t)}route(e,t,i,s){const r=yh(this,e),o=yh(this,i),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[s];return pe(l)?Object.assign({},c,l):ie(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var Ze=new R6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[A6,k6,P6]);function L6(n){return!n||_e(n.size)||_e(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mm(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function M6(n,e,t,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=t[l],h!=null&&!$e(h))o=mm(n,s,r,o,h);else if($e(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!$e(f)&&(o=mm(n,s,r,o,f));n.restore();const p=r.length/2;if(p>t.length){for(l=0;l<p;l++)delete s[r[l]];r.splice(0,p)}return o}function Co(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function KS(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function fx(n,e,t,i){XP(n,e,t,i,null)}function XP(n,e,t,i,s){let r,o,a,l,c,u,h,f;const p=e.pointStyle,g=e.rotation,m=e.radius;let b=(g||0)*h6;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(b),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),p){default:s?n.ellipse(t,i,s/2,m,0,0,ze):n.arc(t,i,m,0,ze),n.closePath();break;case"triangle":u=s?s/2:m,n.moveTo(t+Math.sin(b)*u,i-Math.cos(b)*m),b+=US,n.lineTo(t+Math.sin(b)*u,i-Math.cos(b)*m),b+=US,n.lineTo(t+Math.sin(b)*u,i-Math.cos(b)*m),n.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(b+ko)*l,h=Math.cos(b+ko)*(s?s/2-c:l),a=Math.sin(b+ko)*l,f=Math.sin(b+ko)*(s?s/2-c:l),n.arc(t-h,i-a,c,b-He,b-tt),n.arc(t+f,i-o,c,b-tt,b),n.arc(t+h,i+a,c,b,b+tt),n.arc(t-f,i+o,c,b+tt,b+He),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=s?s/2:l,n.rect(t-u,i-l,2*u,2*l);break}b+=ko;case"rectRot":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(t-h,i-a),n.lineTo(t+f,i-o),n.lineTo(t+h,i+a),n.lineTo(t-f,i+o),n.closePath();break;case"crossRot":b+=ko;case"cross":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"star":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o),b+=ko,h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"line":o=s?s/2:Math.cos(b)*m,a=Math.sin(b)*m,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(b)*(s?s/2:m),i+Math.sin(b)*m);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function nr(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Z1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function J1(n){n.restore()}function O6(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function D6(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function N6(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),_e(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function I6(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function j6(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ol(n,e,t,i,s,r={}){const o=$e(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=s.string,N6(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&j6(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),_e(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,t,i,r.maxWidth)),n.fillText(c,t,i,r.maxWidth),I6(n,t,i,c,r),i+=Number(s.lineHeight);n.restore()}function Xh(n,e){const{x:t,y:i,w:s,h:r,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*He,He,!0),n.lineTo(t,i+r-o.bottomLeft),n.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,He,tt,!0),n.lineTo(t+s-o.bottomRight,i+r),n.arc(t+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,tt,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-tt,!0),n.lineTo(t+o.topLeft,i)}const F6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,z6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function H6(n,e){const t=(""+n).match(F6);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const B6=n=>+n||0;function Q1(n,e){const t={},i=pe(e),s=i?Object.keys(e):e,r=pe(n)?i?o=>ie(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=B6(r(o));return t}function qP(n){return Q1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function $a(n){return Q1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Jt(n){const e=qP(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vt(n,e){n=n||{},e=e||Ze.font;let t=ie(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=ie(n.style,e.style);i&&!(""+i).match(z6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ie(n.family,e.family),lineHeight:H6(ie(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:ie(n.weight,e.weight),string:""};return s.string=L6(s),s}function Sp(n,e,t,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function U6(n,e,t){const{min:i,max:s}=n,r=FP(e,(s-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Eo(n,e){return Object.assign(Object.create(n),e)}function ew(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=JP("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>ew([a,...n],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return KP(a,l,()=>K6(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return JS(a).includes(l)},ownKeys(a){return JS(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function iu(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:YP(n,i),setContext:r=>iu(n,r,t,i),override:r=>iu(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return KP(r,o,()=>V6(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function YP(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:mo(t)?t:()=>t,isIndexable:mo(i)?i:()=>i}}const W6=(n,e)=>n?n+G1(e):e,tw=(n,e)=>pe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function KP(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function V6(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[e];return mo(a)&&o.isScriptable(e)&&(a=$6(e,a,n,t)),$e(a)&&a.length&&(a=G6(e,a,n,o.isIndexable)),tw(e,a)&&(a=iu(a,s,r&&r[e],o)),a}function $6(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(r,o||i);return a.delete(n),tw(n,l)&&(l=nw(s._scopes,s,n,l)),l}function G6(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(pe(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=nw(c,s,n,u);e.push(iu(h,r,o&&o[n],a))}}return e}function ZP(n,e,t){return mo(n)?n(e,t):n}const X6=(n,e)=>n===!0?e:typeof n=="string"?sl(e,n):void 0;function q6(n,e,t,i,s){for(const r of e){const o=X6(t,r);if(o){n.add(o);const a=ZP(o._fallback,t,s);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function nw(n,e,t,i){const s=e._rootScopes,r=ZP(e._fallback,t,i),o=[...n,...s],a=new Set;a.add(i);let l=ZS(a,o,t,r||t,i);return l===null||typeof r<"u"&&r!==t&&(l=ZS(a,o,r,l,i),l===null)?!1:ew(Array.from(a),[""],s,r,()=>Y6(e,t,i))}function ZS(n,e,t,i,s){for(;t;)t=q6(n,e,t,i,s);return t}function Y6(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return $e(s)&&pe(t)?t:s||{}}function K6(n,e,t,i){let s;for(const r of e)if(s=JP(W6(r,n),t),typeof s<"u")return tw(n,s)?nw(t,i,n,s):s}function JP(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function JS(n){let e=n._keys;return e||(e=n._keys=Z6(n._scopes)),e}function Z6(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const J6=Number.EPSILON||1e-14,su=(n,e)=>e<n.length&&!n[e].skip&&n[e],QP=n=>n==="x"?"y":"x";function Q6(n,e,t,i){const s=n.skip?e:n,r=e,o=t.skip?e:t,a=hx(r,s),l=hx(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function ez(n,e,t){const i=n.length;let s,r,o,a,l,c=su(n,0);for(let u=0;u<i-1;++u)if(l=c,c=su(n,u+1),!(!l||!c)){if(gh(e[u],0,J6)){t[u]=t[u+1]=0;continue}s=t[u]/e[u],r=t[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=s*o*e[u],t[u+1]=r*o*e[u])}}function tz(n,e,t="x"){const i=QP(t),s=n.length;let r,o,a,l=su(n,0);for(let c=0;c<s;++c){if(o=a,a=l,l=su(n,c+1),!a)continue;const u=a[t],h=a[i];o&&(r=(u-o[t])/3,a[`cp1${t}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[t]-u)/3,a[`cp2${t}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function nz(n,e="x"){const t=QP(e),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=su(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=su(n,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[t]-l[t])/u:0}r[o]=a?c?ds(s[o-1])!==ds(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}ez(n,s,r),tz(n,r,e)}function Ep(n,e,t){return Math.max(Math.min(n,t),e)}function iz(n,e){let t,i,s,r,o,a=nr(n[0],e);for(t=0,i=n.length;t<i;++t)o=r,r=a,a=t<i-1&&nr(n[t+1],e),r&&(s=n[t],o&&(s.cp1x=Ep(s.cp1x,e.left,e.right),s.cp1y=Ep(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Ep(s.cp2x,e.left,e.right),s.cp2y=Ep(s.cp2y,e.top,e.bottom)))}function sz(n,e,t,i,s){let r,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")nz(n,s);else{let c=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=Q6(c,a,n[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&iz(n,t)}function iw(){return typeof window<"u"&&typeof document<"u"}function sw(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ym(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const T0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function rz(n,e){return T0(n).getPropertyValue(e)}const oz=["top","right","bottom","left"];function Ga(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=oz[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const az=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function lz(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(az(s,r,n.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Io(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=T0(t),r=s.boxSizing==="border-box",o=Ga(s,"padding"),a=Ga(s,"border","width"),{x:l,y:c,box:u}=lz(n,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=e;return r&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*t.width/i),y:Math.round((c-f)/g*t.height/i)}}function cz(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&sw(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=T0(r),l=Ga(a,"border","width"),c=Ga(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=ym(a.maxWidth,r,"clientWidth"),s=ym(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||gm,maxHeight:s||gm}}const Ap=n=>Math.round(n*10)/10;function uz(n,e,t,i){const s=T0(n),r=Ga(s,"margin"),o=ym(s.maxWidth,n,"clientWidth")||gm,a=ym(s.maxHeight,n,"clientHeight")||gm,l=cz(n,e,t);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Ga(s,"border","width"),p=Ga(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Ap(Math.min(c,o,l.maxWidth)),u=Ap(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ap(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ap(Math.floor(u*i))),{width:c,height:u}}function QS(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hz=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};iw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function eE(n,e){const t=rz(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function jo(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function dz(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function fz(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=jo(n,s,t),a=jo(s,r,t),l=jo(r,e,t),c=jo(o,a,t),u=jo(a,l,t);return jo(c,u,t)}const pz=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},gz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ql(n,e,t){return n?pz(e,t):gz()}function eR(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function tR(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function nR(n){return n==="angle"?{between:Gh,compare:p6,normalize:Pi}:{between:eo,compare:(e,t)=>e-t,normalize:e=>e}}function tE({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function mz(n,e,t){const{property:i,start:s,end:r}=t,{between:o,normalize:a}=nR(i),l=e.length;let{start:c,end:u,loop:h}=n,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function yz(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,o=e.length,{compare:a,between:l,normalize:c}=nR(i),{start:u,end:h,loop:f,style:p}=mz(n,e,t),g=[];let m=!1,b=null,y,x,w;const _=()=>l(s,w,y)&&a(s,w)!==0,E=()=>a(r,y)===0||l(r,w,y),C=()=>m||_(),T=()=>!m||E();for(let P=u,L=u;P<=h;++P)x=e[P%o],!x.skip&&(y=c(x[i]),y!==w&&(m=l(y,s,r),b===null&&C()&&(b=a(y,s)===0?P:L),b!==null&&T()&&(g.push(tE({start:b,end:P,loop:f,count:o,style:p})),b=null),L=P,w=y));return b!==null&&g.push(tE({start:b,end:h,loop:f,count:o,style:p})),g}function vz(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=yz(i[s],n.points,e);r.length&&t.push(...r)}return t}function bz(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function xz(n,e,t,i){const s=n.length,r=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function wz(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=bz(t,s,r,i);if(i===!0)return nE(n,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+s:a,c=!!n._fullLoop&&o===0&&a===s-1;return nE(n,xz(t,o,l,c),t,e)}function nE(n,e,t,i){return!i||!i.setContext||!t?e:_z(n,e,t,i)}function _z(n,e,t,i){const s=n._chart.getContext(),r=iE(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=r,h=e[0].start,f=h;function p(g,m,b,y){const x=a?-1:1;if(g!==m){for(g+=l;t[g%l].skip;)g-=x;for(;t[m%l].skip;)m+=x;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:b,style:y}),u=y,h=m%l)}}for(const g of e){h=a?h:g.start;let m=t[h%l],b;for(f=h+1;f<=g.end;f++){const y=t[f%l];b=iE(i.setContext(Eo(s,{type:"segment",p0:m,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Sz(b,u)&&p(h,f-1,g.loop,u),m=y,u=b}h<f-1&&p(h,f-1,g.loop,u)}return c}function iE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Sz(n,e){if(!e)return!1;const t=[],i=function(s,r){return K1(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Ez{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=VP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ws=new Ez;const sE="transparent",Az={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=qS(n||sE),s=i.valid&&qS(e||sE);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class kz{constructor(e,t,i,s){const r=t[i];s=Sp([e.to,s,r,e.from]);const o=Sp([e.from,r,s]);this._active=!0,this._fn=e.fn||Az[e.type||typeof o],this._easing=mh[e.easing]||mh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Sp([e.to,t,s,e.from]),this._from=Sp([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<i),!this._active){this._target[s]=a,this._notify(!0);return}if(t<0){this._target[s]=r;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class iR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!pe(e))return;const t=Object.keys(Ze.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!pe(r))return;const o={};for(const a of t)o[a]=r[a];($e(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,s=Tz(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Cz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,t));continue}const u=t[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new kz(f,e,c,u),s.push(h)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ws.add(this._chart,i),!0}}function Cz(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function Tz(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function rE(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Pz(n,e,t){if(t===!1)return!1;const i=rE(n,t),s=rE(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Rz(n){let e,t,i,s;return pe(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function sR(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function oE(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===t){if(i.all)continue;break}c=n.values[l],At(c)&&(r||e===0||ds(e)===ds(c))&&(e+=c)}return e}}function Lz(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:n[u]};return a}function aE(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Mz(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Oz(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function Dz(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function lE(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function cE(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=Mz(r,o,i),h=e.length;let f;for(let p=0;p<h;++p){const g=e[p],{[l]:m,[c]:b}=g,y=g._stacks||(g._stacks={});f=y[c]=Dz(s,u,m),f[a]=b,f._top=lE(f,o,!0,i.type),f._bottom=lE(f,o,!1,i.type);const x=f._visualValues||(f._visualValues={});x[a]=b}}function Py(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Nz(n,e){return Eo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Iz(n,e,t){return Eo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Cu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const Ry=n=>n==="reset"||n==="none",uE=(n,e)=>e?n:Object.assign({},n),jz=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sR(t,!0),values:null};class Xa{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=aE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Cu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,r=t.xAxisID=ie(i.xAxisID,Py(e,"x")),o=t.yAxisID=ie(i.yAxisID,Py(e,"y")),a=t.rAxisID=ie(i.rAxisID,Py(e,"r")),l=t.indexAxis,c=t.iAxisID=s(l,r,o,a),u=t.vAxisID=s(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$S(this._data,this),e._stacked&&Cu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(pe(t)){const s=this._cachedMeta;this._data=Lz(t,s)}else if(i!==t){if(i){$S(i,this);const s=this._cachedMeta;Cu(s),s._parsed=[]}t&&Object.isExtensible(t)&&v6(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=aE(t.vScale,t),t.stack!==i.stack&&(s=!0,Cu(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&cE(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&t===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{$e(s[e])?f=this.parseArrayData(i,s,e,t):pe(s[e])?f=this.parseObjectData(i,s,e,t):f=this.parsePrimitiveData(i,s,e,t);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)i._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);i._sorted=l}o&&cE(this,f)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+i,h[f]={[a]:u||r.parse(c[g],g),[l]:o.parse(t[g],g)};return h}parseArrayData(e,t,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=t[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+i,p=t[f],c[u]={x:r.parse(sl(p,a),f),y:o.parse(sl(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:sR(s,!0),values:t._stacks[e.axis]._visualValues};return oE(a,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let o=r===null?NaN:r;const a=s&&i._stacks[t.axis];s&&a&&(s.values=a,o=oE(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=jz(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Oz(a);let f,p;function g(){p=s[f];const m=p[a.axis];return!At(p[e.axis])||u>m||h<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],At(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Rz(ie(this.options.clip,Pz(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Iz(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Nz(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&Vh(i);if(a)return uE(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ze.elements[e]),g=()=>this.getContext(i,s,t),m=c.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(uE(m,l))),m}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,i,t))}const c=new iR(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ry(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,s){Ry(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Ry(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Cu(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}I(Xa,"defaults",{}),I(Xa,"datasetElementType",null),I(Xa,"dataElementType",null);function Fz(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=t.length;s<r;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=WP(i.sort((s,r)=>s-r))}return n._cache.$bar}function zz(n){const e=n.iScale,t=Fz(e,n.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Vh(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=t.length;s<r;++s)o=e.getPixelForValue(t[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function Hz(n,e,t,i){const s=t.barThickness;let r,o;return _e(s)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[n]-r/2}}function Bz(n,e,t,i){const s=e.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:t.barPercentage,start:c}}function Uz(n,e,t,i){const s=t.parse(n[0],i),r=t.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function rR(n,e,t,i){return $e(n)?Uz(n,e,t,i):e[t.axis]=t.parse(n,i),e}function hE(n,e,t,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=t,u=t+i;c<u;++c)f=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(rR(f,h,r,c));return l}function Ly(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Wz(n,e,t){return n!==0?ds(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Vz(n){let e,t,i,s,r;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:t,end:i,reverse:e,top:s,bottom:r}}function $z(n,e,t,i){let s=e.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Vz(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=c:(t._bottom||0)===i?s=u:(r[dE(u,o,a,l)]=!0,s=c)),r[dE(s,o,a,l)]=!0,n.borderSkipped=r}function dE(n,e,t,i){return i?(n=Gz(n,e,t),n=fE(n,t,e)):n=fE(n,e,t),n}function Gz(n,e,t){return n===e?t:n===t?e:n}function fE(n,e,t){return n==="start"?e:n==="end"?t:n}function Xz(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class _g extends Xa{parsePrimitiveData(e,t,i,s){return hE(e,t,i,s)}parseArrayData(e,t,i,s){return hE(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,g,m;for(f=i,p=i+s;f<p;++f)m=t[f],g={},g[r.axis]=r.parse(sl(m,c),f),h.push(rR(sl(m,u),g,o,f));return h}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,r=this.getParsed(e),o=r._custom,a=Ly(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(t,s);for(let p=t;p<t+i;p++){const g=this.getParsed(p),m=r||_e(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),y=(g._stacks||{})[a.axis],x={horizontal:c,base:m.base,enableBorderRadius:!y||Ly(g._custom)||o===y._top||o===y._bottom,x:c?m.head:b.center,y:c?b.center:m.head,height:c?b.size:Math.abs(m.size),width:c?Math.abs(m.size):b.size};f&&(x.options=h||this.resolveDataElementOptions(p,e[p].active?"active":s));const w=x.options||e[p].options;$z(x,w,y,o),Xz(x,w,u.ratio),this.updateElement(e[p],p,x,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(t),u=c&&c[l.vScale.axis];if(_e(u)||isNaN(u))return!0};for(const l of s)if(!(t!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),r=t!==void 0?s.indexOf(t):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let r,o;for(r=0,o=t.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||zz(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Ly(c);let h=l[t.axis],f=0,p=i?this.applyStack(t,l,i):h,g,m;p!==h&&(f=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&ds(h)!==ds(c.barEnd)&&(f=0),f+=h);const b=!_e(r)&&!u?r:f;let y=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(f+p):g=y,m=g-y,Math.abs(m)<o){m=Wz(m,t,a)*o,h===a&&(y-=m/2);const x=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),_=Math.min(x,w),E=Math.max(x,w);y=Math.max(Math.min(y,E),_),g=y+m,i&&!u&&(l._stacks[t.axis]._visualValues[s]=t.getValueForPixel(g)-t.getValueForPixel(y))}if(y===t.getPixelForValue(a)){const x=ds(m)*t.getLineWidthForValue(a)/2;y+=x,m-=x}return{size:m,base:y,head:g,center:g+m/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,r=s.skipNull,o=ie(s.maxBarThickness,1/0);let a,l;if(t.grouped){const c=r?this._getStackCount(e):t.stackCount,u=s.barThickness==="flex"?Bz(e,t,s,c):Hz(e,t,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}I(_g,"id","bar"),I(_g,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),I(_g,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qz(n,e,t){let i=1,s=1,r=0,o=0;if(e<ze){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(w,_,E)=>Gh(w,a,l,!0)?1:Math.max(_,_*t,E,E*t),g=(w,_,E)=>Gh(w,a,l,!0)?-1:Math.min(_,_*t,E,E*t),m=p(0,c,h),b=p(tt,u,f),y=g(He,c,h),x=g(He+tt,u,f);i=(m-y)/2,s=(b-x)/2,r=-(m+y)/2,o=-(b+x)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ju extends Xa{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(pe(i[e])){const{key:l="value"}=this._parsing;r=c=>+sl(i[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return cs(this.options.rotation-90)}_getCircumference(){return cs(this.options.circumference)}_getRotationExtents(){let e=ze,t=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(s6(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=qz(h,u,l),b=(i.width-o)/f,y=(i.height-o)/p,x=Math.max(Math.min(b,y)/2,0),w=FP(this.options.radius,x),_=Math.max(w*l,0),E=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,s.total=this.calculateTotal(),this.outerRadius=w-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/ze)}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,s);let y=this._getRotation(),x;for(x=0;x<t;++x)y+=this._circumference(x,r);for(x=t;x<t+i;++x){const w=this._circumference(x,r),_=e[x],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:g,innerRadius:p};b&&(E.options=m||this.resolveDataElementOptions(x,_.active?"active":s)),y+=w,this.updateElement(_,x,E,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ze*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=k0(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}I(Ju,"id","doughnut"),I(Ju,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),I(Ju,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),I(Ju,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Sg extends Xa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=w6(t,s,o);this._drawStart=a,this._drawCount=l,_6(t)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,s),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=$h(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",x=t+i,w=e.length;let _=t>0&&this.getParsed(t-1);for(let E=0;E<w;++E){const C=e[E],T=y?C:{};if(E<t||E>=x){T.skip=!0;continue}const P=this.getParsed(E),L=_e(P[p]),M=T[f]=o.getPixelForValue(P[f],E),N=T[p]=r||L?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[p],E);T.skip=isNaN(M)||isNaN(N)||L,T.stop=E>0&&Math.abs(P[f]-_[f])>b,m&&(T.parsed=P,T.raw=c.data[E]),h&&(T.options=u||this.resolveDataElementOptions(E,C.active?"active":s)),y||this.updateElement(C,E,T,s),_=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}I(Sg,"id","line"),I(Sg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(Sg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function To(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rw{constructor(e){I(this,"options");this.options=e||{}}static override(e){Object.assign(rw.prototype,e)}init(){}formats(){return To()}parse(){return To()}format(){return To()}add(){return To()}diff(){return To()}startOf(){return To()}endOf(){return To()}}var Yz={_date:rw};function Kz(n,e,t,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?m6:Go;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,t-u),f=l(r,e,t+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,e,t)}return{lo:0,hi:r.length-1}}function $f(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=Kz(r[a],e,o,s);for(let p=h;p<=f;++p){const g=u[p];g.skip||i(g,c,p)}}}function Zz(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function My(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||$f(n,t,e,function(a,l,c){!s&&!nr(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Jz(n,e,t,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=BP(o,{x:e.x,y:e.y});Gh(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return $f(n,t,e,r),s}function Qz(n,e,t,i,s,r){let o=[];const a=Zz(t);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,s);if(i&&!p)return;const g=u.getCenterPoint(s);if(!(!!r||n.isPointInArea(g))&&!p)return;const b=a(e,g);b<l?(o=[{element:u,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:f})}return $f(n,t,e,c),o}function Oy(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?Jz(n,e,t,s):Qz(n,e,t,i,s,r)}function pE(n,e,t,i,s){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return $f(n,t,e,(l,c,u)=>{l[o](e[t],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var eH={evaluateInteractionItems:$f,modes:{index(n,e,t,i){const s=Io(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?My(n,s,r,i,o):Oy(n,s,r,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,i){const s=Io(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?My(n,s,r,i,o):Oy(n,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,i){const s=Io(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return My(n,s,r,i,o)},nearest(n,e,t,i){const s=Io(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Oy(n,s,r,t.intersect,i,o)},x(n,e,t,i){const s=Io(e,n);return pE(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Io(e,n);return pE(n,s,"y",t.intersect,i)}}};const oR=["left","top","right","bottom"];function Tu(n,e){return n.filter(t=>t.pos===e)}function gE(n,e){return n.filter(t=>oR.indexOf(t.pos)===-1&&t.box.axis===e)}function Pu(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function tH(n){const e=[];let t,i,s,r,o,a;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function nH(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!oR.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function iH(n,e){const t=nH(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return t}function sH(n){const e=tH(n),t=Pu(e.filter(c=>c.box.fullSize),!0),i=Pu(Tu(e,"left"),!0),s=Pu(Tu(e,"right")),r=Pu(Tu(e,"top"),!0),o=Pu(Tu(e,"bottom")),a=gE(e,"x"),l=gE(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Tu(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function mE(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function aR(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function rH(n,e,t,i){const{pos:s,box:r}=t,o=n.maxPadding;if(!pe(s)){t.size&&(n[s]-=t.size);const h=i[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,n[s]+=t.size}r.getPadding&&aR(o,r.getPadding());const a=Math.max(0,e.outerWidth-mE(o,n,"left","right")),l=Math.max(0,e.outerHeight-mE(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function oH(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function aH(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(n?["left","right"]:["top","bottom"])}function Qu(n,e,t,i){const s=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||e.w,a.height||e.h,aH(a.horizontal,e));const{same:h,other:f}=rH(e,t,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Qu(s,e,t,i)||u}function kp(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function yE(n,e,t,i){const s=t.padding;let{x:r,y:o}=e;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;Vh(c.start)&&(o=c.start),l.fullSize?kp(l,s.left,o,t.outerWidth-s.right-s.left,f):kp(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;Vh(c.start)&&(r=c.start),l.fullSize?kp(l,r,s.top,f,t.outerHeight-s.bottom-s.top):kp(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var ai={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Jt(n.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),a=sH(n.boxes),l=a.vertical,c=a.horizontal;xe(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);aR(f,Jt(i));const p=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),g=iH(l.concat(c),h);Qu(a.fullSize,p,h,g),Qu(l,p,h,g),Qu(c,p,h,g)&&Qu(l,p,h,g),oH(p),yE(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,yE(a.rightAndBottom,p,h,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},xe(a.chartArea,m=>{const b=m.box;Object.assign(b,n.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class lR{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class lH extends lR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eg="$chartjs",cH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vE=n=>n===null||n==="";function uH(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Eg]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",vE(s)){const r=eE(n,"width");r!==void 0&&(n.width=r)}if(vE(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=eE(n,"height");r!==void 0&&(n.height=r)}return n}const cR=hz?{passive:!0}:!1;function hH(n,e,t){n&&n.addEventListener(e,t,cR)}function dH(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,cR)}function fH(n,e){const t=cH[n.type]||n.type,{x:i,y:s}=Io(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function vm(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function pH(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||vm(a.addedNodes,i),o=o&&!vm(a.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function gH(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||vm(a.removedNodes,i),o=o&&!vm(a.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const qh=new Map;let bE=0;function uR(){const n=window.devicePixelRatio;n!==bE&&(bE=n,qh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function mH(n,e){qh.size||window.addEventListener("resize",uR),qh.set(n,e)}function yH(n){qh.delete(n),qh.size||window.removeEventListener("resize",uR)}function vH(n,e,t){const i=n.canvas,s=i&&sw(i);if(!s)return;const r=$P((a,l)=>{const c=s.clientWidth;t(a,l),c<s.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),mH(n,r),o}function Dy(n,e,t){t&&t.disconnect(),e==="resize"&&yH(n)}function bH(n,e,t){const i=n.canvas,s=$P(r=>{n.ctx!==null&&t(fH(r,n))},n);return hH(i,e,s),s}class xH extends lR{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(uH(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Eg])return!1;const i=t[Eg].initial;["height","width"].forEach(r=>{const o=i[r];_e(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[Eg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:pH,detach:gH,resize:vH}[t]||bH;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Dy,detach:Dy,resize:Dy}[t]||dH)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return uz(e,t,i,s)}isAttached(e){const t=e&&sw(e);return!!(t&&t.isConnected)}}function wH(n){return!iw()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?lH:xH}class Ii{constructor(){I(this,"x");I(this,"y");I(this,"active",!1);I(this,"options");I(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return $h(this.x)&&$h(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}I(Ii,"defaults",{}),I(Ii,"defaultRoutes");function _H(n,e){const t=n.options.ticks,i=SH(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?AH(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return kH(e,c,r,o/s),c;const u=EH(r,e,s);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Cp(e,c,u,_e(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Cp(e,c,u,r[h],r[h+1]);return Cp(e,c,u,l,_e(p)?e.length:l+p),c}return Cp(e,c,u),c}function SH(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function EH(n,e,t){const i=CH(n),s=e.length/t;if(!i)return Math.max(s,1);const r=d6(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function AH(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function kH(n,e,t,i){let s=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(e.push(n[o]),s++,r=t[s*i])}function Cp(n,e,t,i,s){const r=ie(i,0),o=Math.min(ie(s,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),s&&(l=s-i,t=l/Math.floor(l/t)),u=r;u<0;)a++,u=Math.round(r+a*t);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(r+a*t))}function CH(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const TH=n=>n==="left"?"right":n==="right"?"left":n,xE=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,wE=(n,e)=>Math.min(e||n,n);function _E(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function PH(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(s),c;if(!(t&&(i===1?c=Math.max(l-r,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function RH(n,e){xe(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function Ru(n){return n.drawTicks?n.tickLength:0}function SE(n,e){if(!n.display)return 0;const t=vt(n.font,e),i=Jt(n.padding);return($e(n.text)?n.text.length:1)*t.lineHeight+i.height}function LH(n,e){return Eo(n,{scale:e,type:"scale"})}function MH(n,e,t){return Eo(n,{tick:t,index:e,type:"tick"})}function OH(n,e,t){let i=Y1(n);return(t&&e!=="right"||!t&&e==="right")&&(i=TH(i)),i}function DH(n,e,t,i){const{top:s,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,f,p,g;const m=o-s,b=a-r;if(n.isHorizontal()){if(p=$t(i,r,a),pe(t)){const y=Object.keys(t)[0],x=t[y];g=u[y].getPixelForValue(x)+m-e}else t==="center"?g=(c.bottom+c.top)/2+m-e:g=xE(n,t,e);f=a-r}else{if(pe(t)){const y=Object.keys(t)[0],x=t[y];p=u[y].getPixelForValue(x)-b+e}else t==="center"?p=(c.left+c.right)/2-b+e:p=xE(n,t,e);g=$t(i,o,s),h=t==="left"?-tt:tt}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class gl extends Ii{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Rn(e,Number.POSITIVE_INFINITY),t=Rn(t,Number.NEGATIVE_INFINITY),i=Rn(i,Number.POSITIVE_INFINITY),s=Rn(s,Number.NEGATIVE_INFINITY),{min:Rn(e,i),max:Rn(t,s),minDefined:At(e),maxDefined:At(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:Rn(t,Rn(i,t)),max:Rn(i,Rn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=U6(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_E(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_H(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),De(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=De(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=wE(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Kt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-Ru(e.grid)-t.padding-SE(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=X1(Math.min(Math.asin(Kt((u.highest.height+6)/a,-1,1)),Math.asin(Kt(l/c,-1,1))-Math.asin(Kt(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=SE(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=Ru(r)+l):(e.height=this.maxHeight,e.width=Ru(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,g=cs(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(a){const y=i.mirror?0:b*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=i.mirror?0:m*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(c,u,b,m)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=i*t.height):(f=i*e.height,p=s*t.width):r==="start"?p=t.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)_e(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=_E(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/wE(t,i));let c=0,u=0,h,f,p,g,m,b,y,x,w,_,E;for(h=0;h<t;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),s.font=b=m.string,y=r[b]=r[b]||{data:{},gc:[]},x=m.lineHeight,w=_=0,!_e(g)&&!$e(g))w=mm(s,y.data,y.gc,w,g),_=x;else if($e(g))for(f=0,p=g.length;f<p;++f)E=g[f],!_e(E)&&!$e(E)&&(w=mm(s,y.data,y.gc,w,E),_+=x);o.push(w),a.push(_),c=Math.max(w,c),u=Math.max(_,u)}RH(r,t);const C=o.indexOf(c),T=a.indexOf(u),P=L=>({width:o[L]||0,height:a[L]||0});return{first:P(0),last:P(t-1),widest:P(C),highest:P(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return g6(this._alignToPixels?Co(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=MH(this.getContext(),e,i))}return this.$context||(this.$context=LH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=cs(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Ru(r),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,y=function(q){return Co(i,q,m)};let x,w,_,E,C,T,P,L,M,N,z,$;if(o==="top")x=y(this.bottom),T=this.bottom-f,L=x-b,N=y(e.top)+b,$=e.bottom;else if(o==="bottom")x=y(this.top),N=e.top,$=y(e.bottom)-b,T=x+b,L=this.top+f;else if(o==="left")x=y(this.right),C=this.right-f,P=x-b,M=y(e.left)+b,z=e.right;else if(o==="right")x=y(this.left),M=e.left,z=y(e.right)-b,C=x+b,P=this.left+f;else if(t==="x"){if(o==="center")x=y((e.top+e.bottom)/2+.5);else if(pe(o)){const q=Object.keys(o)[0],F=o[q];x=y(this.chart.scales[q].getPixelForValue(F))}N=e.top,$=e.bottom,T=x+b,L=T+f}else if(t==="y"){if(o==="center")x=y((e.left+e.right)/2);else if(pe(o)){const q=Object.keys(o)[0],F=o[q];x=y(this.chart.scales[q].getPixelForValue(F))}C=x-b,P=C-f,M=e.left,z=e.right}const G=ie(s.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/G));for(w=0;w<h;w+=W){const q=this.getContext(w),F=r.setContext(q),D=a.setContext(q),U=F.lineWidth,K=F.color,ae=D.dash||[],J=D.dashOffset,ce=F.tickWidth,Ee=F.tickColor,Be=F.tickBorderDash||[],me=F.tickBorderDashOffset;_=PH(this,w,l),_!==void 0&&(E=Co(i,_,U),c?C=P=M=z=E:T=L=N=$=E,p.push({tx1:C,ty1:T,tx2:P,ty2:L,x1:M,y1:N,x2:z,y2:$,width:U,color:K,borderDash:ae,borderDashOffset:J,tickWidth:ce,tickColor:Ee,tickBorderDash:Be,tickBorderDashOffset:me}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Ru(i.grid),p=f+u,g=h?-u:p,m=-cs(this.labelRotation),b=[];let y,x,w,_,E,C,T,P,L,M,N,z,$="middle";if(s==="top")C=this.bottom-g,T=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+g,T=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(f);T=W.textAlign,E=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(f);T=W.textAlign,E=W.x}else if(t==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(pe(s)){const W=Object.keys(s)[0],q=s[W];C=this.chart.scales[W].getPixelForValue(q)+p}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")E=(e.left+e.right)/2-p;else if(pe(s)){const W=Object.keys(s)[0],q=s[W];E=this.chart.scales[W].getPixelForValue(q)}T=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const G=this._getLabelSizes();for(y=0,x=a.length;y<x;++y){w=a[y],_=w.label;const W=r.setContext(this.getContext(y));P=this.getPixelForTick(y)+r.labelOffset,L=this._resolveTickFontOptions(y),M=L.lineHeight,N=$e(_)?_.length:1;const q=N/2,F=W.color,D=W.textStrokeColor,U=W.textStrokeWidth;let K=T;o?(E=P,T==="inner"&&(y===x-1?K=this.options.reverse?"left":"right":y===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?c==="near"||m!==0?z=-N*M+M/2:c==="center"?z=-G.highest.height/2-q*M+M:z=-G.highest.height+M/2:c==="near"||m!==0?z=M/2:c==="center"?z=G.highest.height/2-q*M:z=G.highest.height-N*M,h&&(z*=-1),m!==0&&!W.showLabelBackdrop&&(E+=M/2*Math.sin(m))):(C=P,z=(1-N)*M/2);let ae;if(W.showLabelBackdrop){const J=Jt(W.backdropPadding),ce=G.heights[y],Ee=G.widths[y];let Be=z-J.top,me=0-J.left;switch($){case"middle":Be-=ce/2;break;case"bottom":Be-=ce;break}switch(T){case"center":me-=Ee/2;break;case"right":me-=Ee;break;case"inner":y===x-1?me-=Ee:y>0&&(me-=Ee/2);break}ae={left:me,top:Be,width:Ee+J.width,height:ce+J.height,color:W.backdropColor}}b.push({label:_,font:L,textOffset:z,options:{rotation:m,color:F,strokeColor:D,strokeWidth:U,textAlign:K,textBaseline:$,translation:[E,C],backdrop:ae}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-cs(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return t==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const l=s[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Co(e,this.left,o)-o/2,u=Co(e,this.right,a)+a/2,h=f=l):(h=Co(e,this.top,o)-o/2,f=Co(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Z1(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ol(i,c,0,u,l,a)}s&&J1(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=vt(i.font),o=Jt(i.padding),a=i.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||pe(t)?(l+=o.bottom,$e(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=DH(this,l,t,a);ol(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:OH(a,t,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ie(e.grid&&e.grid.z,-1),s=ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gl.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return vt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Tp{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;jH(t)&&(i=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,NH(e,o,i),this.override&&Ze.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Ze[s]&&(delete Ze[s][i],this.override&&delete rl[i])}}function NH(n,e,t){const i=Wh(Object.create(null),[t?Ze.get(t):{},Ze.get(e),n.defaults]);Ze.set(e,i),n.defaultRoutes&&IH(e,n.defaultRoutes),n.descriptors&&Ze.describe(e,n.descriptors)}function IH(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");Ze.route(r,s,l,a)})}function jH(n){return"id"in n&&"defaults"in n}class FH{constructor(){this.controllers=new Tp(Xa,"datasets",!0),this.elements=new Tp(Ii,"elements"),this.plugins=new Tp(Object,"plugins"),this.scales=new Tp(gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):xe(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const s=G1(e);De(i["before"+s],[],i),t[e](i),De(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Wi=new FH;class zH{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[t,s,r.options];if(De(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=ie(i.options&&i.options.plugins,{}),r=HH(i);return s===!1&&!t?[]:UH(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function HH(n){const e={},t=[],i=Object.keys(Wi.plugins.items);for(let r=0;r<i.length;r++)t.push(Wi.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function BH(n,e){return!e&&n===!1?null:n===!0?{}:n}function UH(n,{plugins:e,localIds:t},i,s){const r=[],o=n.getContext();for(const a of e){const l=a.id,c=BH(i[l],s);c!==null&&r.push({plugin:a,options:WH(n.config,{plugin:a,local:t[l]},c,o)})}return r}function WH(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function px(n,e){const t=Ze.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function VH(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function $H(n,e){return n===e?"_index_":"_value_"}function EE(n){if(n==="x"||n==="y"||n==="r")return n}function GH(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gx(n,...e){if(EE(n))return n;for(const t of e){const i=t.axis||GH(t.position)||n.length>1&&EE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function AE(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function XH(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return AE(n,"x",t[0])||AE(n,"y",t[0])}return{}}function qH(n,e){const t=rl[n.type]||{scales:{}},i=e.scales||{},s=px(n.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=gx(o,a,XH(o,n),Ze.scales[a.type]),c=$H(l,s),u=t.scales||{};r[o]=ph(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||px(a,e),u=(rl[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=VH(h,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),ph(r[p],[{axis:f},i[p],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ph(a,[Ze.scales[a.type],Ze.scale])}),r}function hR(n){const e=n.options||(n.options={});e.plugins=ie(e.plugins,{}),e.scales=qH(n,e)}function dR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function YH(n){return n=n||{},n.data=dR(n.data),hR(n),n}const kE=new Map,fR=new Set;function Pp(n,e){let t=kE.get(n);return t||(t=e(),kE.set(n,t),fR.add(t)),t}const Lu=(n,e,t)=>{const i=sl(e,t);i!==void 0&&n.add(i)};class KH{constructor(e){this._config=YH(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Pp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Pp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Pp(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Lu(l,e,h))),u.forEach(h=>Lu(l,s,h)),u.forEach(h=>Lu(l,rl[r]||{},h)),u.forEach(h=>Lu(l,Ze,h)),u.forEach(h=>Lu(l,dx,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),fR.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,rl[t]||{},Ze.datasets[t]||{},{type:t},Ze,dx]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=CE(this._resolverCache,e,s);let l=o;if(JH(o,t)){r.$shared=!1,i=mo(i)?i():i;const c=this.createResolver(e,i,a);l=iu(o,i,c)}for(const c of t)r[c]=l[c];return r}createResolver(e,t,i=[""],s){const{resolver:r}=CE(this._resolverCache,e,i);return pe(t)?iu(r,t,void 0,s):r}}function CE(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:ew(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const ZH=n=>pe(n)&&Object.getOwnPropertyNames(n).some(e=>mo(n[e]));function JH(n,e){const{isScriptable:t,isIndexable:i}=YP(n);for(const s of e){const r=t(s),o=i(s),a=(o||r)&&n[s];if(r&&(mo(a)||ZH(a))||o&&$e(a))return!0}return!1}var QH="4.4.3";const e8=["top","bottom","left","right","chartArea"];function TE(n,e){return n==="top"||n==="bottom"||e8.indexOf(n)===-1&&e==="x"}function PE(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function RE(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),De(t&&t.onComplete,[n],e)}function t8(n){const e=n.chart,t=e.options.animation;De(t&&t.onProgress,[n],e)}function pR(n){return iw()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ag={},LE=n=>{const e=pR(n);return Object.values(Ag).filter(t=>t.canvas===e).pop()};function n8(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const o=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=o)}}}function i8(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Rp(n,e,t){return n.options.clip?n[t]:e[t]}function s8(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Rp(t,e,"left"),right:Rp(t,e,"right"),top:Rp(i,e,"top"),bottom:Rp(i,e,"bottom")}:e}var br;let P0=(br=class{static register(...e){Wi.add(...e),ME()}static unregister(...e){Wi.remove(...e),ME()}constructor(e,t){const i=this.config=new KH(t),s=pR(e),r=LE(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||wH(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=i6(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=b6(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ag[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ws.listen(this,"complete",RE),ws.listen(this,"progress",t8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return _e(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KS(this.canvas,this.ctx),this}stop(){return ws.stop(this),this}resize(e,t){ws.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,QS(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),De(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};xe(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=gx(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),xe(r,o=>{const a=o.options,l=a.id,c=gx(l,a),u=ie(a.type,o.dtype);(a.position===void 0||TE(a.position,c)!==TE(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Wi.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),xe(s,(o,a)=>{o||delete i[a]}),xe(i,o=>{ai.configure(this,o,o.options),ai.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(PE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||px(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Wi.getController(a),{datasetElementType:c,dataElementType:u}=Ze.datasets[a];Object.assign(l,{dataElementType:Wi.getElement(u),datasetElementType:c&&Wi.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||xe(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(PE("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!BS(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const o=i==="_removeElements"?-r:r;n8(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!BS(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ai.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],xe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,mo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ws.has(this)?this.attached&&!ws.running(this)&&ws.start(this):(this.draw(),RE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,r=s8(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Z1(t,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&J1(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return nr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=eH.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Vh(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ws.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),KS(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ag[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};xe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},xe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!fm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(t,e),a=i?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,o=t,a=this._getActiveElements(e,s,i,o),l=c6(e),c=i8(e,this._lastEvent,i,l);i&&(this._lastEvent=null,De(r.onHover,[e,a,this],this),l&&De(r.onClick,[e,a,this],this));const u=!fm(a,s);return(u||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=c,u}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},I(br,"defaults",Ze),I(br,"instances",Ag),I(br,"overrides",rl),I(br,"registry",Wi),I(br,"version",QH),I(br,"getChart",LE),br);function ME(){return xe(P0.instances,n=>n._plugins.invalidate())}function r8(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;n.beginPath(),n.arc(r,o,a,i-c,t+c),l>s?(c=s/l,n.arc(r,o,l,t+c,i-c,!0)):n.arc(r,o,s,t+tt,i-tt),n.closePath(),n.clip()}function o8(n){return Q1(n,["outerStart","outerEnd","innerStart","innerEnd"])}function a8(n,e,t,i){const s=o8(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(t-Math.min(r,l))*i/2;return Kt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Kt(s.innerStart,0,o),innerEnd:Kt(s.innerEnd,0,o)}}function wl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function bm(n,e,t,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+t-c,0),f=u>0?u+i+t+c:0;let p=0;const g=s-l;if(i){const W=u>0?u-i:0,q=h>0?h-i:0,F=(W+q)/2,D=F!==0?g*F/(F+i):g;p=(g-D)/2}const m=Math.max(.001,g*h-t/He)/h,b=(g-m)/2,y=l+b+p,x=s-b-p,{outerStart:w,outerEnd:_,innerStart:E,innerEnd:C}=a8(e,f,h,x-y),T=h-w,P=h-_,L=y+w/T,M=x-_/P,N=f+E,z=f+C,$=y+E/N,G=x-C/z;if(n.beginPath(),r){const W=(L+M)/2;if(n.arc(o,a,h,L,W),n.arc(o,a,h,W,M),_>0){const U=wl(P,M,o,a);n.arc(U.x,U.y,_,M,x+tt)}const q=wl(z,x,o,a);if(n.lineTo(q.x,q.y),C>0){const U=wl(z,G,o,a);n.arc(U.x,U.y,C,x+tt,G+Math.PI)}const F=(x-C/f+(y+E/f))/2;if(n.arc(o,a,f,x-C/f,F,!0),n.arc(o,a,f,F,y+E/f,!0),E>0){const U=wl(N,$,o,a);n.arc(U.x,U.y,E,$+Math.PI,y-tt)}const D=wl(T,y,o,a);if(n.lineTo(D.x,D.y),w>0){const U=wl(T,L,o,a);n.arc(U.x,U.y,w,y-tt,L)}}else{n.moveTo(o,a);const W=Math.cos(L)*h+o,q=Math.sin(L)*h+a;n.lineTo(W,q);const F=Math.cos(M)*h+o,D=Math.sin(M)*h+a;n.lineTo(F,D)}n.closePath()}function l8(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){bm(n,e,t,i,l,s);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%ze||ze))}return bm(n,e,t,i,l,s),n.fill(),l}function c8(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=e.endAngle;if(r){bm(n,e,t,i,g,s);for(let m=0;m<r;++m)n.stroke();isNaN(a)||(g=o+(a%ze||ze))}p&&r8(n,e,g),r||(bm(n,e,t,i,g,s),n.stroke())}class eh extends Ii{constructor(t){super();I(this,"circumference");I(this,"endAngle");I(this,"fullCircles");I(this,"innerRadius");I(this,"outerRadius");I(this,"pixelMargin");I(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=BP(r,{x:t,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,m=ie(f,c-l)>=ze||Gh(o,l,c),b=eo(a,u+p,h+p);return m&&b}getCenterPoint(t){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ze?Math.floor(s/ze):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(He,s||0)),u=r*c;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,l8(t,this,u,o,a),c8(t,this,u,o,a),t.restore()}}I(eh,"id","arc"),I(eh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),I(eh,"defaultRoutes",{backgroundColor:"backgroundColor"}),I(eh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function gR(n,e,t=e){n.lineCap=ie(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ie(t.borderDash,e.borderDash)),n.lineDashOffset=ie(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ie(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ie(t.borderWidth,e.borderWidth),n.strokeStyle=ie(t.borderColor,e.borderColor)}function u8(n,e,t){n.lineTo(t.x,t.y)}function h8(n){return n.stepped?O6:n.tension||n.cubicInterpolationMode==="monotone"?D6:u8}function mR(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function d8(n,e,t,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=mR(s,t,i),u=h8(r);let{move:h=!0,reverse:f}=i||{},p,g,m;for(p=0;p<=c;++p)g=s[(a+(f?c-p:p))%o],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):u(n,m,g,f,r.stepped),m=g);return l&&(g=s[(a+(f?c:0))%o],u(n,m,g,f,r.stepped)),!!l}function f8(n,e,t,i){const s=e.points,{count:r,start:o,ilen:a}=mR(s,t,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,p,g,m,b,y;const x=_=>(o+(c?a-_:_))%r,w=()=>{m!==b&&(n.lineTo(u,b),n.lineTo(u,m),n.lineTo(u,y))};for(l&&(p=s[x(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[x(f)],p.skip)continue;const _=p.x,E=p.y,C=_|0;C===g?(E<m?m=E:E>b&&(b=E),u=(h*u+_)/++h):(w(),n.lineTo(_,E),g=C,h=0,m=b=E),y=E}w()}function mx(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?f8:d8}function p8(n){return n.stepped?dz:n.tension||n.cubicInterpolationMode==="monotone"?fz:jo}function g8(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),gR(n,e.options),n.stroke(s)}function m8(n,e,t,i){const{segments:s,options:r}=e,o=mx(e);for(const a of s)gR(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const y8=typeof Path2D=="function";function v8(n,e,t,i){y8&&!e.options.segment?g8(n,e,t,i):m8(n,e,t,i)}class th extends Ii{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;sz(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wz(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,o=vz(this,{property:t,start:s,end:s});if(!o.length)return;const a=[],l=p8(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=r[h],g=r[f];if(p===g){a.push(p);continue}const m=Math.abs((s-p[t])/(g[t]-p[t])),b=l(p,g,m,i.stepped);b[t]=e[t],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,t,i){return mx(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=mx(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of s)o&=r(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),v8(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}I(th,"id","line"),I(th,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(th,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function OE(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class kg extends Ii{constructor(t){super();I(this,"parsed");I(this,"skip");I(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return OE(this,t,"x",i)}inYRange(t,i){return OE(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!nr(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,fx(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}I(kg,"id","point"),I(kg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(kg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yR(n,e){const{x:t,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(t,s),l=Math.max(t,s),c=i-h,u=i+h):(h=r/2,a=t-h,l=t+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function to(n,e,t,i){return n?0:Kt(e,t,i)}function b8(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,r=qP(i);return{t:to(s.top,r.top,0,t),r:to(s.right,r.right,0,e),b:to(s.bottom,r.bottom,0,t),l:to(s.left,r.left,0,e)}}function x8(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=$a(s),o=Math.min(e,t),a=n.borderSkipped,l=i||pe(s);return{topLeft:to(!l||a.top||a.left,r.topLeft,0,o),topRight:to(!l||a.top||a.right,r.topRight,0,o),bottomLeft:to(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:to(!l||a.bottom||a.right,r.bottomRight,0,o)}}function w8(n){const e=yR(n),t=e.right-e.left,i=e.bottom-e.top,s=b8(n,t/2,i/2),r=x8(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Ny(n,e,t,i){const s=e===null,r=t===null,a=n&&!(s&&r)&&yR(n,i);return a&&(s||eo(e,a.left,a.right))&&(r||eo(t,a.top,a.bottom))}function _8(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function S8(n,e){n.rect(e.x,e.y,e.w,e.h)}function Iy(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class Cg extends Ii{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=w8(this),a=_8(o.radius)?Xh:S8;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Iy(o,t,r)),e.clip(),a(e,Iy(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Iy(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return Ny(this,e,t,i)}inXRange(e,t){return Ny(this,e,null,t)}inYRange(e,t){return Ny(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}I(Cg,"id","bar"),I(Cg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),I(Cg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const DE=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},E8=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class NE extends Ii{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=De(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=vt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=DE(i,r);let c,u;t.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const b=i+t/2+r.measureText(g.text).width;(m===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,p+=u,f++),l[m]={left:0,top:p,row:f,width:b,height:s},c[c.length-1]+=b+a}),h}_fitCols(e,t,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:x,itemHeight:w}=A8(i,t,r,b,s);y>0&&p+w+2*a>u&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[y]={left:g,top:p,col:m,width:x,height:w},f=Math.max(f,x),p+=w+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ql(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=$t(i,this.left+s,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=$t(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=$t(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=$t(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Z1(e,this),this._draw(),J1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Ze.color,l=Ql(e.rtl,this.left,this.width),c=vt(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:b}=DE(o,h),y=function(C,T,P){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;s.save();const L=ie(P.lineWidth,1);if(s.fillStyle=ie(P.fillStyle,a),s.lineCap=ie(P.lineCap,"butt"),s.lineDashOffset=ie(P.lineDashOffset,0),s.lineJoin=ie(P.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=ie(P.strokeStyle,a),s.setLineDash(ie(P.lineDash,[])),o.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:L},N=l.xPlus(C,g/2),z=T+f;XP(s,M,N,z,o.pointStyleWidth&&g)}else{const M=T+Math.max((h-m)/2,0),N=l.leftForLtr(C,g),z=$a(P.borderRadius);s.beginPath(),Object.values(z).some($=>$!==0)?Xh(s,{x:N,y:M,w:g,h:m,radius:z}):s.rect(N,M,g,m),s.fill(),L!==0&&s.stroke()}s.restore()},x=function(C,T,P){ol(s,P.text,C,T+b/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?p={x:$t(r,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:p={x:this.left+u,y:$t(r,this.top+_+u,this.bottom-t[0].height),line:0},eR(this.ctx,e.textDirection);const E=b+u;this.legendItems.forEach((C,T)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const P=s.measureText(C.text).width,L=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),M=g+f+P;let N=p.x,z=p.y;l.setWidth(this.width),w?T>0&&N+M+u>this.right&&(z=p.y+=E,p.line++,N=p.x=$t(r,this.left+u,this.right-i[p.line])):T>0&&z+E>this.bottom&&(N=p.x=N+t[p.line].width+u,p.line++,z=p.y=$t(r,this.top+_+u,this.bottom-t[p.line].height));const $=l.x(N);if(y($,z,C),N=x6(L,N+g+f,w?N+M:this.right,e.rtl),x(l.x(N),z,C),w)p.x+=M+u;else if(typeof C.text!="string"){const G=c.lineHeight;p.y+=vR(C,G)+u}else p.y+=E}),tR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=vt(t.font),s=Jt(t.padding);if(!t.display)return;const r=Ql(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=$t(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);u=c+$t(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=$t(a,h,h+f);o.textAlign=r.textAlign(Y1(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,ol(o,t.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,t=vt(e.font),i=Jt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if(eo(e,this.left,this.right)&&eo(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],eo(e,s.left,s.left+s.width)&&eo(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!T8(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=E8(s,i);s&&!r&&De(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&De(t.onHover,[e,i,this],this)}else i&&De(t.onClick,[e,i,this],this)}}function A8(n,e,t,i,s){const r=k8(i,n,e,t),o=C8(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function k8(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(s).width}function C8(n,e,t){let i=n;return typeof e.text!="string"&&(i=vR(e,t)),i}function vR(n,e){const t=n.text?n.text.length:0;return e*t}function T8(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var P8={id:"legend",_element:NE,start(n,e,t){const i=n.legend=new NE({ctx:n.ctx,options:t,chart:n});ai.configure(n,i,t),ai.addBox(n,i)},stop(n){ai.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;ai.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Jt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class bR extends Ii{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=$e(i.text)?i.text.length:1;this._padding=Jt(i.padding);const r=s*vt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=$t(a,i,r),h=t+e,c=r-i):(o.position==="left"?(u=i+e,h=$t(a,s,t),l=He*-.5):(u=r-e,h=$t(a,t,s),l=He*.5),c=s-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=vt(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ol(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:Y1(t.align),textBaseline:"middle",translation:[o,a]})}}function R8(n,e){const t=new bR({ctx:n.ctx,options:e,chart:n});ai.configure(n,t,e),ai.addBox(n,t),n.titleBlock=t}var L8={id:"title",_element:bR,start(n,e,t){R8(n,t)},stop(n){const e=n.titleBlock;ai.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;ai.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nh={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=hx(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Bi(n,e){return e&&($e(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function _s(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function M8(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function IE(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=e,l=vt(e.bodyFont),c=vt(e.titleFont),u=vt(e.footerFont),h=r.length,f=s.length,p=i.length,g=Jt(e.padding);let m=g.height,b=0,y=i.reduce((_,E)=>_+E.before.length+E.lines.length+E.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*_+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const w=function(_){b=Math.max(b,t.measureText(_).width+x)};return t.save(),t.font=c.string,xe(n.title,w),t.font=l.string,xe(n.beforeBody.concat(n.afterBody),w),x=e.displayColors?o+2+e.boxPadding:0,xe(i,_=>{xe(_.before,w),xe(_.lines,w),xe(_.after,w)}),x=0,t.font=u.string,xe(n.footer,w),t.restore(),b+=g.width,{width:b,height:m}}function O8(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function D8(n,e,t,i){const{x:s,width:r}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+r+o>e.width||n==="right"&&s-r-o<0)return!0}function N8(n,e,t,i){const{x:s,width:r}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),D8(c,n,e,t)&&(c="center"),c}function jE(n,e,t){const i=t.yAlign||e.yAlign||O8(n,t);return{xAlign:t.xAlign||e.xAlign||N8(n,e,t,i),yAlign:i}}function I8(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function j8(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function FE(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=$a(o);let g=I8(e,a);const m=j8(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+s:a==="right"&&(g+=Math.max(h,p)+s),{x:Kt(g,0,i.width-e.width),y:Kt(m,0,i.height-e.height)}}function Lp(n,e,t){const i=Jt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function zE(n){return Bi([],_s(n))}function F8(n,e,t){return Eo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function HE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const xR={beforeTitle:bs,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:bs,beforeBody:bs,beforeLabel:bs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return _e(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:bs,afterBody:bs,beforeFooter:bs,footer:bs,afterFooter:bs};function fn(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?xR[e].call(t,i):s}class yx extends Ii{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new iR(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=F8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=fn(i,"beforeTitle",this,e),r=fn(i,"title",this,e),o=fn(i,"afterTitle",this,e);let a=[];return a=Bi(a,_s(s)),a=Bi(a,_s(r)),a=Bi(a,_s(o)),a}getBeforeBody(e,t){return zE(fn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return xe(e,r=>{const o={before:[],lines:[],after:[]},a=HE(i,r);Bi(o.before,_s(fn(a,"beforeLabel",this,r))),Bi(o.lines,fn(a,"label",this,r)),Bi(o.after,_s(fn(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return zE(fn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=fn(i,"beforeFooter",this,e),r=fn(i,"footer",this,e),o=fn(i,"afterFooter",this,e);let a=[];return a=Bi(a,_s(s)),a=Bi(a,_s(r)),a=Bi(a,_s(o)),a}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(M8(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),xe(a,u=>{const h=HE(e.callbacks,u);s.push(fn(h,"labelColor",this,u)),r.push(fn(h,"labelPointStyle",this,u)),o.push(fn(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=nh[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=IE(this,i),c=Object.assign({},a,l),u=jE(this.chart,i,c),h=FE(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=$a(a),{x:f,y:p}=e,{width:g,height:m}=t;let b,y,x,w,_,E;return r==="center"?(_=p+m/2,s==="left"?(b=f,y=b-o,w=_+o,E=_-o):(b=f+g,y=b+o,w=_-o,E=_+o),x=b):(s==="left"?y=f+Math.max(l,u)+o:s==="right"?y=f+g-Math.max(c,h)-o:y=this.caretX,r==="top"?(w=p,_=w-o,b=y-o,x=y+o):(w=p+m,_=w+o,b=y+o,x=y-o),E=w),{x1:b,x2:y,x3:x,y1:w,y2:_,y3:E}}drawTitle(e,t,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Ql(i.rtl,this.x,this.width);for(e.x=Lp(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",o=vt(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=vt(r.bodyFont),h=Lp(this,"left",r),f=s.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+p;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(f,c)+c/2,y=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,fx(e,m,b,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fx(e,m,b,y)}else{e.lineWidth=pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(f,c),b=s.leftForLtr(s.xPlus(f,1),c-2),y=$a(o.borderRadius);Object.values(y).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Xh(e,{x:m,y:g,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Xh(e,{x:b,y:g+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=vt(i.bodyFont);let f=h.lineHeight,p=0;const g=Ql(i.rtl,this.x,this.width),m=function(P){t.fillText(P,g.x(e.x+p),e.y+f/2),e.y+=f+r},b=g.textAlign(o);let y,x,w,_,E,C,T;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=Lp(this,b,i),t.fillStyle=i.bodyColor,xe(this.beforeBody,m),p=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,C=s.length;_<C;++_){for(y=s[_],x=this.labelTextColors[_],t.fillStyle=x,xe(y.before,m),w=y.lines,a&&w.length&&(this._drawColorBox(t,e,_,g,i),f=Math.max(h.lineHeight,l)),E=0,T=w.length;E<T;++E)m(w[E]),f=h.lineHeight;xe(y.after,m)}p=0,f=h.lineHeight,xe(this.afterBody,m),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Ql(i.rtl,this.x,this.width);for(e.x=Lp(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",o=vt(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=$a(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(a+c-f,l),t.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(a+c,l+u-g),t.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(a+p,l+u),t.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=nh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=IE(this,e),l=Object.assign({},o,this._size),c=jE(t,e,l),u=FE(e,l,c,t);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Jt(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),eR(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),tR(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!fm(i,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),a=this._positionChanged(o,e),l=t||!fm(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,o=nh[r.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}I(yx,"positioners",nh);var z8={id:"tooltip",_element:yx,positioners:nh,afterInit(n,e,t){t&&(n.tooltip=new yx({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const H8=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function B8(n,e,t,i){const s=n.indexOf(e);if(s===-1)return H8(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const U8=(n,e)=>n===null?null:Kt(Math.round(n),0,e);function BE(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class vx extends gl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(_e(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:B8(i,e,ie(t,e),this._addedLabels),U8(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return BE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}I(vx,"id","category"),I(vx,"defaults",{ticks:{callback:BE}});function W8(n,e){const t=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=r||1,g=u-1,{min:m,max:b}=e,y=!_e(o),x=!_e(a),w=!_e(c),_=(b-m)/(h+1);let E=WS((b-m)/g/p)*p,C,T,P,L;if(E<1e-14&&!y&&!x)return[{value:m},{value:b}];L=Math.ceil(b/E)-Math.floor(m/E),L>g&&(E=WS(L*E/g/p)*p),_e(l)||(C=Math.pow(10,l),E=Math.ceil(E*C)/C),s==="ticks"?(T=Math.floor(m/E)*E,P=Math.ceil(b/E)*E):(T=m,P=b),y&&x&&r&&f6((a-o)/r,E/1e3)?(L=Math.round(Math.min((a-o)/E,u)),E=(a-o)/L,T=o,P=a):w?(T=y?o:T,P=x?a:P,L=c-1,E=(P-T)/L):(L=(P-T)/E,gh(L,Math.round(L),E/1e3)?L=Math.round(L):L=Math.ceil(L));const M=Math.max(VS(E),VS(T));C=Math.pow(10,_e(l)?M:l),T=Math.round(T*C)/C,P=Math.round(P*C)/C;let N=0;for(y&&(f&&T!==o?(t.push({value:o}),T<o&&N++,gh(Math.round((T+N*E)*C)/C,o,UE(o,_,n))&&N++):T<o&&N++);N<L;++N){const z=Math.round((T+N*E)*C)/C;if(x&&z>a)break;t.push({value:z})}return x&&f&&P!==a?t.length&&gh(t[t.length-1].value,a,UE(a,_,n))?t[t.length-1].value=a:t.push({value:a}):(!x||P===a)&&t.push({value:P}),t}function UE(n,e,{horizontal:t,minRotation:i}){const s=cs(i),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class xm extends gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return _e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=t?s:l,a=l=>r=i?r:l;if(e){const l=ds(s),c=ds(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=W8(s,r);return e.bounds==="ticks"&&HP(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return k0(e,this.chart.options.locale,this.options.ticks.format)}}class bx extends xm{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=At(e)?e:0,this.max=At(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=cs(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}I(bx,"id","linear"),I(bx,"defaults",{ticks:{callback:C0.formatters.numeric}});const Yh=n=>Math.floor(Qr(n)),Po=(n,e)=>Math.pow(10,Yh(n)+e);function WE(n){return n/Math.pow(10,Yh(n))===1}function VE(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function V8(n,e){const t=e-n;let i=Yh(t);for(;VE(n,e,i)>10;)i++;for(;VE(n,e,i)<10;)i--;return Math.min(i,Yh(n))}function $8(n,{min:e,max:t}){e=Rn(n.min,e);const i=[],s=Yh(e);let r=V8(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Rn(n.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<t;)i.push({value:f,major:WE(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const p=Rn(n.max,f);return i.push({value:p,major:WE(p),significand:h}),i}class $E extends gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=xm.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return At(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=At(e)?Math.max(0,e):null,this.max=At(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!At(this._userMin)&&(this.min=e===Po(this.min,0)?Po(this.min,-1):Po(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=t?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Po(i,-1)),o(Po(s,1)))),i<=0&&r(Po(s,-1)),s<=0&&o(Po(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=$8(t,this);return e.bounds==="ticks"&&HP(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":k0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qr(e),this._valueRange=Qr(this.max)-Qr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}I($E,"id","logarithmic"),I($E,"defaults",{ticks:{callback:C0.formatters.logarithmic,major:{enabled:!0}}});function xx(n){const e=n.ticks;if(e.display&&n.display){const t=Jt(e.backdropPadding);return ie(e.font&&e.font.size,Ze.font.size)+t.height}return 0}function G8(n,e,t){return t=$e(t)?t:[t],{w:M6(n,e.string,t),h:t.length*e.lineHeight}}function GE(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function X8(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?He/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));s[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+s[l],a),h=vt(c.font),f=G8(n.ctx,h,n._pointLabels[l]);i[l]=f;const p=Pi(n.getIndexAngle(l)+a),g=Math.round(X1(p)),m=GE(g,u.x,f.w,0,180),b=GE(g,u.y,f.h,90,270);q8(t,e,p,m,b)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=Z8(n,i,s)}function q8(n,e,t,i,s){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,n.t=Math.min(n.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function Y8(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=t,l=n.getPointPosition(e,i+s+o,r),c=Math.round(X1(Pi(l.angle+tt))),u=eB(l.y,a.h,c),h=J8(c),f=Q8(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function K8(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:r}=n;return!(nr({x:t,y:i},e)||nr({x:t,y:r},e)||nr({x:s,y:i},e)||nr({x:s,y:r},e))}function Z8(n,e,t){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:xx(r)/2,additionalAngle:o?He/s:0};let c;for(let u=0;u<s;u++){l.padding=t[u],l.size=e[u];const h=Y8(n,u,l);i.push(h),a==="auto"&&(h.visible=K8(h,c),h.visible&&(c=h))}return i}function J8(n){return n===0||n===180?"center":n<180?"left":"right"}function Q8(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function eB(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function tB(n,e,t){const{left:i,top:s,right:r,bottom:o}=t,{backdropColor:a}=e;if(!_e(a)){const l=$a(e.borderRadius),c=Jt(e.backdropPadding);n.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,p=o-s+c.height;Object.values(l).some(g=>g!==0)?(n.beginPath(),Xh(n,{x:u,y:h,w:f,h:p,radius:l}),n.fill()):n.fillRect(u,h,f,p)}}function nB(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));tB(t,o,r);const a=vt(o.font),{x:l,y:c,textAlign:u}=r;ol(t,n._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function wR(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,ze);else{let r=n.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function iB(n,e,t,i,s){const r=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),wR(n,t,o,i),r.closePath(),r.stroke(),r.restore())}function sB(n,e,t){return Eo(n,{label:t,index:e,type:"pointLabel"})}class Mp extends xm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Jt(xx(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=At(e)&&!isNaN(e)?e:0,this.max=At(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xx(this.options))}generateTickLabels(e){xm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=De(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?X8(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=ze/(this._pointLabels.length||1),i=this.options.startAngle||0;return Pi(e*t+cs(i))}getDistanceFromCenterForValue(e){if(_e(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(_e(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return sB(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-tt+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),wR(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:r}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&nB(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=s.setContext(f),g=r.setContext(f);iB(this,p,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=i.setContext(this.getContext(l)),u=vt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Jt(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}ol(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}I(Mp,"id","radialLinear"),I(Mp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:C0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),I(Mp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),I(Mp,"descriptors",{angleLines:{_fallback:"grid"}});const R0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(R0);function XE(n,e){return n-e}function qE(n,e){if(_e(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),At(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&($h(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function YE(n,e,t,i){const s=vn.length;for(let r=vn.indexOf(n);r<s-1;++r){const o=R0[vn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return vn[r]}return vn[s-1]}function rB(n,e,t,i,s){for(let r=vn.length-1;r>=vn.indexOf(t);r--){const o=vn[r];if(R0[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return vn[t?vn.indexOf(t):0]}function oB(n){for(let e=vn.indexOf(n)+1,t=vn.length;e<t;++e)if(R0[vn[e]].common)return vn[e]}function KE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=q1(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function aB(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function ZE(n,e,t){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!t?i:aB(n,i,s,t)}class wm extends gl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new Yz._date(e.adapters.date);s.init(t),ph(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:qE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=At(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=At(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=y6(s,r,o);return this._unit=t.unit||(i.autoSkip?YE(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):rB(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oB(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),ZE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Kt(t,0,o),i=Kt(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||YE(r.minUnit,t,i,this._getLabelCapacity(t)),a=ie(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=$h(l)||l===!0,u={};let h=t,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+e.add(f,a,o),p++)KE(u,f,g);return(f===i||s.bounds==="ticks"||p===1)&&KE(u,f,g),Object.keys(u).sort(XE).map(m=>+m)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const r=this.options,o=r.ticks.callback;if(o)return De(o,[e,t,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[t],p=c&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:u))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=cs(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,ZE(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(qE(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return WP(e.sort(XE))}}I(wm,"id","time"),I(wm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Op(n,e,t){let i=0,s=n.length-1,r,o,a,l;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Go(n,"pos",e)),{pos:r,time:a}=n[i],{pos:o,time:l}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Go(n,"time",e)),{time:r,pos:a}=n[i],{time:o,pos:l}=n[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class JE extends wm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Op(t,this.min),this._tableRange=Op(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=i&&s.push(c);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Op(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Op(this._table,i*this._tableRange+this._minPos,!0)}}I(JE,"id","timeseries"),I(JE,"defaults",wm.defaults);const _R="label";function QE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function lB(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function SR(n,e){n.labels=e}function ER(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_R;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(o=>o[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function cB(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_R;const t={labels:[],datasets:[]};return SR(t,n.labels),ER(t,n.datasets,e),t}function uB(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=n,p=R.useRef(null),g=R.useRef(),m=()=>{p.current&&(g.current=new P0(p.current,{type:o,data:cB(a,r),options:l&&{...l},plugins:c}),QE(e,g.current))},b=()=>{QE(e,null),g.current&&(g.current.destroy(),g.current=null)};return R.useEffect(()=>{!s&&g.current&&l&&lB(g.current,l)},[s,l]),R.useEffect(()=>{!s&&g.current&&SR(g.current.config.data,a.labels)},[s,a.labels]),R.useEffect(()=>{!s&&g.current&&a.datasets&&ER(g.current.config.data,a.datasets,r)},[s,a.datasets]),R.useEffect(()=>{g.current&&(s?(b(),setTimeout(m)):g.current.update(h))},[s,l,a.labels,a.datasets,h]),R.useEffect(()=>{g.current&&(b(),setTimeout(m))},[o]),R.useEffect(()=>(m(),()=>b()),[]),Li.createElement("canvas",Object.assign({ref:p,role:"img",height:t,width:i},f),u)}const hB=R.forwardRef(uB);function ow(n,e){return P0.register(e),R.forwardRef((t,i)=>Li.createElement(hB,Object.assign({},t,{ref:i,type:n})))}const dB=ow("line",Sg),fB=ow("bar",_g),pB=ow("doughnut",Ju);P0.register(vx,bx,kg,th,L8,z8,P8,Cg,eh);const gB=()=>{const n=[{name:"Project 1",views:500,conversions:75,completionRate:85},{name:"Project 2",views:300,conversions:50,completionRate:90},{name:"Project 3",views:1e3,conversions:150,completionRate:80}],e={labels:n.map(s=>s.name),datasets:[{label:"Project Views Over Time",data:n.map(s=>s.views),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0}]},t={labels:n.map(s=>s.name),datasets:[{label:"Conversions",data:n.map(s=>s.conversions),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Views",data:n.map(s=>s.views),backgroundColor:"rgba(255, 206, 86, 0.6)",borderColor:"rgba(255, 206, 86, 1)",borderWidth:1}]},i={labels:n.map(s=>s.name),datasets:[{label:"Completion Rate",data:n.map(s=>s.completionRate),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return v.jsxs("div",{className:"max-w-6xl mx-auto mt-[100px] ml-[200px] text-neutral-900",children:[v.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Project Analytics"}),v.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[v.jsxs("div",{className:"p-6 bg-white shadow rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Total Projects"}),v.jsx("p",{className:"text-4xl font-bold text-indigo-600",children:n.length})]}),v.jsxs("div",{className:"p-6 bg-white shadow rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Total Views"}),v.jsx("p",{className:"text-4xl font-bold text-indigo-600",children:n.reduce((s,r)=>s+r.views,0)})]}),v.jsxs("div",{className:"p-6 bg-white shadow rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Total Conversions"}),v.jsx("p",{className:"text-4xl font-bold text-indigo-600",children:n.reduce((s,r)=>s+r.conversions,0)})]})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Views Over Time"}),v.jsx("div",{className:"p-6 bg-white shadow rounded-lg",children:v.jsx(dB,{data:e})})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Conversions vs Views"}),v.jsx("div",{className:"p-6 bg-white shadow rounded-lg",children:v.jsx(fB,{data:t})})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Completion Rate by Project"}),v.jsx("div",{className:"flex justify-center p-6 bg-white shadow rounded-lg",children:v.jsx("div",{className:"w-64 h-64",children:v.jsx(pB,{data:i})})})]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Detailed Analytics for Each Project"}),n.map((s,r)=>v.jsxs("div",{className:"p-6 mb-6 bg-white shadow rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:s.name}),v.jsxs("p",{className:"text-gray-600",children:["Views: ",s.views]}),v.jsxs("p",{className:"text-gray-600",children:["Conversions: ",s.conversions]}),v.jsxs("p",{className:"text-gray-600",children:["Completion Rate: ",s.completionRate,"%"]})]},r))]}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Summary and Insights"}),v.jsx("div",{className:"p-6 bg-white shadow rounded-lg",children:v.jsx("p",{className:"text-gray-700",children:"Based on the data, Project 3 is currently leading in both views and conversions. However, Project 2 has the highest completion rate, which suggests strong user engagement. Consider focusing more on strategies that increase views for Project 2 while maintaining the engagement levels."})})]})]})},mB=un(gB),yB=()=>(R.useEffect(()=>{Iv.forEach(n=>{const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(n.css)),document.head.appendChild(e);const t=document.createElement("script");t.type="text/javascript",t.appendChild(document.createTextNode(n.js)),document.body.appendChild(t)})},[]),v.jsxs("div",{className:"mb-8 mt-[90px] ml-[200px] text-neutral-900",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Headers"}),v.jsx("div",{className:"flex flex-col gap-4 px-[20px]",children:Iv.map(n=>v.jsxs("div",{className:"border p-4 rounded shadow width-[200px]",children:[v.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Header ",n.id]}),v.jsx("div",{dangerouslySetInnerHTML:{__html:n.html}})]},n.id))})]})),vB=un(yB),bB=()=>{const n=[{name:"Headers",path:"/headers"},{name:"Hero Sections",path:"/herosections"},{name:"Footers",path:"/footers"}];return v.jsxs("div",{className:"mt-[100px] ml-[200px] text-neutral-900",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Components Library"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(e=>v.jsx(jk,{to:e.path,children:v.jsx("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-shadow duration-300",children:v.jsx("h2",{className:"text-xl font-semibold",children:e.name})})},e.name))})]})},xB=un(bB),wB=()=>{const n=[{name:"Hero 1",folder:"Hero1"},{name:"Hero 2",folder:"Hero2"},{name:"Hero 3",folder:"Hero3"},{name:"Hero 4",folder:"Hero4"},{name:"Hero 5",folder:"Hero5"},{name:"Hero 6",folder:"Hero6"}],[e,t]=R.useState(null),i=R.useRef(null),s=o=>v.jsx("div",{className:"hero-preview",style:{width:"100%",overflow:"hidden"},children:v.jsx("iframe",{ref:i,src:`/hero-sections/${o.folder}/index.html`,title:o.name,className:"w-full border-none",onLoad:r,style:{height:"100%"}})}),r=()=>{const o=i.current;o&&(o.style.height=o.contentWindow.document.body.scrollHeight+"px")};return v.jsxs("div",{className:"mt-[90px] ml-[200px] text-neutral-900",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Hero Sections"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((o,a)=>v.jsx("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>t(o),children:v.jsx("h2",{className:"text-xl font-semibold",children:o.name})},a))}),e&&v.jsxs("div",{className:"mt-8",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:e.name}),s(e)]})]})},_B=un(wB),SB=()=>{const n=[{name:"Footer 1",folder:"footer-1"},{name:"Footer 2",folder:"footer-2"},{name:"Footer 3",folder:"footer-3"},{name:"Footer 4",folder:"footer-4"}],[e,t]=R.useState(null),i=R.useRef(null);R.useEffect(()=>{r()},[e]);const s=o=>v.jsx("div",{className:"footer-preview",style:{width:"100%",overflow:"hidden",marginTop:"20px"},children:v.jsx("iframe",{ref:i,src:`/footers/${o.folder}/index.html`,title:o.name,className:"w-full border-none",onLoad:r,style:{height:"100%",minHeight:"400px"}})}),r=()=>{const o=i.current;o&&(o.style.height=o.contentWindow.document.body.scrollHeight+"px")};return v.jsxs("div",{className:"mt-[90px] ml-[200px] text-neutral-900",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Footers"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((o,a)=>v.jsx("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>t(o),children:v.jsx("h2",{className:"text-xl font-semibold",children:o.name})},a))}),e&&v.jsxs("div",{className:"mt-8",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:e.name}),s(e)]})]})},EB=un(SB),AB=({onSave:n})=>{const{projectId:e}=x1(),[t,i]=R.useState(null),[s,r]=R.useState(""),o=gr();R.useEffect(()=>{e&&(async()=>{try{const f=await ke.get(`http://localhost:5000/api/projects/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});i(f.data.project)}catch(f){console.error("Error fetching project details:",f)}})()},[e]);const a=()=>{n(t)},l=()=>{o(`/canvas/${t._id}`)},c=()=>{s&&(i(h=>({...h,collaborators:[...h.collaborators,s]})),r(""))};if(!t)return v.jsx("div",{children:"Loading..."});const{uiComponents:u}=t;return v.jsxs("div",{className:"mx-auto p-4 mt-[100px] ml-[200px] text-neutral-900",children:[v.jsxs("div",{className:"flex flex-row justify-between",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:t.title}),v.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md bg-gradient-to-r from-purple-600 to-purple-900",onClick:l,children:"Edit Template"})]}),v.jsx("img",{src:`http://localhost:5000/uploads/${t.image}`,alt:t.title,className:"w-full h-48 object-cover rounded mb-4"}),v.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{className:"text-xl font-semibold",children:"UI Components Used:"}),v.jsxs("ul",{className:"list-disc ml-6",children:[u.header&&v.jsx("li",{children:`Header: ${u.header}`}),u.hero&&v.jsx("li",{children:`Hero Section: ${u.hero}`}),u.footer&&v.jsx("li",{children:`Footer: ${u.footer}`})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{className:"text-xl font-semibold",children:"Collaborators:"}),v.jsx("ul",{className:"list-disc ml-6",children:t.collaborators.map((h,f)=>v.jsx("li",{children:h},f))}),v.jsx("input",{type:"email",value:s,onChange:h=>r(h.target.value),placeholder:"Add collaborator's email",className:"border rounded p-2 mt-2 w-full bg-neutral-100"}),v.jsx("button",{className:"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg shadow-md",onClick:c,children:"Add Collaborator"})]}),v.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md",onClick:a,children:"Save Changes"})]})},kB=un(AB),CB=[{id:1,owner:"John Doe",image:"https://via.placeholder.com/150",title:"Portfolio Website",description:"A personal portfolio website to showcase my projects and skills.",uiComponents:["Header","Hero Section","Footer"],collaborators:["jane@example.com","bob@example.com"],documentation:"https://example.com/portfolio-docs"},{id:2,owner:"Jane Smith",image:"https://via.placeholder.com/150",title:"E-commerce Platform",description:"An online store for selling products with integrated payment gateway.",uiComponents:["Header","Product Grid","Footer"],collaborators:["john@example.com"],documentation:"https://example.com/ecommerce-docs"},{id:3,owner:"Alice Johnson",image:"https://via.placeholder.com/150",title:"Blog Website",description:"A blog platform for sharing articles and connecting with readers.",uiComponents:["Header","Blog Post List","Footer"],collaborators:["charlie@example.com"],documentation:"https://example.com/blog-docs"}],AR=R.createContext(),TB=({children:n})=>{const[e,t]=R.useState(CB),i=s=>{t(r=>[...r,s])};return v.jsx(AR.Provider,{value:{projects:e,addProject:i},children:n})},PB=()=>{const{addProject:n}=R.useContext(AR),{user:e}=R.useContext(h0),[t,i]=R.useState(""),[s,r]=R.useState(""),[o,a]=R.useState(null),[l,c]=R.useState(null),u=gr(),h=p=>{const g=p.target.files[0];a(g)},f=async()=>{const p=new FormData;p.append("title",t),p.append("description",s),p.append("owner",e.email),o&&p.append("image",o),l&&p.append("documentation",l);try{const g=await fetch("http://localhost:5000/api/projects/create",{method:"POST",body:p});if(g.ok){const m=await g.json();n(m.project),u("/projects")}else console.error("Failed to create project")}catch(g){console.error("Error:",g)}};return v.jsxs("div",{className:"mx-auto p-4 mt-[100px] ml-[200px] text-neutral-900",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Create New Project"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700",children:"Title"}),v.jsx("input",{type:"text",value:t,onChange:p=>i(p.target.value),className:"w-full p-2 border rounded bg-neutral-100"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700",children:"Description"}),v.jsx("textarea",{value:s,onChange:p=>r(p.target.value),className:"w-full p-2 border rounded bg-neutral-100"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700",children:"Upload Image"}),v.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"w-full p-2 border rounded bg-neutral-100"})]}),v.jsx("div",{className:"flex justify-center items-center",children:v.jsx("button",{className:"px-4 py-2 text-white rounded-md bg-gradient-to-r from-purple-800 to-black button-shine h-[50px]",onClick:f,children:"Add Project"})})]})},RB=un(PB),LB=R.createContext({dragDropManager:void 0});function Yn(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var eA=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),jy=function(){return Math.random().toString(36).substring(7).split("").join(".")},tA={INIT:"@@redux/INIT"+jy(),REPLACE:"@@redux/REPLACE"+jy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jy()}};function MB(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function kR(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Yn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Yn(1));return t(kR)(n,e)}if(typeof n!="function")throw new Error(Yn(2));var s=n,r=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Yn(3));return r}function h(m){if(typeof m!="function")throw new Error(Yn(4));if(l)throw new Error(Yn(5));var b=!0;return c(),a.push(m),function(){if(b){if(l)throw new Error(Yn(6));b=!1,c();var x=a.indexOf(m);a.splice(x,1),o=null}}}function f(m){if(!MB(m))throw new Error(Yn(7));if(typeof m.type>"u")throw new Error(Yn(8));if(l)throw new Error(Yn(9));try{l=!0,r=s(r,m)}finally{l=!1}for(var b=o=a,y=0;y<b.length;y++){var x=b[y];x()}return m}function p(m){if(typeof m!="function")throw new Error(Yn(10));s=m,f({type:tA.REPLACE})}function g(){var m,b=h;return m={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Yn(11));function w(){x.next&&x.next(u())}w();var _=b(w);return{unsubscribe:_}}},m[eA]=function(){return this},m}return f({type:tA.INIT}),i={dispatch:f,subscribe:h,getState:u,replaceReducer:p},i[eA]=g,i}function he(n,e,...t){if(OB()&&e===void 0)throw new Error("invariant requires an error message argument");if(!n){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;i=new Error(e.replace(/%s/g,function(){return t[s++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function OB(){return typeof process<"u"&&!0}function DB(n,e,t){return e.split(".").reduce((i,s)=>i&&i[s]?i[s]:t||null,n)}function NB(n,e){return n.filter(t=>t!==e)}function CR(n){return typeof n=="object"}function IB(n,e){const t=new Map,i=r=>{t.set(r,t.has(r)?t.get(r)+1:1)};n.forEach(i),e.forEach(i);const s=[];return t.forEach((r,o)=>{r===1&&s.push(o)}),s}function jB(n,e){return n.filter(t=>e.indexOf(t)>-1)}const aw="dnd-core/INIT_COORDS",L0="dnd-core/BEGIN_DRAG",lw="dnd-core/PUBLISH_DRAG_SOURCE",M0="dnd-core/HOVER",O0="dnd-core/DROP",D0="dnd-core/END_DRAG";function nA(n,e){return{type:aw,payload:{sourceClientOffset:e||null,clientOffset:n||null}}}const FB={type:aw,payload:{clientOffset:null,sourceClientOffset:null}};function zB(n){return function(t=[],i={publishSource:!0}){const{publishSource:s=!0,clientOffset:r,getSourceClientOffset:o}=i,a=n.getMonitor(),l=n.getRegistry();n.dispatch(nA(r)),HB(t,a,l);const c=WB(t,a);if(c==null){n.dispatch(FB);return}let u=null;if(r){if(!o)throw new Error("getSourceClientOffset must be defined");BB(o),u=o(c)}n.dispatch(nA(r,u));const f=l.getSource(c).beginDrag(a,c);if(f==null)return;UB(f),l.pinSource(c);const p=l.getSourceType(c);return{type:L0,payload:{itemType:p,item:f,sourceId:c,clientOffset:r||null,sourceClientOffset:u||null,isSourcePublic:!!s}}}}function HB(n,e,t){he(!e.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(i){he(t.getSource(i),"Expected sourceIds to be registered.")})}function BB(n){he(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function UB(n){he(CR(n),"Item must be an object.")}function WB(n,e){let t=null;for(let i=n.length-1;i>=0;i--)if(e.canDragSource(n[i])){t=n[i];break}return t}function VB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $B(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.forEach(function(s){VB(n,s,t[s])})}return n}function GB(n){return function(t={}){const i=n.getMonitor(),s=n.getRegistry();XB(i),KB(i).forEach((o,a)=>{const l=qB(o,a,s,i),c={type:O0,payload:{dropResult:$B({},t,l)}};n.dispatch(c)})}}function XB(n){he(n.isDragging(),"Cannot call drop while not dragging."),he(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function qB(n,e,t,i){const s=t.getTarget(n);let r=s?s.drop(i,n):void 0;return YB(r),typeof r>"u"&&(r=e===0?{}:i.getDropResult()),r}function YB(n){he(typeof n>"u"||CR(n),"Drop result must either be an object or undefined.")}function KB(n){const e=n.getTargetIds().filter(n.canDropOnTarget,n);return e.reverse(),e}function ZB(n){return function(){const t=n.getMonitor(),i=n.getRegistry();JB(t);const s=t.getSourceId();return s!=null&&(i.getSource(s,!0).endDrag(t,s),i.unpinSource()),{type:D0}}}function JB(n){he(n.isDragging(),"Cannot call endDrag while not dragging.")}function wx(n,e){return e===null?n===null:Array.isArray(n)?n.some(t=>t===e):n===e}function QB(n){return function(t,{clientOffset:i}={}){e9(t);const s=t.slice(0),r=n.getMonitor(),o=n.getRegistry(),a=r.getItemType();return n9(s,o,a),t9(s,r,o),i9(s,r,o),{type:M0,payload:{targetIds:s,clientOffset:i||null}}}}function e9(n){he(Array.isArray(n),"Expected targetIds to be an array.")}function t9(n,e,t){he(e.isDragging(),"Cannot call hover while not dragging."),he(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<n.length;i++){const s=n[i];he(n.lastIndexOf(s)===i,"Expected targetIds to be unique in the passed array.");const r=t.getTarget(s);he(r,"Expected targetIds to be registered.")}}function n9(n,e,t){for(let i=n.length-1;i>=0;i--){const s=n[i],r=e.getTargetType(s);wx(r,t)||n.splice(i,1)}}function i9(n,e,t){n.forEach(function(i){t.getTarget(i).hover(e,i)})}function s9(n){return function(){if(n.getMonitor().isDragging())return{type:lw}}}function r9(n){return{beginDrag:zB(n),publishDragSource:s9(n),hover:QB(n),drop:GB(n),endDrag:ZB(n)}}class o9{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function i(r){return(...o)=>{const a=r.apply(e,o);typeof a<"u"&&t(a)}}const s=r9(this);return Object.keys(s).reduce((r,o)=>{const a=s[o];return r[o]=i(a),r},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function a9(n,e){return{x:n.x+e.x,y:n.y+e.y}}function TR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function l9(n){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:i}=n;return!e||!t||!i?null:TR(a9(e,i),t)}function c9(n){const{clientOffset:e,initialClientOffset:t}=n;return!e||!t?null:TR(e,t)}const vh=[],cw=[];vh.__IS_NONE__=!0;cw.__IS_ALL__=!0;function u9(n,e){return n===vh?!1:n===cw||typeof e>"u"?!0:jB(e,n).length>0}class h9{subscribeToStateChange(e,t={}){const{handlerIds:i}=t;he(typeof e=="function","listener must be a function."),he(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const r=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!u9(o.dirtyHandlerIds,i)||e()}finally{s=a}};return this.store.subscribe(r)}subscribeToOffsetChange(e){he(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const i=()=>{const s=this.store.getState().dragOffset;s!==t&&(t=s,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return he(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(he(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();return wx(i,s)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(he(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),s=this.getItemType();return i!==s?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:i}=t;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),r=this.getItemType();if(r&&!wx(s,r))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return i?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return l9(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return c9(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const iA=typeof global<"u"?global:self,PR=iA.MutationObserver||iA.WebKitMutationObserver;function RR(n){return function(){const t=setTimeout(s,0),i=setInterval(s,50);function s(){clearTimeout(t),clearInterval(i),n()}}}function d9(n){let e=1;const t=new PR(n),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const f9=typeof PR=="function"?d9:RR;class p9{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let i=0,s=e.length-this.index;i<s;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=f9(this.flush),this.requestErrorThrow=RR(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class g9{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class m9{create(e){const t=this.freeTasks,i=t.length?t.pop():new g9(this.onError,s=>t[t.length]=s);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const LR=new p9,y9=new m9(LR.registerPendingError);function v9(n){LR.enqueueTask(y9.create(n))}const uw="dnd-core/ADD_SOURCE",hw="dnd-core/ADD_TARGET",dw="dnd-core/REMOVE_SOURCE",N0="dnd-core/REMOVE_TARGET";function b9(n){return{type:uw,payload:{sourceId:n}}}function x9(n){return{type:hw,payload:{targetId:n}}}function w9(n){return{type:dw,payload:{sourceId:n}}}function _9(n){return{type:N0,payload:{targetId:n}}}function S9(n){he(typeof n.canDrag=="function","Expected canDrag to be a function."),he(typeof n.beginDrag=="function","Expected beginDrag to be a function."),he(typeof n.endDrag=="function","Expected endDrag to be a function.")}function E9(n){he(typeof n.canDrop=="function","Expected canDrop to be a function."),he(typeof n.hover=="function","Expected hover to be a function."),he(typeof n.drop=="function","Expected beginDrag to be a function.")}function _x(n,e){if(e&&Array.isArray(n)){n.forEach(t=>_x(t,!1));return}he(typeof n=="string"||typeof n=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ii;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(ii||(ii={}));let A9=0;function k9(){return A9++}function C9(n){const e=k9().toString();switch(n){case ii.SOURCE:return`S${e}`;case ii.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function sA(n){switch(n[0]){case"S":return ii.SOURCE;case"T":return ii.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function rA(n,e){const t=n.entries();let i=!1;do{const{done:s,value:[,r]}=t.next();if(r===e)return!0;i=!!s}while(!i);return!1}class T9{addSource(e,t){_x(e),S9(t);const i=this.addHandler(ii.SOURCE,e,t);return this.store.dispatch(b9(i)),i}addTarget(e,t){_x(e,!0),E9(t);const i=this.addHandler(ii.TARGET,e,t);return this.store.dispatch(x9(i)),i}containsHandler(e){return rA(this.dragSources,e)||rA(this.dropTargets,e)}getSource(e,t=!1){return he(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return he(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return he(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return he(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return sA(e)===ii.SOURCE}isTargetId(e){return sA(e)===ii.TARGET}removeSource(e){he(this.getSource(e),"Expected an existing source."),this.store.dispatch(w9(e)),v9(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){he(this.getTarget(e),"Expected an existing target."),this.store.dispatch(_9(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);he(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){he(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,i){const s=C9(e);return this.types.set(s,t),e===ii.SOURCE?this.dragSources.set(s,i):e===ii.TARGET&&this.dropTargets.set(s,i),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const P9=(n,e)=>n===e;function R9(n,e){return!n&&!e?!0:!n||!e?!1:n.x===e.x&&n.y===e.y}function L9(n,e,t=P9){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!t(n[i],e[i]))return!1;return!0}function M9(n=vh,e){switch(e.type){case M0:break;case uw:case hw:case N0:case dw:return vh;case L0:case lw:case D0:case O0:default:return cw}const{targetIds:t=[],prevTargetIds:i=[]}=e.payload,s=IB(t,i);if(!(s.length>0||!L9(t,i)))return vh;const o=i[i.length-1],a=t[t.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function O9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function D9(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.forEach(function(s){O9(n,s,t[s])})}return n}const oA={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function N9(n=oA,e){const{payload:t}=e;switch(e.type){case aw:case L0:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case M0:return R9(n.clientOffset,t.clientOffset)?n:D9({},n,{clientOffset:t.clientOffset});case D0:case O0:return oA;default:return n}}function I9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _l(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.forEach(function(s){I9(n,s,t[s])})}return n}const j9={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function F9(n=j9,e){const{payload:t}=e;switch(e.type){case L0:return _l({},n,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case lw:return _l({},n,{isSourcePublic:!0});case M0:return _l({},n,{targetIds:t.targetIds});case N0:return n.targetIds.indexOf(t.targetId)===-1?n:_l({},n,{targetIds:NB(n.targetIds,t.targetId)});case O0:return _l({},n,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case D0:return _l({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function z9(n=0,e){switch(e.type){case uw:case hw:return n+1;case dw:case N0:return n-1;default:return n}}function H9(n=0){return n+1}function B9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function U9(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.forEach(function(s){B9(n,s,t[s])})}return n}function W9(n={},e){return{dirtyHandlerIds:M9(n.dirtyHandlerIds,{type:e.type,payload:U9({},e.payload,{prevTargetIds:DB(n,"dragOperation.targetIds",[])})}),dragOffset:N9(n.dragOffset,e),refCount:z9(n.refCount,e),dragOperation:F9(n.dragOperation,e),stateId:H9(n.stateId)}}function V9(n,e=void 0,t={},i=!1){const s=$9(i),r=new h9(s,new T9(s)),o=new o9(s,r),a=n(o,e,t);return o.receiveBackend(a),o}function $9(n){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return kR(W9,n&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function G9(n,e){if(n==null)return{};var t=X9(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function X9(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}let aA=0;const Tg=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var q9=R.memo(function(e){var{children:t}=e,i=G9(e,["children"]);const[s,r]=Y9(i);return R.useEffect(()=>{if(r){const o=MR();return++aA,()=>{--aA===0&&(o[Tg]=null)}}},[]),v.jsx(LB.Provider,{value:s,children:t})});function Y9(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const e=K9(n.backend,n.context,n.options,n.debugMode),t=!n.context;return[e,t]}function K9(n,e=MR(),t,i){const s=e;return s[Tg]||(s[Tg]={dragDropManager:V9(n,e,t,i)}),s[Tg]}function MR(){return typeof global<"u"?global:window}function OR(n){let e=null;return()=>(e==null&&(e=n()),e)}function Z9(n,e){return n.filter(t=>t!==e)}function J9(n,e){const t=new Set,i=r=>t.add(r);n.forEach(i),e.forEach(i);const s=[];return t.forEach(r=>s.push(r)),s}class Q9{enter(e){const t=this.entered.length,i=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=J9(this.entered.filter(i),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=Z9(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class eU{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(i=>{const s=this.config.exposeProperties[i];s!=null&&(t[i]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const DR="__NATIVE_FILE__",NR="__NATIVE_URL__",IR="__NATIVE_TEXT__",jR="__NATIVE_HTML__",lA=Object.freeze(Object.defineProperty({__proto__:null,FILE:DR,HTML:jR,TEXT:IR,URL:NR},Symbol.toStringTag,{value:"Module"}));function Fy(n,e,t){const i=e.reduce((s,r)=>s||n.getData(r),"");return i??t}const Sx={[DR]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[jR]:{exposeProperties:{html:(n,e)=>Fy(n,e,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[NR]:{exposeProperties:{urls:(n,e)=>Fy(n,e,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[IR]:{exposeProperties:{text:(n,e)=>Fy(n,e,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function tU(n,e){const t=Sx[n];if(!t)throw new Error(`native type ${n} has no configuration`);const i=new eU(t);return i.loadDataTransfer(e),i}function zy(n){if(!n)return null;const e=Array.prototype.slice.call(n.types||[]);return Object.keys(Sx).filter(t=>{const i=Sx[t];return i!=null&&i.matchesTypes?i.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const nU=OR(()=>/firefox/i.test(navigator.userAgent)),FR=OR(()=>!!window.safari);class cA{interpolate(e){const{xs:t,ys:i,c1s:s,c2s:r,c3s:o}=this;let a=t.length-1;if(e===t[a])return i[a];let l=0,c=o.length-1,u;for(;l<=c;){u=Math.floor(.5*(l+c));const p=t[u];if(p<e)l=u+1;else if(p>e)c=u-1;else return i[u]}a=Math.max(0,c);const h=e-t[a],f=h*h;return i[a]+s[a]*h+r[a]*f+o[a]*h*f}constructor(e,t){const{length:i}=e,s=[];for(let p=0;p<i;p++)s.push(p);s.sort((p,g)=>e[p]<e[g]?-1:1);const r=[],o=[];let a,l;for(let p=0;p<i-1;p++)a=e[p+1]-e[p],l=t[p+1]-t[p],r.push(a),o.push(l/a);const c=[o[0]];for(let p=0;p<r.length-1;p++){const g=o[p],m=o[p+1];if(g*m<=0)c.push(0);else{a=r[p];const b=r[p+1],y=a+b;c.push(3*y/((y+b)/g+(y+a)/m))}}c.push(o[o.length-1]);const u=[],h=[];let f;for(let p=0;p<c.length-1;p++){f=o[p];const g=c[p],m=1/r[p],b=g+c[p+1]-f-f;u.push((f-g-b)*m),h.push(b*m*m)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=h}}const iU=1;function zR(n){const e=n.nodeType===iU?n:n.parentElement;if(!e)return null;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function Dp(n){return{x:n.clientX,y:n.clientY}}function sU(n){var e;return n.nodeName==="IMG"&&(nU()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(n)))}function rU(n,e,t,i){let s=n?e.width:t,r=n?e.height:i;return FR()&&n&&(r/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:r}}function oU(n,e,t,i,s){const r=sU(e),a=zR(r?n:e),l={x:t.x-a.x,y:t.y-a.y},{offsetWidth:c,offsetHeight:u}=n,{anchorX:h,anchorY:f}=i,{dragPreviewWidth:p,dragPreviewHeight:g}=rU(r,e,c,u),m=()=>{let C=new cA([0,.5,1],[l.y,l.y/u*g,l.y+g-u]).interpolate(f);return FR()&&r&&(C+=(window.devicePixelRatio-1)*g),C},b=()=>new cA([0,.5,1],[l.x,l.x/c*p,l.x+p-c]).interpolate(h),{offsetX:y,offsetY:x}=s,w=y===0||y,_=x===0||x;return{x:w?y:b(),y:_?x:m()}}class aU{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function lU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.forEach(function(s){lU(n,s,t[s])})}return n}class cU{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,i){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);const s=o=>this.handleDragStart(o,e),r=o=>this.handleSelectStart(o);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",r),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const i=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),r=o=>this.handleDrop(o,e);return t.addEventListener("dragenter",i),t.addEventListener("dragover",s),t.addEventListener("drop",r),()=>{t.removeEventListener("dragenter",i),t.removeEventListener("dragover",s),t.removeEventListener("drop",r)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return uA({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return uA({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(lA).some(t=>lA[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=tU(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const r=this.sourceNodes.get(s);return r&&zR(r)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:r}=this;this.dragStartSourceIds=null;const o=Dp(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(r||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=zy(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const u=this.monitor.getSourceId(),h=this.sourceNodes.get(u),f=this.sourcePreviewNodes.get(u)||h;if(f){const{anchorX:p,anchorY:g,offsetX:m,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),w=oU(h,f,o,{anchorX:p,anchorY:g},{offsetX:m,offsetY:b});a.setDragImage(f,w.x,w.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=zy(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:r}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,r.length>0&&this.actions.hover(r,{clientOffset:Dp(s)}),r.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:r}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Dp(s),this.scheduleHover(r),(r||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var r;s.preventDefault(),(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}else zy(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:r}=this;this.dropTargetIds=[],this.actions.hover(r,{clientOffset:Dp(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const r=s.target;typeof r.dragDrop=="function"&&(r.tagName==="INPUT"||r.tagName==="SELECT"||r.tagName==="TEXTAREA"||r.isContentEditable||(s.preventDefault(),r.dragDrop()))},this.options=new aU(t,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Q9(this.isNodeInDocument)}}const uU=function(e,t,i){return new cU(e,t,i)},hU=({components:n})=>v.jsxs("div",{className:"flex-1 p-4 m-2 bg-gray-100 rounded border-dashed border-2 border-gray-300",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Drop Zone"}),n.header&&v.jsxs("div",{className:"p-4 bg-white border border-gray-300 rounded mb-2",children:[v.jsx("style",{children:n.header.css}),v.jsx("div",{dangerouslySetInnerHTML:{__html:n.header.html}})]}),n.hero&&v.jsx("div",{className:"p-4 bg-white border border-gray-300 rounded mb-2",style:{height:"100vh",overflow:"hidden"},children:v.jsx("iframe",{src:`/hero-sections/${n.hero.folder}/index.html`,className:"w-full h-full border-none",title:n.hero.name})}),n.footer&&v.jsx("div",{className:"p-4 bg-white border border-gray-300 rounded mb-2",style:{height:"400px"},children:v.jsx("iframe",{src:`/footers/${n.footer.folder}/index.html`,className:"w-full border-none",style:{height:"100%",minHeight:"200px"},title:n.footer.name})})]}),dU=()=>{const{id:n}=x1(),[e,t]=R.useState({header:null,hero:null,footer:null});R.useEffect(()=>{(async()=>{try{const a=await ke.get(`http://localhost:5000/api/projects/${n}`);a.data.project.uiComponents&&t(a.data.project.uiComponents)}catch(a){console.error("Error fetching project components:",a)}})()},[n]);const i=[{name:"Headers",items:Iv,type:"header"},{name:"Hero Sections",items:[{name:"Hero 1",folder:"Hero1"},{name:"Hero 2",folder:"Hero2"},{name:"Hero 3",folder:"Hero3"},{name:"Hero 4",folder:"Hero4"},{name:"Hero 5",folder:"Hero5"},{name:"Hero 6",folder:"Hero6"}],type:"hero"},{name:"Footers",items:[{name:"Footer 1",folder:"footer-1"},{name:"Footer 2",folder:"footer-2"},{name:"Footer 3",folder:"footer-3"},{name:"Footer 4",folder:"footer-4"}],type:"footer"}],s=(o,a,l)=>{o.target.checked?t(c=>({...c,[l]:a})):t(c=>({...c,[l]:null}))},r=async()=>{const o={header:e.header?e.header.name:null,hero:e.hero?e.hero.name:null,footer:e.footer?e.footer.name:null};console.log("Saving components:",o);try{const a=await ke.put(`http://localhost:5000/api/projects/${n}/ui-components`,{uiComponents:o});console.log("Backend response:",a.data),console.log("Updated project:",a.data.project),console.log("UI Components:",a.data.project.uiComponents),console.log("Header:",a.data.project.uiComponents.header),console.log("Hero:",a.data.project.uiComponents.hero),console.log("Footer:",a.data.project.uiComponents.footer),alert("Template saved successfully!")}catch(a){console.error("Error saving template:",a)}};return v.jsx(q9,{backend:uU,children:v.jsxs("div",{className:"flex h-screen mt-[100px] ml-[200px] text-neutral-900",children:[v.jsxs("div",{className:"w-1/5 bg-gray-200 p-4",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Components"}),i.map(o=>v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.name}),v.jsx("div",{children:o.items.map((a,l)=>{var c;return v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("input",{type:"radio",id:`${o.name}-${l}`,name:o.type,className:"mr-2",onChange:u=>s(u,a,o.type),checked:((c=e[o.type])==null?void 0:c.name)===a.name}),v.jsx("label",{htmlFor:`${o.name}-${l}`,className:"cursor-pointer",children:a.name})]},l)})})]},o.name))]}),v.jsxs("div",{className:"flex-1 p-4",children:[v.jsx(hU,{components:e}),v.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md",children:"Save Template"})]})]})})},fU=un(dU),pU=()=>{const[n,e]=R.useState({username:"",password:""}),[t,i]=R.useState(!1),[s,r]=R.useState(""),[o,a]=R.useState(""),l=gr(),c=f=>{e({...n,[f.target.name]:f.target.value})},u=async f=>{f.preventDefault();try{const p=await fetch("http://localhost:5000/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(p.ok){const g=await p.json();console.log(g),g.tokens?(localStorage.setItem("token",g.tokens.accessToken),localStorage.setItem("refreshToken",g.tokens.refreshToken),l("/dashboard")):console.error("Tokens not found in response data")}else if(p.status===400){const g=await p.json();console.error("Login failed:",g.message)}else console.error("Login failed with status:",p.status)}catch(p){console.error("Error:",p)}},h=async f=>{f.preventDefault();try{(await fetch("http://localhost:5000/api/forgot-password",{method:"POST",body:JSON.stringify({email:s}),headers:{"Content-Type":"application/json"}})).ok?a("Password reset link sent to your email."):a("Failed to send reset link.")}catch{a("Error occurred while sending reset link.")}};return v.jsxs("div",{className:"flex justify-center items-center h-screen text-neutral-900",children:[v.jsxs("form",{onSubmit:u,className:"w-full max-w-md p-8 bg-white rounded-md shadow-md",children:[v.jsx("div",{className:"flex justify-center items-center",children:v.jsx("img",{className:"h-10 w-10 justify-center mb-2",src:cu,alt:"Logo"})}),v.jsxs("h2",{className:"text-2xl font-semibold mb-6 text-center",children:["Log In to"," ",v.jsx("span",{className:"text-transparent tracking-tight bg-gradient-to-r from-purple-500 to-purple-950 bg-clip-text",children:"TexFramer"})]}),v.jsx("input",{type:"text",name:"username",value:n.username,onChange:c,placeholder:"Username",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("input",{type:"password",name:"password",value:n.password,onChange:c,placeholder:"Password",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("button",{type:"submit",className:"w-full p-2 bg-blue-500 text-white rounded",children:"Log In"}),v.jsxs("p",{className:"mt-4 text-center",children:["Don't have an account?"," ",v.jsx("span",{onClick:()=>l("/signup"),className:"text-blue-500 cursor-pointer",children:"Sign Up"})]}),v.jsx("p",{className:"mt-2 text-center",children:v.jsx("span",{onClick:()=>i(!0),className:"text-blue-500 cursor-pointer",children:"Forgot Password?"})})]}),t&&v.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50",children:v.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Reset Password"}),v.jsx("input",{type:"email",name:"email",value:s,onChange:f=>r(f.target.value),placeholder:"Enter your email",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("button",{onClick:h,className:"w-full p-2 bg-blue-500 text-white rounded",children:"Send Reset Link"}),v.jsx("p",{className:"mt-4 text-center",children:o}),v.jsx("button",{onClick:()=>i(!1),className:"mt-4 w-full p-2 bg-gray-500 text-white rounded",children:"Close"})]})})]})},gU=()=>{const[n,e]=R.useState({email:"",username:"",password:"",firstName:"",lastName:""}),t=gr(),i=r=>{e({...n,[r.target.name]:r.target.value})},s=async r=>{r.preventDefault();try{const o=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(o.ok){const a=await o.json();console.log("Registration successful:",a)}else console.error("Registration failed with status:",o.status)}catch(o){console.error("Error:",o)}};return v.jsx("div",{className:"flex justify-center items-center h-screen text-neutral-900",children:v.jsxs("form",{onSubmit:s,className:"w-full max-w-md p-8 bg-white rounded-md shadow-md",children:[v.jsx("div",{className:"flex justify-center items-center",children:v.jsx("img",{className:"h-10 w-10 justify-center mb-2",src:cu,alt:"Logo"})}),v.jsxs("h2",{className:"text-2xl font-semibold mb-6 text-center",children:["Sign Up to ",v.jsx("span",{className:"text-transparent tracking-tight bg-gradient-to-r from-purple-500 to-purple-950 bg-clip-text",children:"TexFramer"})]}),v.jsx("input",{type:"text",name:"email",value:n.email,onChange:i,placeholder:"Email Address",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("input",{type:"text",name:"username",value:n.username,onChange:i,placeholder:"Username",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("input",{type:"password",name:"password",value:n.password,onChange:i,placeholder:"Password",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:i,placeholder:"First Name",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:i,placeholder:"Last Name",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0}),v.jsx("button",{type:"submit",className:"w-full p-2 bg-blue-500 text-white rounded",children:"Register"}),v.jsxs("p",{className:"mt-4 text-center",children:["Already have an account? ",v.jsx("span",{onClick:()=>t("/login"),className:"text-blue-500 cursor-pointer",children:"Log In"})]})]})})},mU=()=>{const{token:n}=x1(),[e,t]=R.useState(""),[i,s]=R.useState(""),[r,o]=R.useState(""),a=async l=>{if(l.preventDefault(),e!==i){o("Passwords do not match");return}try{const c=await ke.post(`http://localhost:5000/api/reset-password/${n}`,{password:e,confirmPassword:i});o(c.data.message)}catch{o("Error resetting password")}};return v.jsxs("div",{className:"flex justify-center items-center h-screen text-neutral-900",children:[v.jsx("h1",{children:"Reset Password"}),v.jsxs("form",{onSubmit:a,className:"w-full max-w-md p-8 bg-white rounded-md shadow-md",children:[v.jsxs("div",{className:"flex flex-row justify-center items-center",children:[v.jsx("img",{className:"h-10 w-10 justify-center mb-2",src:cu,alt:"Logo"}),v.jsx("h1",{className:"text-xl font-semibold text-transparent tracking-tight bg-gradient-to-r from-purple-500 to-purple-950 bg-clip-text",children:"TexFramer"})]}),v.jsx("h2",{className:"text-2xl font-thinbold mb-6 text-center",children:"Reset Password "}),v.jsxs("label",{children:["New Password:",v.jsx("input",{type:"password",value:e,onChange:l=>t(l.target.value),placeholder:"New Password",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0})]}),v.jsx("br",{}),v.jsxs("label",{children:["Confirm New Password:",v.jsx("input",{type:"password",value:i,onChange:l=>s(l.target.value),placeholder:" Confirm New Password",className:"w-full p-2 mb-4 border rounded bg-neutral-200",required:!0})]}),v.jsx("br",{}),v.jsxs("div",{className:"flex flex-col justify-center",children:[v.jsx("button",{type:"submit",className:" p-2 bg-blue-500 text-white rounded",children:"Reset Password"}),r&&v.jsx("p",{children:r})]})]})]})},yU=()=>v.jsx(bD,{children:v.jsxs(dD,{children:[v.jsx(Je,{path:"/",element:v.jsx(TN,{})}),v.jsx(Je,{path:"/documentation",element:v.jsx(RN,{})}),v.jsx(Je,{path:"/dashboard",element:v.jsx(zj,{})}),v.jsx(Je,{path:"/profile",element:v.jsx(Bj,{})}),v.jsx(Je,{path:"/analytics",element:v.jsx(mB,{})}),v.jsx(Je,{path:"/settings",element:v.jsx($j,{})}),v.jsx(Je,{path:"/assetlibrary",element:v.jsx(M5,{})}),v.jsx(Je,{path:"/projects",element:v.jsx(D5,{})}),v.jsx(Je,{path:"/projects/:projectId",element:v.jsx(kB,{})}),v.jsx(Je,{path:"/projects/create-project",element:v.jsx(RB,{})}),v.jsx(Je,{path:"/documentations",element:v.jsx(Wj,{})}),v.jsx(Je,{path:"/helpandsupport",element:v.jsx(Xj,{})}),v.jsx(Je,{path:"/componentslibrary",element:v.jsx(xB,{})}),v.jsx(Je,{path:"/headers",element:v.jsx(vB,{})}),v.jsx(Je,{path:"/herosections",element:v.jsx(_B,{})}),v.jsx(Je,{path:"/footers",element:v.jsx(EB,{})}),v.jsx(Je,{path:"/canvas/:id",element:v.jsx(fU,{})}),v.jsx(Je,{path:"/login",element:v.jsx(pU,{})}),v.jsx(Je,{path:"/signup",element:v.jsx(gU,{})}),v.jsx(Je,{path:"/reset-password/:token",element:v.jsx(mU,{})})]})});Hy.createRoot(document.getElementById("root")).render(v.jsxs(aI,{domain:"dev-6itxwndrgzi5njtk.us.auth0.com",clientId:"Nn6YZtXwpvZEt6a1t10gfBNjSCDsgx4l",authorizationParams:{redirect_uri:window.location.origin},children:[v.jsx(TB,{children:v.jsx(Ij,{children:v.jsx(yU,{})})}),","]}));
